{"version":3,"file":"bundle.js","mappings":"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gCAAgC,GAAG,uBAAuB,WAAW,6HAA6H,OAAO,mBAAmB,qBAAqB,WAAW,2DAA2D,yBAAyB,uBAAuB,cAAc;;;;;;;;;ACT58C;;AAEb;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,4BAA4B;AAChD;AACA;AACA;AACA;AACA;AACA,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACnFa;;AAEb;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACjCa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACTa;;AAEb;AACA;AACA,cAAc,KAAwC,GAAG,sBAAiB,GAAG,CAAI;AACjF;AACA;AACA;AACA;AACA;;;;;;;;ACTa;;AAEb;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA,iFAAiF;AACjF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,yDAAyD;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC5Da;;AAEb;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACbA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;;;;;;;;;;;;ACAkC;;AAE3B;;AAEP,WAAW,cAAc;AAClB,IAAI,eAAG,GAAG,6GAA6D;;AAEvE,IAAI,eAAG,GAAG,oGAAoD;;AAErE;AACA,cAAc,MAAM;AACb;AACP,CAAC,eAAG;AACJ;;AAEA,cAAc,MAAM;AACb;AACP,CAAC,eAAG;AACJ;;;AClBuC;;AAEvC;;AAEA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACO;AACP;AACA;;AAEA;AACA;AACA;AACA,WAAW,qCAAqC;AAChD,aAAa;AACb;AACO,SAAS,SAAI;AACpB,YAAY,kCAAkC;AAC9C;AACA;AACA;AACA;AACA,uBAAuB,yBAAyB;AAChD,GAAG;AACH;AACA;AACA;AACA;AACA;;;AC5CA,WAAW,mBAAmB;AACvB;AACP;AACA;AACA;AACA;AACA;AACA;;;ACPuC;;AAEvC;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,WAAW;AACX;AACA,cAAc,oBAAoB;;AAElC;AACA;AACA,WAAW;AACX;AACA;;AAEA,YAAY,uBAAuB;AACnC;;AAEA,aAAa,uBAAuB;AACpC;AACA;AACA;;AAEA;AACA,YAAY,SAAS;AACrB,YAAY,iCAAiC;AAC7C,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA,kCAAkC,oBAAoB;;;AC5DtD,cAAc,MAAM;AACb,SAAS,UAAI;;AAEb;;AAEP;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,aAAa;AACb;AACO,SAAS,YAAM;AACtB;AACA;AACA,mBAAmB,OAAO;AAC1B;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa;AACb;AACO,SAAS,gBAAU;AAC1B;AACA;AACA;AACA,qBAAqB,KAAK;AAC1B;AACA;;AAEA,cAAc,MAAM;AACb;AACP;AACA,SAAS;AACT;AACA;;AAEO;AACP;AACA;;AAEO,SAAS,kBAAY;AAC5B;AACA;;AAEA;AACA,WAAW,YAAY;AACvB,aAAa;AACb;AACO,SAAS,aAAO;AACvB;AACA;;AAEA;AACA,WAAW,KAAK;AAChB,aAAa;AACb;AACO,SAAS,iBAAW;AAC3B;AACA;;AAEA,cAAc,SAAS;AAChB;AACP;AACA;;AAEA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY,QAAQ;AACpB;AACA;AACA;;AAEA;AACA,WAAW,sCAAsC;AACjD,WAAW,2BAA2B;AACtC,aAAa;AACb;AACO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,SAAS;AAChB;AACP;AACA;;AAEA,cAAc,SAAS;AAChB;AACP;AACA;;AAEA,cAAc,MAAM;AACb;AACP;AACA,sBAAsB,KAAK;AAC3B;AACA;;AAEO,SAAS,eAAS;AACzB;AACA;AACA;AACA;AACA,SAAS,UAAI;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,0CAA0C;AACrD,aAAa;AACb;AACO;AACP;AACA,CAAC,eAAS;AACV;AACA;;AAEA,cAAc,MAAM;AACb;AACP,8BAA8B,eAAS;AACvC;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,YAAM;AACpC;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,MAAM;AACb;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,MAAM;AACb;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,YAAY;AACnB;AACP;AACA;AACA;AACA,kBAAkB,YAAY;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AACX;AACP;AACA;AACA;AACA;;AAEA,kBAAkB;AACX;AACP;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AACX;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,qCAAqC;AAC5C;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA;;AAEO;;AAEA;AACP,yBAAyB,iBAAW,kDAAkD,UAAI;AAC1F;;AAEA,YAAY,iBAAiB;AAC7B,aAAa;AACb;AACO;AACP;AACA,uEAAuE,QAAQ;AAC/E;;AAEO,MAAM,mCAA6B,GAAG,wFAAwC;;;AClSd;AACF;AACrE;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACO;AACP;AACA;;AAEA;AACA,aAAa;AACb;AACO;AACP;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,2BAA2B;AACtC,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA,2BAA2B,oBAAoB;AAC/C;AACA;AACA;AACA,kBAAkB,qBAAqB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA,WAAW;AACX;AACA;AACA;AACA,gCAAgC,UAAU;AAC1C;AACA,SAAS,aAAa;AACtB;AACA;AACA;AACA;AACA,QAAQ,WAAW;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa;AACb;AACO;AACP;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa;AACb;AACO;AACP,0BAA0B,sBAAkB;AAC5C;AACA,gBAAgB,WAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,aAAa;AACb;AACO,SAAS,sBAAkB;AAClC;AACA;AACA,wBAAwB,YAAY;AACpC,oBAAoB,YAAY;AAChC;AACA;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,aAAa;AACb;AACO,SAAS,2BAAuB;AACvC,uBAAuB,WAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sBAAkB;AACrC;AACA;;AAEA;AACA,WAAW,uBAAuB;AAClC,WAAW,kBAAkB;AAC7B,aAAa;AACb;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa;AACb;AACO,SAAS,oBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa;AACb;AACO;AACP;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa;AACb;AACO,SAAS,oBAAgB;AAChC;AACA,EAAE,oBAAgB;AAClB,GAAG;AACH;AACA;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,aAAa;AACb;AACO,SAAS,UAAM;AACtB;AACA;AACA;AACA;;AAEA;AACA,aAAa,MAAM;AACZ;AACP,iBAAiB,uBAAuB;AACxC;AACA;AACA;;AAEA;AACA,cAAc,6BAA6B;AAC3C,WAAW,GAAG;AACd,aAAa;AACb;AACO,SAAS,WAAO;AACvB;AACA;;AAEA;AACA,cAAc,6BAA6B;AAC3C,WAAW,GAAG;AACd,WAAW,QAAQ;AACnB,aAAa;AACb;AACO;AACP,uCAAuC,IAAI;AAC3C;;AAEA;AACA;AACA,cAAc,SAAS;AACvB,WAAW,GAAG;AACd,WAAW,KAAK;AAChB,aAAa;AACb;AACO;AACP,2BAA2B,8BAA8B,MAAM;AAC/D;AACA;AACA,GAAG,QAAQ;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,4BAA4B;AAC1C,WAAW,GAAG;AACd,aAAa;AACb;AACO;AACP;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACO,SAAS,QAAI;AACpB;AACA;;AAEA;AACA,aAAa,MAAM;AACZ;AACP,QAAQ,QAAI;AACZ;;AAEA;AACA,aAAa,MAAM;AACZ;AACP,QAAQ,QAAI;AACZ;;AAEA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACO;AACP;AACA;;AAEA;AACA,WAAW,aAAa;AACxB,WAAW,QAAQ;AACnB,WAAW,oCAAoC;AAC/C,WAAW,0DAA0D;AACrE,aAAa;AACb;AACO;AACP;AACA;AACA;;AAEA;AACA,aAAa,qBAAqB;AAC3B;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,qBAAqB;AAC3B;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,qBAAqB;AAC3B;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,sBAAsB;AAC5B,SAAS,QAAI;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,sBAAsB;AAC5B;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,iCAAiC;AAC5C,aAAa,uBAAuB;AACpC,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ,cAAc,KAAK;AACnB,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA,WAAW,iCAAiC;AAC5C,aAAa,uBAAuB;AACpC,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;;AAEA;AACA,WAAW,yBAAyB;AACpC,aAAa;AACb;AACO;AACP;AACA;AACA,EAAE;AACF;;AAEA;AACA,aAAa,MAAM;AACZ;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB;AACO;AACP;AACA;;AAEA;AACA,aAAa;AACb;AACO;AACP;AACA;;AAEA;AACA,WAAW,aAAa;AACxB,aAAa;AACb;AACO;AACP;AACA;;AAEA;AACA,aAAa,WAAW;AACjB;AACP;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,oBAAoB;AAC/B,eAAe,wCAAwC;AACvD;AACO;AACP;AACA,WAAW,oBAAoB;AAC/B;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,UAAU;AACrB,eAAe,gCAAgC,wCAAwC;AACvF;AACO;AACP;AACA,WAAW,oBAAoB;AAC/B;;AAEA;AACA,WAAW,oBAAoB;AAC/B;;AAEA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;;AAEA;AACA,cAAc,MAAM;AACpB;AACA;AACA;;AAEA;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA,cAAc,QAAQ;AACf;AACP;AACA;;AAEA,cAAc,OAAO;AACd;AACP;AACA,iBAAiB,mBAAmB;AACpC,eAAe,4CAA4C;AAC3D;AACA;AACA;;AAEA;AACA,WAAW,SAAS;AACpB,aAAa;AACb;AACO;AACP;AACA;;AAEA;AACA,WAAW,gBAAgB;AAC3B,aAAa;AACb;AACA;AACA;AACA,uBAAuB;AACvB;AACA;;AAEA;AACA,cAAc,aAAa;AAC3B,WAAW,gBAAgB;AAC3B,WAAW,kCAAkC;AAC7C,WAAW,gDAAgD;AAC3D,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,kBAAkB;AAC9D;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,QAAQ;AACxD;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA,WAAW,gBAAgB;AAC3B,WAAW,QAAQ;AACnB,aAAa,0BAA0B;AACvC,WAAW,wCAAwC;AACnD,aAAa;AACb;AACA;AACA;AACA;AACA,gBAAgB,8BAA8B;AAC9C;AACA,cAAc,SAAS;AACvB;AACA;AACA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,WAAW,gBAAgB;AAC3B,WAAW,QAAQ;AACnB,aAAa,0BAA0B;AACvC,aAAa;AACb;AACO;AACP,oDAAoD,WAAO;AAC3D;;AAEA;AACA,WAAW,gBAAgB;AAC3B,WAAW,QAAQ;AACnB,aAAa,0BAA0B;AACvC,aAAa;AACb;AACO;AACP;AACA;;AAEA;AACA,WAAW,gBAAgB;AAC3B,aAAa;AACb;AACO;AACP;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH,QAAQ,QAAI;AACZ;AACA;AACA;;AAEA;AACA,aAAa,MAAM;AACZ;AACP;AACA;;AAEA;AACA,WAAW,gBAAgB;AAC3B,aAAa;AACb;AACO;AACP;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA,cAAc,SAAS;AACvB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,kBAAkB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,SAAS;AACpB,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC,UAAM;AACP,CAAC,UAAM;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa;AACb;AACO;AACP;AACA;AACA,wBAAwB,QAAQ;AAChC;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa;AACb;AACO;AACP;AACA;AACA,wBAAwB,QAAQ;AAChC;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,aAAa;AACb;AACO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,aAAa,MAAM;AACZ;AACP;AACA;;AAEA;AACA,aAAa,MAAM;AACZ;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,aAAa,MAAM;AACZ;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,aAAa,MAAM;AACZ;AACP,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;;AAEA;AACA,aAAa,MAAM;AACZ;AACP,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEA;AACA,UAAU,SAAS;AACnB;;AAEA;AACA,aAAa,SAAS;AACf;AACP;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,aAAa;AACxB,WAAW,YAAY;AACvB,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;AACA,gBAAgB,WAAO;AACvB;AACA;AACA,mBAAmB,oBAAoB,QAAQ,SAAS,aAAa,cAAc;AACnF,sBAAsB,WAAW,YAAY,sBAAsB,YAAY;AAC/E;AACA;AACA;AACA;;AAEA;AACA,WAAW;AACX;AACA;AACA;AACA,2DAA2D,0BAA0B;AACrF;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE,UAAM;AACR;AACA;AACO,wDAAwD,uBAAuB;AACtF;AACA,CAAC;AACM,uDAAuD,uBAAuB;AACrF;AACA,CAAC;AACM,qEAAqE,uBAAuB;AACnG,GAAG;AACH;AACmC;;AAEnC;AACA,aAAa,MAAM;AACZ;AACP;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,2CAA2C;AACxD,aAAa;AACb;AACO,SAAS,gBAAY,iBAAiB,sCAAsC,IAAI;AACvF,gCAAgC,6BAA6B;AAC7D;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,aAAa;AACxB,aAAa;AACb;AACO;AACP;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,aAAa;AACxB,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;AACA;AACA,2BAA2B,OAAO;AAClC;AACA;AACA,KAAK,6BAA6B,OAAO;AACzC;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY,QAAQ;AACpB,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,YAAY,QAAQ;AACpB,YAAY,0BAA0B;AACtC,YAAY,0BAA0B;AACtC,cAAc;AACd;AACA;AACA;AACA;AACA,oCAAoC,4BAA4B;AAChE;AACA,aAAa,WAAO;AACpB,gBAAgB,6BAA6B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,qBAAqB;AACvC;AACA;AACA;AACA;;AAEA;AACA,YAAY,QAAQ;AACpB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,MAAM;AACpB;AACA,kBAAkB,mBAAmB;AACrC;AACA;AACA;;AAEA;AACA,YAAY,QAAQ;AACpB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,MAAM;AACpB;AACA,iBAAiB,UAAM;AACvB;AACA;;AAEO,+BAA+B,uDAAO;AAC7C,YAAY,WAAW;AACvB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY,QAAQ;AACpB,cAAc;AACd;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA,cAAc,MAAM;AACpB;AACA,kBAAkB,mBAAmB;AACrC,GAAG,oBAAgB;AACnB;AACA;AACA;;AAEA;AACA,WAAW,cAAc;AACzB;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,aAAa;AACxB;AACA;AACO;AACP;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA,cAAc,oBAAoB;;AAElC,cAAc,WAAW,uBAAuB;;AAEhD;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,MAAM;AACN;;;AC5rC+E;AACxC;;AAEvC;AACA;AACA,WAAW,uEAAuE;AAClF;;AAEA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,uBAAuB;AAClC,WAAW,iCAAiC;AAC5C,eAAe,iBAAiB;AAChC;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA,WAAW,iCAAiC;AAC5C,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,uBAAuB;AAClC,WAAW,kCAAkC;AAC7C,WAAW,QAAQ;AACnB,aAAa;AACb;AACO,SAAS,yBAAW;AAC3B;AACA,mBAAmB;AACnB,iBAAiB,QAAQ;AACzB;AACA,4BAA4B,EAAE,cAAc;AAC5C;AACA,iCAAiC,EAAE,cAAc,GAAG;AACpD,0BAA0B,WAAW,GAAG,IAAI;AAC5C;AACA,SAAS,oBAAoB;AAC7B;AACA;AACA,sCAAsC,MAAM,EAAE,KAAK;AACnD;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B,EAAE,EAAE,MAAM,EAAE,SAAS,YAAY,MAAM;AACvC;AACA;AACA;;AAEA;AACA,WAAW,iCAAiC;AAC5C,WAAW,QAAQ;AACnB,aAAa;AACb;AACO,SAAS,yBAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,MAAM;AACb;AACP;AACA;AACA;AACA,WAAW,YAAY;AACvB;AACA;AACA,GAAG;AACH;AACA,EAAE;AACF;;;AClGsD;AACf;AACN;AAC6B;;AAE9D;AACA,WAAW,iCAAiC;AAC5C,WAAW,qCAAqC;AAChD,WAAW,oCAAoC;AAC/C;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,aAAa,UAAU;AAC1B;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA,WAAW,iCAAiC;AAC5C,aAAa;AACb;AACO;AACP;AACA;AACA,UAAU,gBAAgB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,iCAAiC;AAC5C,WAAW,qCAAqC;AAChD,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;AACA,4BAA4B,WAAW,YAAY,gBAAgB,MAAM,cAAc;AACvF;AACA;;;ACnGwC;;AAEjC,IAAI,2BAAiB;;AAE5B,cAAc,MAAM;AACb,SAAS,+BAAqB;AACrC,CAAC,2BAAiB;AAClB;;AAEO,SAAS,+BAAqB;AACrC,MAAM,2BAAiB;AACvB,QAAQ,2BAAiB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,aAAa;AACb;AACO;AACP,CAAC,+BAAqB;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,4GAA4G;AACvH,aAAa;AACb;AACO;AACP,CAAC,+BAAqB;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,aAAa;AACb;AACO;AACP,CAAC,+BAAqB;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,aAAa;AACb;AACO;AACP,CAAC,+BAAqB;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,oBAAoB;AACpB,6BAA6B;AAC7B,IAAI;AACJ;AACA;AACA;AACA,cAAc,qBAAqB;AACnC,aAAa;AACb;AACO;AACP,mBAAmB,+BAAqB;AACxC,yBAAyB,qBAAqB,IAAI;AAClD;AACA;AACA;AACA;AACA,yCAAyC,QAAQ,qBAAqB,YAAY;AAClF;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,GAAG;AACd,aAAa;AACb;AACO;AACP,CAAC,+BAAqB;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa;AACb;AACO;AACP,QAAQ,+BAAqB;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,eAAe;AAC7B,aAAa;AACb;AACO;AACP,QAAQ,+BAAqB;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa;AACb;AACO;AACP,QAAQ,+BAAqB;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;AACA;AACA;;;ACtLqC;AACqC;;AAEnE;AACA,iBAAiB;AACjB;;AAEP;;AAEA;;AAEA;;AAEA;;AAEA,cAAc,MAAM;AACb;AACP;AACA;AACA,wBAAwB,eAAK;AAC7B;AACA;;AAEA,cAAc,eAAe;AACtB;AACP;AACA;AACA;;AAEA,cAAc,MAAM;AACb,SAAS,6BAAmB;AACnC;AACA;;AAEA,cAAc,MAAM;AACb;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;;AAEA,kBAAkB;;AAElB,cAAc,MAAM;AACb,SAAS,eAAK;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,2BAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,+BAAqB;AACzB;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,EAAE,+BAAqB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,6BAA6B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,CAAC,+BAAqB;AACtB;;AAEA,cAAc,MAAM;AACpB;AACA;AACA;AACA,EAAE,aAAO;AACT;AACA;AACA;AACA,0BAA0B,6BAAmB;AAC7C;AACA;;AAEA;AACA;AACA,WAAW,YAAY;AACvB,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;AACA;AACA;;;ACtI4E;AACrC;AACN;AAC6B;AACtB;AACa;;AAErD;AACA,UAAU;AACV;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,WAAW,SAAS;AACpB,WAAW,yBAAyB;AACpC,WAAW,iBAAiB;AAC5B,aAAa;AACb;AACA;AACA,oCAAoC,8BAA8B,EAAE,KAAK;AACzE;;AAEA;;AAEA;AACA,UAAU;AACV;AACA;;AAEA;AACA,aAAa,MAAM;AACZ,SAAS,wBAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,MAAM;AACZ,SAAS,wBAAY;AAC5B;AACA,EAAE,aAAO;AACT;AACA;AACA;;AAEA;AACA,WAAW,iCAAiC;AAC5C,WAAW,OAAO;AAClB,aAAa;AACb;AACO,SAAS,yBAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,iCAAiC;AAC5C,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,YAAY;AACvB,aAAa;AACb;AACO,SAAS,0BAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA,0BAA0B;;AAE1B;AACA,WAAW,iCAAiC;AAC5C,WAAW,cAAc;AACzB,WAAW,KAAK;AAChB,eAAe,eAAe,oBAAoB;AAClD;AACO;AACP;AACA,WAAW,mBAAmB;AAC9B,mBAAmB;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,MAAM;AACpB;AACA;AACA;;AAEA;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,iCAAiC;AAC5C,WAAW,cAAc;AACzB,WAAW,KAAK;AAChB,eAAe;AACf;AACO;AACP,YAAY,mBAAmB;AAC/B,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;;AAEA;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;;AAEA;AACA;AACA;;AAEA;AACA,qCAAqC,aAAa;AAClD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,iCAAiC;AAC5C,WAAW,cAAc;AACzB,WAAW,KAAK;AAChB,WAAW,SAAS;AACpB,eAAe,qBAAqB;AACpC;AACO;AACP;AACA,WAAW,mBAAmB;AAC9B,mBAAmB;AACnB;AACA;;AAEA;AACA,WAAW,gBAAgB;AAC3B;;AAEA;AACA,WAAW,uBAAuB;AAClC;AACA;;AAEA,YAAY,SAAS;AACrB;;AAEA;AACA,cAAc,MAAM;AACpB;AACA;AACA;;AAEA;AACA,YAAY,gBAAgB;AAC5B,YAAY,QAAQ;AACpB,cAAc;AACd;AACA;AACA,uBAAuB,cAAc;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY,eAAe;AAC3B,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,sCAAsC,aAAa;AACnD;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,GAAG;AACjB,cAAc,GAAG;AACjB,gBAAgB,oCAAoC;AACpD,cAAc,gHAAgH;;AAE9H;AACA,aAAa,QAAQ;AACrB,cAAc,QAAQ;AACtB,cAAc,YAAY;AAC1B,cAAc,QAAQ;AACtB;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc,QAAQ;AACtB,cAAc,aAAa;AAC3B,cAAc,OAAO;AACrB;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc,QAAQ;AACtB,cAAc,aAAa;AAC3B,cAAc,MAAM;AACpB,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB,cAAc,OAAO;AACrB;;;AC5cwC;AACqD;AACtD;AACuC;;AAE9E;AACA;AACA,WAAW,YAAY;AACvB,WAAW,uCAAuC;AAClD,aAAa;AACb;AACO;AACP,+BAA+B;AAC/B;AACA,YAAY,wCAAwC;AACpD,YAAY,WAAW;AACvB,YAAY,QAAQ;AACpB,YAAY,KAAK;AACjB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,6BAA6B,GAAG;AAChC;AACA;;AAEA,cAAc,MAAM;AACb;AACP;AACA,SAAS,WAAW;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACnGiE;AAC5B;;AAErC;;AAEO,SAAS,sBAAiB;AACjC;AACA;AACA;AACA;;AAEA;;AAEA,cAAc,MAAM;AACb;AACP;AACA;AACA;;AAEA,cAAc,MAAM;AACb;AACP;AACA;AACA,EAAE;AACF;;AAEA,cAAc,MAAM;AACb;AACP;AACA;AACA;;AAEA,cAAc,MAAM;AACb;AACP;AACA;AACA;;AAEA,cAAc,OAAO;AACd;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,MAAM;AACb;AACP;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA,2BAA2B,YAAY;AACvC,KAAK;AACL;AACA;AACA;AACA,iEAAiE;AACjE;AACA,OAAO,MAAM,GAAG,EAAE,MAAM;AACxB;AACA;AACA;AACA;AACA;;;AC9IA,kBAAkB;AACX;AACP;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;;AClCA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACO,MAAM,qCAAkB;;AAE/B,cAAc,oCAAoC;;;ACpCwB;AACvB;AACqB;AAC1B;AACQ;;AAE/C;AACP,aAAa,KAAK,IAAI,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,OAAO,GAAG,OAAO;AAC7U;AACA;;AAEA,cAAc,QAAQ;AACf;AACP,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,cAAc,KAAK,IAAI,MAAM;AAC7B;AACA,EAAE;AACF;AACA;;AAEA,kBAAkB;AACX;AACP;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa;AACb;AACO,SAAS,UAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,wBAAwB,SAAS;AAC3F;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,wBAAwB,UAAM;AAC9B;;AAEA,kBAAkB;AACX;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,QAAQ;AACf;AACP;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA,mDAAmD,IAAI;AACvD;AACA,OAAO,KAAK,oMAAoM,KAAK;AACrN;AACA;AACA;AACA;;AAEA,cAAc,QAAQ;AACf;AACP,eAAe,QAAQ,EAAE,uBAAuB,GAAG,KAAK,GAAG,OAAO,KAAK;AACvE,sBAAsB;AACtB;AACA;;AAEA;;AAEA,gBAAgB,mBAAmB,IAAI,kBAAkB,KAAK,cAAc,0BAA0B,OAAO,WAAW,OAAO,cAAc,aAAa,iBAAiB,wFAAwF;AAC5P;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,qBAAqB,IAAI,YAAY,wBAAwB,IAAI;AACjE;AACA,oBAAoB;AACpB,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA,cAAc,QAAQ;AACf;AACP;AACA,0DAA0D,UAAM,cAAc;AAC9E,YAAY,KAAK,EAAE,WAAW;AAC9B;;AAEA,cAAc,QAAQ;AACf;AACP,6BAA6B,QAAQ;AACrC;;AAEA,cAAc,QAAQ;AACtB;AACA;AACA;AACA,mBAAmB,IAAI,IAAI,2CAA2C;AACtE;AACA;;AAEA,cAAc,QAAQ;AACf;AACP;AACA,4BAA4B,OAAO;AACnC;;;ACtMwB;AACkD;AACW;AAUnE;AAC+B;;AAEjD,cAAc,MAAM;AACb;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,MAAM;AACb;AACP;AACA;;AAEA,cAAc,MAAM;AACb;AACP;AACA;;AAEA,cAAc,MAAM;AACb;AACP,SAAS,yBAAyB;AAClC;AACA;AACA,CAAC,6BAAmB;AACpB,mDAAmD,GAAG,SAAS,iBAAW;AAC1E;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG,aAAO;AACV;AACA;AACA,EAAE;AACF,sBAAsB,6BAAmB;AACzC;;AAEA,cAAc,MAAM;AACb;AACP;AACA;AACA,EAAE,sBAAsB;AACxB,EAAE,aAAO;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,MAAM;AACpB;AACA;AACA,EAAE,gBAAgB;AAClB,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA,cAAc,MAAM;AACb;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,2BAAiB;AAC3C,CAAC,+BAAqB;AACtB,YAAY,4BAA4B;AACxC;AACA;AACA;AACA;AACA;AACA,UAAU,UAAI;AACd;AACA,SAAS,kBAAY;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,kBAAY;AACzB;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC,aAAO;AACR;AACA;AACA;AACA;AACA,GAAG,eAAe;AAClB,iBAAiB,QAAQ;AACzB;AACA;AACA,iBAAiB,UAAM;AACvB,IAAI;AACJ;AACA;AACA;AACA,qBAAqB,yBAAa;AAClC;AACA,EAAE,aAAa;AACf,EAAE,eAAK;AACP;AACA,CAAC,+BAAqB;AACtB;;AAEO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,6CAA6C;AAC1D;AACA,aAAa,4BAA4B;AACzC;AACA,aAAa,yBAAyB;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA,wBAAwB,cAAc;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAO;AACtB;AACA,SAAS,IAAI;AACb;AACA,QAAQ;AACR;AACA,kBAAkB,aAAa;AAC/B,kBAAkB,aAAa;AAC/B;AACA;AACA,QAAQ,MAAM;AACd,QAAQ;AACR;AACA;AACA,SAAS,UAAM;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,yBAAyB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,wBAAwB;AAC5C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,KAAK;AAChB,WAAW,6CAA6C;AACxD,WAAW,0BAA0B;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,qCAAqC;AAChD,WAAW,6CAA6C;AACxD,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,SAAS;AACpB,WAAW,sDAAsD;AACjE;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,qBAAqB,eAAe;AACpC;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA,gCAAgC,KAAK;AACrC;AACA;;AAEA;AACA;AACA;AACA,cAAc,qBAAqB;AACnC,cAAc,qBAAqB;AACnC;AACO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA,eAAe,MAAM;AACrB;AACA;AACA,kBAAkB,UAAI;AACtB;;AAEA;AACA,eAAe,+BAA+B;AAC9C,YAAY,GAAG;AACf,YAAY,6CAA6C;AACzD,cAAc;AACd;AACA;AACA,OAAO,iBAAW;AAClB,UAAU,UAAI;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY,gBAAgB;AAC5B,cAAc;AACd;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc,QAAQ;AACtB,cAAc,SAAS;AACvB,cAAc,8CAA8C;AAC5D;;;ACnfA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACO;AACA;;;ACAW;AAC+B;AACK;AACJ;AACS;AACb;;AAE9C;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa;AACb;AACO;AACP,wBAAwB,gBAAY,SAAS,SAAS,OAAO,aAAa,IAAI,eAAe;AAC7F;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa;AACb;AACO;AACP,mCAAmC,cAAc;AACjD,CAAC,MAAM;AACP;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa;AACb;AACO;AACP,mCAAmC,cAAc;AACjD;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa;AACb;AACO;AACP,mCAAmC,sBAAsB;AACzD,CAAC,MAAM;AACP;;AAEA,YAAY,MAAM;AAClB,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa;AACb;AACO;AACP,mCAAmC,sBAAsB;AACzD;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,aAAa;AACb;AACO;AACP,mCAAmC,MAAM;AACzC,CAAC,UAAM;AACP;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,WAAW,oCAAoC;AAC/C,WAAW,0DAA0D;AACrE,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,iCAAiC;AAC9E,iBAAiB,MAAM;AACvB;AACA,iDAAiD,iCAAiC;AAClF;AACA;AACA;;AAEA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa;AACb;AACO;AACP,CAAC,IAAI;AACL,+DAA+D,iBAAiB;AAChF,8CAA8C,wBAAwB;AACtE;;AAEA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,WAAW,KAAK;AAChB,aAAa;AACb;AACO;AACP;AACA,wCAAwC,uBAAuB;AAC/D;;AAEA;AACA,WAAW,aAAa;AACxB,WAAW,QAAQ;AACnB,WAAW,KAAK;AAChB,aAAa;AACb;AACO;AACP;AACA,uCAAuC,uBAAuB;AAC9D;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa;AACb;AACO;AACP;AACA;AACA,oCAAoC,kBAAkB;AACtD,wBAAwB,QAAQ;AAChC;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa;AACb;AACO;AACP;AACA;AACA,oCAAoC,kBAAkB;AACtD,wBAAwB,QAAQ;AAChC;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,aAAa;AACb;AACO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA,QAAQ,sBAAiB;AACzB;;AAEA;AACA,aAAa,MAAM;AACZ;AACP;AACA;AACA,oBAAoB,KAAK,iCAAiC,SAAS;AACnE;AACA;AACA;;AAEA;AACA,WAAW,SAAS;AACpB,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,oBAAoB;AAC/B,aAAa;AACb;AACO;AACP;AACA,wCAAwC,IAAI;AAC5C;AACA;;AAEO;AACP,8BAA8B,KAAK;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,UAAU,UAAU;AACpB;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,kBAAkB;AAC9B,qDAAqD,YAAY;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B;AACA,qBAAqB,OAAO;AAC5B;AACA,cAAc,qBAAqB;AACnC,cAAc,qBAAqB;AACnC,cAAc,qBAAqB;AACnC,aAAa;AACb;AACO,iCAAiC,eAAe;AACvD;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA,aAAa,0DAA0D;AACvE;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,MAAM;AACrB;AACA;AACA;AACA,oDAAoD;AACpD;AACA;;AAEA,eAAe,MAAM;AACrB;;AAEA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CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,QAAQ,OAAO,QAAQ;AAC1E,kBAAkB,QAAQ,GAAG,gBAAgB;AAC7C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA,SAAS;AACT;;;AAGA;AACA;AACA,QAAQ,YAAY;AACpB;AACA;AACA,SAAS;AACT;AACA;AACA,qBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wFAAwF,qCAAqC,EAAE,qCAAqC,WAAW,oCAAoC,YAAY,qCAAqC;AACpQ;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,gDAAgD,YAAY,mDAAmD;AAC9J,6EAA6E,EAAE,gDAAgD;AAC/H;AACA;AACA;AACA,4BAA4B,gDAAgD,oBAAoB,gDAAgD,YAAY,mDAAmD;AAC/M,4EAA4E,iDAAiD;AAC7H;AACA;AACA;AACA;AACA;AACA,qHAAqH;AACrH,UAAU;AACV;AACA;AACA,gFAAgF;AAChF,iFAAiF;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,0BAA0B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,+CAA+C;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACxX6B;;;;;;;;;;ACb7B;;;;;;;;;;;;;;;;;yDAuFA;yBAAA;iCAAA;2BAAA;iCAAA;;;;;;;;;;aACM;;;;gFADN;;;;;qCAAA;;;;6CAAA;;;;uCAAA;;;;6CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAtFI;OACK,GAAK,GAAC;OACb;OACK;OACE,IAAM;OACJ,QAAM;;CACjB,SAAS;;;;CACT,OAAM;WACA;GACN;QACA;;MAGC,KAAO,OAAC,KAAS,GAAE;uBAGiB;SACR;;;aAGI;;;;;;;;;cAUvB;iBACG,OAAM,oBAA0C,CAAE;mBACjD,cAAc;;gBACf,CAAC,gBAAU;IA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qC;AACjD,YAAY,uCAAuC;AACnD,cAAc;AACd;AACA,sCAAsC,UAAI;AAC1C,aAAa,oDAAoD;AACjE;AACA;AACA;AACA,gCAAgC,UAAI;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,+BAA+B;AAC7C;AACA;AACA,WAAW,GAAG;AACd,WAAW,gLAAgL;AAC3L,WAAW,GAAG;AACd,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,+BAA+B;AAC7C;AACA;AACA,WAAW,GAAG;AACd,WAAW,uDAAuD;AAClE,WAAW,GAAG;AACd,aAAa;AACb;;AAEA;AACA,cAAc,+BAA+B;AAC7C;AACA,WAAW,GAAG;AACd,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,aAAa;AACb;AACO;AACP;AACA,YAAY,4CAA4C;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;;AAEkC;;;ACtMkB;AAE7C,IAAI,SAAS,GAAsB,QAAQ,CAAC,KAAK,CAAC;;;;;;;ACF5C;AACc;AACnB;AACJ;;;;;;;;;;;;;;;;;;GAsFF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GApDF,UAkDG;;;;;;;;;;;;;;;;;;;;;;;;;;+BAnDC,GAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OAhClB,iBAAc,GAAM;KACrB,oBAAoB;CACxB,SAAG;KACD,iBAAK;KACJ,8BAAkB;;CAErB,OAAO;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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,+CAA+C;AACrE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,6BAA6B;AAC7B,6BAA6B;AAC7B,6BAA6B;AAC7B,6BAA6B;AAC7B,6BAA6B;AAC7B,6BAA6B;AAC7B,6BAA6B;AAC7B,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC7PsC;;AAE/B;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEA;AACA;AACA,4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","sources":["webpack://splunge/./public/style.scss","webpack://splunge/./public/prism-coy-without-shadows.css","webpack://splunge/./public/images/noise_tex.webp","webpack://splunge/./node_modules/css-loader/dist/runtime/api.js","webpack://splunge/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://splunge/./node_modules/lozad/dist/lozad.min.js","webpack://splunge/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://splunge/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://splunge/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://splunge/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://splunge/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://splunge/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://splunge/./public/brightness_6_FILL0_wght400_GRAD0_opsz48.svg","webpack://splunge/./public/forbid.svg","webpack://splunge/./public/play_pause.svg","webpack://splunge/webpack/bootstrap","webpack://splunge/webpack/runtime/compat get default export","webpack://splunge/webpack/runtime/define property getters","webpack://splunge/webpack/runtime/hasOwnProperty shorthand","webpack://splunge/webpack/runtime/nonce","webpack://splunge/./node_modules/svelte/src/runtime/internal/environment.js","webpack://splunge/./node_modules/svelte/src/runtime/internal/loop.js","webpack://splunge/./node_modules/svelte/src/runtime/internal/globals.js","webpack://splunge/./node_modules/svelte/src/runtime/internal/ResizeObserverSingleton.js","webpack://splunge/./node_modules/svelte/src/runtime/internal/utils.js","webpack://splunge/./node_modules/svelte/src/runtime/internal/dom.js","webpack://splunge/./node_modules/svelte/src/runtime/internal/style_manager.js","webpack://splunge/./node_modules/svelte/src/runtime/internal/animations.js","webpack://splunge/./node_modules/svelte/src/runtime/internal/lifecycle.js","webpack://splunge/./node_modules/svelte/src/runtime/internal/scheduler.js","webpack://splunge/./node_modules/svelte/src/runtime/internal/transitions.js","webpack://splunge/./node_modules/svelte/src/runtime/internal/await_block.js","webpack://splunge/./node_modules/svelte/src/runtime/internal/each.js","webpack://splunge/./node_modules/svelte/src/runtime/internal/spread.js","webpack://splunge/./node_modules/svelte/src/shared/boolean_attributes.js","webpack://splunge/./node_modules/svelte/src/runtime/internal/ssr.js","webpack://splunge/./node_modules/svelte/src/runtime/internal/Component.js","webpack://splunge/./node_modules/svelte/src/shared/version.js","webpack://splunge/./node_modules/svelte/src/runtime/internal/dev.js","webpack://splunge/./node_modules/svelte/src/runtime/internal/index.js","webpack://splunge/./node_modules/svelte/src/runtime/internal/disclose-version/index.js","webpack://splunge/./public/style.scss?9666","webpack://splunge/./node_modules/waveform-path/dist/waveform-path.min.js","webpack://splunge/./src/components/utils/wave-audio-path-player.es.js","webpack://splunge/./node_modules/svelte/src/runtime/index.js","webpack://splunge/./src/components/utils/Video.svelte","webpack://splunge/./src/components/utils/Image.svelte","webpack://splunge/./src/components/utils/SubTitle.svelte","webpack://splunge/./src/components/utils/BlogTitle.svelte","webpack://splunge/./src/components/blog/2023_08_18_forward_pathtracing_in_comp_shader.svelte","webpack://splunge/./src/components/utils/YoutubeVideo.svelte","webpack://splunge/./src/components/blog/2023_08_17_flame_fractals_in_comp_shader.svelte","webpack://splunge/./src/components/utils/Link.svelte","webpack://splunge/./node_modules/svelte/src/runtime/store/index.js","webpack://splunge/./src/store.ts","webpack://splunge/./src/components/utils/DarkModeToggle.svelte","webpack://splunge/./src/components/utils/NavBar.svelte","webpack://splunge/./src/components/utils/Footer.svelte","webpack://splunge/./src/components/favdemosPage.svelte","webpack://splunge/./src/components/musicPage.svelte","webpack://splunge/./src/components/favexegfxPage.svelte","webpack://splunge/./src/components/utils/lib/Img.svelte","webpack://splunge/./src/components/utils/lib/dijkstra.js","webpack://splunge/./src/components/utils/lib/layout.js","webpack://splunge/./src/components/utils/Gallery.svelte","webpack://splunge/./src/components/utils/svelte-zoom/matrix.js","webpack://splunge/./src/components/utils/svelte-zoom/velocity.js","webpack://splunge/./src/components/utils/svelte-zoom/other.js","webpack://splunge/./src/components/utils/svelte-zoom/ImageViewer.svelte","webpack://splunge/./src/components/artPage.svelte","webpack://splunge/./src/components/projectsPage.svelte","webpack://splunge/./src/components/aboutPage.svelte","webpack://splunge/./node_modules/@0b5vr/experimental/src/algorithm/binarySearch.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/algorithm/traverse.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/array/arrayRange.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/array/arraySerial.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/array/arraySet.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/array/constants.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/array/utils.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/CDS/CDS.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/Clock/Clock.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/Clock/ClockFrame.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/Clock/ClockRealtime.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/color/colorFromAtariST.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/utils.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/color/colorHSV2RGB.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/color/colorToHex.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec/vecDot.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/color/colorTurbo.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/color/eotfRec709.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/color/oetfRec709.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/dag/dagEdgesParents.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/dag/dagEdgesAncestors.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/dag/dagEdgesChildren.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/dag/dagEdgesDescendants.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/dag/dagEdgesParent.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/dag/dagEdgesResolve.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/edt/edt.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/ExpSmooth/ExpSmooth.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/Pool/Pool.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/GPUTimer/GPUTimer.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/HistoryMeanCalculator/HistoryMeanCalculator.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/HistoryMeanCalculator/HistoryPercentileCalculator.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/HistoryMeanCalculator/HistoryMedianCalculator.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/MapOfSet/MapOfSet.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec/vecAbs.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec/vecAdd.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec/vecDivide.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec/vecLength.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec/vecLengthSq.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec/vecManhattanLength.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec/vecMultiply.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec/vecNeg.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec/vecScale.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec/vecNormalize.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec/vecSub.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec/Vector.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec4/vec4ApplyMatrix4.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec3/vec3ApplyMatrix4.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/quat/quatInverse.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/quat/quatMultiply.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec3/vec3ApplyQuaternion.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec3/vec3Cross.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec3/vec3OrthoNormalize.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec3/Vector3.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/box3/box3ContainsPoint.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/box3/Box3.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat3/mat3FromMat4Transpose.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat3/mat3Inverse.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat3/mat3CreateNormalMatrix.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat3/mat3Determinant.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat3/mat3FromMat4.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat3/mat3FromQuaternion.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat3/mat3Multiply.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat3/mat3Transpose.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat3/Matrix3.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat4/mat4FromQuaternion.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat4/mat4Compose.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat4/mat4Determinant.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/quat/quatFromMatrix3.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/quat/quatFromMatrix4.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat4/mat4Decompose.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat4/mat4FromMat3.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat4/mat4Inverse.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat4/mat4LookAt.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat4/mat4LookAtInverse.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat4/mat4Multiply.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat4/mat4Perspective.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat4/mat4RotationX.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat4/mat4RotationY.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat4/mat4RotationZ.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat4/mat4Scale.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat4/mat4ScaleScalar.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat4/mat4Translate.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat4/mat4Transpose.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat4/Matrix4.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/quat/quatFromAxisAngle.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/quat/quatLookRotation.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/quat/quatNormalize.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/quat/quatRotationX.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/quat/quatRotationY.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/quat/quatRotationZ.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/quat/quatSlerp.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/quat/Quaternion.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mod.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/sanitizeAngle.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/euler/eulerFromMat3.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/euler/eulerFromMat4.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/euler/eulerFromQuaternion.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/quat/quatFromEuler.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/euler/Euler.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/ray3/ray3DistanceToSphere.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/line3/line3Delta.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/ray3/ray3FromLine3.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/ray3/Ray3.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/line3/line3ApplyMatrix4.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/line3/line3At.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/line3/line3ClosestPointToPoint.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/line3/line3DistanceToPoint.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/line3/Line3.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat2/mat2Determinant.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat2/mat2Inverse.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat2/mat2Multiply.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat2/mat2Transpose.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/mat2/Matrix2.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec3/vec3ApplyMatrix3.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/plane3/plane3ApplyMatrix4.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/plane3/plane3DistanceToPoint.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/plane3/plane3Normalize.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/plane3/Plane3.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/plane3/planes3ContainPoint.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/plane3/planes3FromBox3.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/plane3/planes3FromProjectionMatrix.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/plane3/planes3IntersectBox3.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/plane3/planes3IntersectSphere3.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/plane3/Planes3.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/sphere3/sphere3ContainsPoint.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/sphere3/Sphere3.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec4/vec4ApplyMatrix3.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/math/vec4/Vector4.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/midi/midiParse.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/poker/pokerRanksByStrength.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/poker/pokerSuitsByIndex.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/poker/createPokerDeck.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/poker/pokerHandStrengthMap.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/poker/pokerRankStrengthMap.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/poker/pokerSuitIndexMap.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/poker/sortPokerCardsByRank.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/poker/evaluatePokerHand.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/poker/pokerHandsByStrength.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/retry/asyncRetry.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/retry/retry.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/stniccc/parseSTNICCC.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/stniccc/stnicccToSVG.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/SmoothDamp/SmoothDamp.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/Swap/Swap.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/TapTempo/TapTempo.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/tinyseq/createTinyseqPolyReader.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/tinyseq/createTinyseqReader.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/tinyseq/tinyseqFromMidiParseResult.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/Xorshift/Xorshift.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/yugop/getYugopText.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/BinaryHeap.ts","webpack://splunge/./node_modules/@0b5vr/experimental/src/notifyObservers.ts","webpack://splunge/./src/wmath.ts","webpack://splunge/./src/gl/Texture.ts","webpack://splunge/./src/gl/Framebuffer.ts","webpack://splunge/./src/gl_utils.ts","webpack://splunge/./src/gl/ShaderProgram.ts","webpack://splunge/./src/gl/Thing.ts","webpack://splunge/./src/gl/Buffer.ts","webpack://splunge/./src/components/Splash.svelte","webpack://splunge/./src/components/blogPage.svelte","webpack://splunge/./src/components/App.svelte","webpack://splunge/./src/index.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../node_modules/css-loader/dist/cjs.js!./prism-coy-without-shadows.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Petrona:wght@100..900&display=swap);\"]);\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100..800&display=swap);\"]);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `code *{font-family:\"JetBrains Mono\"}*{-webkit-tap-highlight-color:rgba(0,0,0,0);--main-max-width: 40rem;--text-font-weight: 500;text-decoration-thickness:.15rem !important;--link-font-weight: 800}body{margin:0;padding:0;display:flex;align-items:center;justify-content:center;margin:0px;width:100%;height:100%;background:var(--accent-light)}html{width:100%;height:100%}canvas{max-width:100%;max-height:100%;width:100%;height:100%;touch-action:none}br{line-height:2rem !important;height:2rem !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./public/style.scss\"],\"names\":[],\"mappings\":\"AAkCA,OACE,4BAAA,CAEF,EACE,yCAAA,CACA,uBAAA,CACA,uBAAA,CACA,2CAAA,CACA,uBAAA,CAGF,KACE,QAAA,CACA,SAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,UAAA,CACA,UAAA,CACA,WAAA,CACA,8BAAA,CAIF,KACE,UAAA,CACA,WAAA,CAGF,OACE,cAAA,CACA,eAAA,CACA,UAAA,CACA,WAAA,CACA,iBAAA,CAIF,GACE,2BAAA,CACA,sBAAA\",\"sourcesContent\":[\"\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n@import url('https://fonts.googleapis.com/css2?family=Petrona:wght@100..900&display=swap');\\r\\n@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100..800&display=swap');\\r\\n// @font-face {\\r\\n//   font-family: \\\"Petrona\\\";\\r\\n//   /* font-style: normal; */\\r\\n//   /* font-weight: 400; */\\r\\n//   src: url(\\\"/Petrona-VariableFont_wght.ttf\\\") format(\\\"truetype\\\");\\r\\n\\r\\n// }\\r\\n// @font-face {\\r\\n//   font-family: \\\"Petrona\\\";\\r\\n//   src: url(\\\"/Petrona-Italic-VariableFont_wght.ttf\\\") format(\\\"truetype\\\");\\r\\n//   font-style: italic;\\r\\n// }\\r\\n// @font-face {\\r\\n//   font-family: \\\"JetBrains Mono\\\";\\r\\n//   font-style: normal;\\r\\n//   font-weight: 400;\\r\\n//   src: url(\\\"JetBrainsMono-Regular.ttf\\\") format(\\\"truetype\\\");\\r\\n// }\\r\\n\\r\\n/* @import url(\\\"./prism-gruvbox-dark.css\\\"); */\\r\\n@import url(\\\"/public/prism-coy-without-shadows.css\\\");\\r\\n\\r\\n\\r\\ncode * {\\r\\n  font-family: \\\"JetBrains Mono\\\";\\r\\n}\\r\\n* {\\r\\n  -webkit-tap-highlight-color: transparent;\\r\\n  --main-max-width: 40rem;\\r\\n  --text-font-weight: 500;\\r\\n  text-decoration-thickness: 0.15rem !important;\\r\\n  --link-font-weight: 800;\\r\\n}\\r\\n\\r\\nbody {\\r\\n  margin: 0;\\r\\n  padding: 0;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  margin: 0px;\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  background: var(--accent-light);\\r\\n  /* filter: invert() hue-rotate(2.14rad) saturate(0.5); */\\r\\n\\r\\n}\\r\\nhtml {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\ncanvas {\\r\\n  max-width: 100%;\\r\\n  max-height: 100%;\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  touch-action: none;\\r\\n}\\r\\n\\r\\n\\r\\nbr {\\r\\n  line-height: 2rem !important;\\r\\n  height: 2rem !important;\\r\\n}\\r\\n\\r\\n// img{\\r\\n//   // Colors\\r\\n//   $bg-color: var(--accent-light);\\r\\n//   $dot-color: var(--accent-dark);\\r\\n\\r\\n//   // Dimensions\\r\\n//   $dot-size: 0.1rem;\\r\\n//   $dot-space: 0.25rem;\\r\\n\\r\\n//   background:\\r\\n//     linear-gradient(90deg, $bg-color ($dot-space - $dot-size), transparent 1%) center,\\r\\n//     linear-gradient($bg-color ($dot-space - $dot-size), transparent 1%) center,\\r\\n//     $dot-color;\\r\\n//   background-size: $dot-space $dot-space;\\r\\n// }\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/**\n * Coy without shadows\n * Based on Tim Shedor's Coy theme for prism.js\n * Author: RunDevelopment\n */\n\ncode[class*=\"language-\"],\npre[class*=\"language-\"] {\n\tcolor: black;\n\tbackground: none;\n\tfont-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;\n\tfont-size: 1em;\n\ttext-align: left;\n\twhite-space: pre;\n\tword-spacing: normal;\n\tword-break: normal;\n\tword-wrap: normal;\n\tline-height: 1.5;\n\n\t-moz-tab-size: 4;\n\t-o-tab-size: 4;\n\ttab-size: 4;\n\n\t-webkit-hyphens: none;\n\t-moz-hyphens: none;\n\t-ms-hyphens: none;\n\thyphens: none;\n}\n\n/* Code blocks */\npre[class*=\"language-\"] {\n\tposition: relative;\n\tborder-left: 10px solid #358ccb;\n\tbox-shadow: -1px 0 0 0 #358ccb, 0 0 0 1px #dfdfdf;\n\tbackground-color: #fdfdfd;\n\tbackground-image: linear-gradient(transparent 50%, rgba(69, 142, 209, 0.04) 50%);\n\tbackground-size: 3em 3em;\n\tbackground-origin: content-box;\n\tbackground-attachment: local;\n\tmargin: .5em 0;\n\tpadding: 0 1em;\n}\n\npre[class*=\"language-\"] > code {\n\tdisplay: block;\n}\n\n/* Inline code */\n:not(pre) > code[class*=\"language-\"] {\n\tposition: relative;\n\tpadding: .2em;\n\tborder-radius: 0.3em;\n\tcolor: #c92c2c;\n\tborder: 1px solid rgba(0, 0, 0, 0.1);\n\tdisplay: inline;\n\twhite-space: normal;\n\tbackground-color: #fdfdfd;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n}\n\n.token.comment,\n.token.block-comment,\n.token.prolog,\n.token.doctype,\n.token.cdata {\n\tcolor: #7D8B99;\n}\n\n.token.punctuation {\n\tcolor: #5F6364;\n}\n\n.token.property,\n.token.tag,\n.token.boolean,\n.token.number,\n.token.function-name,\n.token.constant,\n.token.symbol,\n.token.deleted {\n\tcolor: #c92c2c;\n}\n\n.token.selector,\n.token.attr-name,\n.token.string,\n.token.char,\n.token.function,\n.token.builtin,\n.token.inserted {\n\tcolor: #2f9c0a;\n}\n\n.token.operator,\n.token.entity,\n.token.url,\n.token.variable {\n\tcolor: #a67f59;\n\tbackground: rgba(255, 255, 255, 0.5);\n}\n\n.token.atrule,\n.token.attr-value,\n.token.keyword,\n.token.class-name {\n\tcolor: #1990b8;\n}\n\n.token.regex,\n.token.important {\n\tcolor: #e90;\n}\n\n.language-css .token.string,\n.style .token.string {\n\tcolor: #a67f59;\n\tbackground: rgba(255, 255, 255, 0.5);\n}\n\n.token.important {\n\tfont-weight: normal;\n}\n\n.token.bold {\n\tfont-weight: bold;\n}\n\n.token.italic {\n\tfont-style: italic;\n}\n\n.token.entity {\n\tcursor: help;\n}\n\n.token.namespace {\n\topacity: .7;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./public/prism-coy-without-shadows.css\"],\"names\":[],\"mappings\":\"AAAA;;;;EAIE;;AAEF;;CAEC,YAAY;CACZ,gBAAgB;CAChB,sEAAsE;CACtE,cAAc;CACd,gBAAgB;CAChB,gBAAgB;CAChB,oBAAoB;CACpB,kBAAkB;CAClB,iBAAiB;CACjB,gBAAgB;;CAEhB,gBAAgB;CAChB,cAAc;CACd,WAAW;;CAEX,qBAAqB;CACrB,kBAAkB;CAClB,iBAAiB;CACjB,aAAa;AACd;;AAEA,gBAAgB;AAChB;CACC,kBAAkB;CAClB,+BAA+B;CAC/B,iDAAiD;CACjD,yBAAyB;CACzB,gFAAgF;CAChF,wBAAwB;CACxB,8BAA8B;CAC9B,4BAA4B;CAC5B,cAAc;CACd,cAAc;AACf;;AAEA;CACC,cAAc;AACf;;AAEA,gBAAgB;AAChB;CACC,kBAAkB;CAClB,aAAa;CACb,oBAAoB;CACpB,cAAc;CACd,oCAAoC;CACpC,eAAe;CACf,mBAAmB;CACnB,yBAAyB;CACzB,8BAA8B;CAC9B,2BAA2B;CAC3B,sBAAsB;AACvB;;AAEA;;;;;CAKC,cAAc;AACf;;AAEA;CACC,cAAc;AACf;;AAEA;;;;;;;;CAQC,cAAc;AACf;;AAEA;;;;;;;CAOC,cAAc;AACf;;AAEA;;;;CAIC,cAAc;CACd,oCAAoC;AACrC;;AAEA;;;;CAIC,cAAc;AACf;;AAEA;;CAEC,WAAW;AACZ;;AAEA;;CAEC,cAAc;CACd,oCAAoC;AACrC;;AAEA;CACC,mBAAmB;AACpB;;AAEA;CACC,iBAAiB;AAClB;;AAEA;CACC,kBAAkB;AACnB;;AAEA;CACC,YAAY;AACb;;AAEA;CACC,WAAW;AACZ\",\"sourcesContent\":[\"/**\\n * Coy without shadows\\n * Based on Tim Shedor's Coy theme for prism.js\\n * Author: RunDevelopment\\n */\\n\\ncode[class*=\\\"language-\\\"],\\npre[class*=\\\"language-\\\"] {\\n\\tcolor: black;\\n\\tbackground: none;\\n\\tfont-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;\\n\\tfont-size: 1em;\\n\\ttext-align: left;\\n\\twhite-space: pre;\\n\\tword-spacing: normal;\\n\\tword-break: normal;\\n\\tword-wrap: normal;\\n\\tline-height: 1.5;\\n\\n\\t-moz-tab-size: 4;\\n\\t-o-tab-size: 4;\\n\\ttab-size: 4;\\n\\n\\t-webkit-hyphens: none;\\n\\t-moz-hyphens: none;\\n\\t-ms-hyphens: none;\\n\\thyphens: none;\\n}\\n\\n/* Code blocks */\\npre[class*=\\\"language-\\\"] {\\n\\tposition: relative;\\n\\tborder-left: 10px solid #358ccb;\\n\\tbox-shadow: -1px 0 0 0 #358ccb, 0 0 0 1px #dfdfdf;\\n\\tbackground-color: #fdfdfd;\\n\\tbackground-image: linear-gradient(transparent 50%, rgba(69, 142, 209, 0.04) 50%);\\n\\tbackground-size: 3em 3em;\\n\\tbackground-origin: content-box;\\n\\tbackground-attachment: local;\\n\\tmargin: .5em 0;\\n\\tpadding: 0 1em;\\n}\\n\\npre[class*=\\\"language-\\\"] > code {\\n\\tdisplay: block;\\n}\\n\\n/* Inline code */\\n:not(pre) > code[class*=\\\"language-\\\"] {\\n\\tposition: relative;\\n\\tpadding: .2em;\\n\\tborder-radius: 0.3em;\\n\\tcolor: #c92c2c;\\n\\tborder: 1px solid rgba(0, 0, 0, 0.1);\\n\\tdisplay: inline;\\n\\twhite-space: normal;\\n\\tbackground-color: #fdfdfd;\\n\\t-webkit-box-sizing: border-box;\\n\\t-moz-box-sizing: border-box;\\n\\tbox-sizing: border-box;\\n}\\n\\n.token.comment,\\n.token.block-comment,\\n.token.prolog,\\n.token.doctype,\\n.token.cdata {\\n\\tcolor: #7D8B99;\\n}\\n\\n.token.punctuation {\\n\\tcolor: #5F6364;\\n}\\n\\n.token.property,\\n.token.tag,\\n.token.boolean,\\n.token.number,\\n.token.function-name,\\n.token.constant,\\n.token.symbol,\\n.token.deleted {\\n\\tcolor: #c92c2c;\\n}\\n\\n.token.selector,\\n.token.attr-name,\\n.token.string,\\n.token.char,\\n.token.function,\\n.token.builtin,\\n.token.inserted {\\n\\tcolor: #2f9c0a;\\n}\\n\\n.token.operator,\\n.token.entity,\\n.token.url,\\n.token.variable {\\n\\tcolor: #a67f59;\\n\\tbackground: rgba(255, 255, 255, 0.5);\\n}\\n\\n.token.atrule,\\n.token.attr-value,\\n.token.keyword,\\n.token.class-name {\\n\\tcolor: #1990b8;\\n}\\n\\n.token.regex,\\n.token.important {\\n\\tcolor: #e90;\\n}\\n\\n.language-css .token.string,\\n.style .token.string {\\n\\tcolor: #a67f59;\\n\\tbackground: rgba(255, 255, 255, 0.5);\\n}\\n\\n.token.important {\\n\\tfont-weight: normal;\\n}\\n\\n.token.bold {\\n\\tfont-weight: bold;\\n}\\n\\n.token.italic {\\n\\tfont-style: italic;\\n}\\n\\n.token.entity {\\n\\tcursor: help;\\n}\\n\\n.token.namespace {\\n\\topacity: .7;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","export default \"./images/c9e01a1673477e113f5c945ea3fd3553.webp\";","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","/*! lozad.js - v1.16.0 - 2020-09-06\n* https://github.com/ApoorvSaxena/lozad.js\n* Copyright (c) 2020 Apoorv Saxena; Licensed MIT */\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.lozad=e()}(this,function(){\"use strict\";\n/**\n   * Detect IE browser\n   * @const {boolean}\n   * @private\n   */var g=\"undefined\"!=typeof document&&document.documentMode,f={rootMargin:\"0px\",threshold:0,load:function(t){if(\"picture\"===t.nodeName.toLowerCase()){var e=t.querySelector(\"img\"),r=!1;null===e&&(e=document.createElement(\"img\"),r=!0),g&&t.getAttribute(\"data-iesrc\")&&(e.src=t.getAttribute(\"data-iesrc\")),t.getAttribute(\"data-alt\")&&(e.alt=t.getAttribute(\"data-alt\")),r&&t.append(e)}if(\"video\"===t.nodeName.toLowerCase()&&!t.getAttribute(\"data-src\")&&t.children){for(var a=t.children,o=void 0,i=0;i<=a.length-1;i++)(o=a[i].getAttribute(\"data-src\"))&&(a[i].src=o);t.load()}t.getAttribute(\"data-poster\")&&(t.poster=t.getAttribute(\"data-poster\")),t.getAttribute(\"data-src\")&&(t.src=t.getAttribute(\"data-src\")),t.getAttribute(\"data-srcset\")&&t.setAttribute(\"srcset\",t.getAttribute(\"data-srcset\"));var n=\",\";if(t.getAttribute(\"data-background-delimiter\")&&(n=t.getAttribute(\"data-background-delimiter\")),t.getAttribute(\"data-background-image\"))t.style.backgroundImage=\"url('\"+t.getAttribute(\"data-background-image\").split(n).join(\"'),url('\")+\"')\";else if(t.getAttribute(\"data-background-image-set\")){var d=t.getAttribute(\"data-background-image-set\").split(n),u=d[0].substr(0,d[0].indexOf(\" \"))||d[0];// Substring before ... 1x\nu=-1===u.indexOf(\"url(\")?\"url(\"+u+\")\":u,1===d.length?t.style.backgroundImage=u:t.setAttribute(\"style\",(t.getAttribute(\"style\")||\"\")+\"background-image: \"+u+\"; background-image: -webkit-image-set(\"+d+\"); background-image: image-set(\"+d+\")\")}t.getAttribute(\"data-toggle-class\")&&t.classList.toggle(t.getAttribute(\"data-toggle-class\"))},loaded:function(){}};function A(t){t.setAttribute(\"data-loaded\",!0)}var m=function(t){return\"true\"===t.getAttribute(\"data-loaded\")},v=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)};return function(){var r,a,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:\".lozad\",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=Object.assign({},f,t),i=e.root,n=e.rootMargin,d=e.threshold,u=e.load,g=e.loaded,s=void 0;\"undefined\"!=typeof window&&window.IntersectionObserver&&(s=new IntersectionObserver((r=u,a=g,function(t,e){t.forEach(function(t){(0<t.intersectionRatio||t.isIntersecting)&&(e.unobserve(t.target),m(t.target)||(r(t.target),A(t.target),a(t.target)))})}),{root:i,rootMargin:n,threshold:d}));for(var c,l=v(o,i),b=0;b<l.length;b++)(c=l[b]).getAttribute(\"data-placeholder-background\")&&(c.style.background=c.getAttribute(\"data-placeholder-background\"));return{observe:function(){for(var t=v(o,i),e=0;e<t.length;e++)m(t[e])||(s?s.observe(t[e]):(u(t[e]),A(t[e]),g(t[e])))},triggerLoad:function(t){m(t)||(u(t),A(t),g(t))},observer:s}}});\n","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 -960 960 960\\\"><path d=\\\"M481-29 346-160H160v-186L26-480l134-134v-186h186l135-134 133 134h186v186l134 134-134 134v186H614L481-29Zm0-191q108 0 183.5-76.125T740-481q0-107.917-75.542-183.458Q588.917-740 481-740v520Zm0 107 107.917-107H740v-151l109-109-109-109v-151H589L481-849 371-740H220v151L111-480l109 109v151h150l111 107Zm-1-368Z\\\"></path></svg>\"","module.exports = \"<svg fill=\\\"#000000\\\" viewBox=\\\"0 0 32 32\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><title>forbid</title><path d=\\\"M18.828 16l4.243 4.243-2.828 2.828-4.243-4.243-4.243 4.243-2.828-2.828 4.243-4.243-4.243-4.243 2.828-2.828 4.243 4.243 4.243-4.243 2.828 2.828-4.243 4.243z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 -960 960 960\\\"><path d=\\\"M200-332v-296l220 148-220 148Zm340 12v-320h60v320h-60Zm160 0v-320h60v320h-60Z\\\"></path></svg>\"","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nc = undefined;","import { noop } from './utils.js';\n\nexport const is_client = typeof window !== 'undefined';\n\n/** @type {() => number} */\nexport let now = is_client ? () => window.performance.now() : () => Date.now();\n\nexport let raf = is_client ? (cb) => requestAnimationFrame(cb) : noop;\n\n// used internally for testing\n/** @returns {void} */\nexport function set_now(fn) {\n\tnow = fn;\n}\n\n/** @returns {void} */\nexport function set_raf(fn) {\n\traf = fn;\n}\n","import { raf } from './environment.js';\n\nconst tasks = new Set();\n\n/**\n * @param {number} now\n * @returns {void}\n */\nfunction run_tasks(now) {\n\ttasks.forEach((task) => {\n\t\tif (!task.c(now)) {\n\t\t\ttasks.delete(task);\n\t\t\ttask.f();\n\t\t}\n\t});\n\tif (tasks.size !== 0) raf(run_tasks);\n}\n\n/**\n * For testing purposes only!\n * @returns {void}\n */\nexport function clear_loops() {\n\ttasks.clear();\n}\n\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n * @param {import('./private.js').TaskCallback} callback\n * @returns {import('./private.js').Task}\n */\nexport function loop(callback) {\n\t/** @type {import('./private.js').TaskEntry} */\n\tlet task;\n\tif (tasks.size === 0) raf(run_tasks);\n\treturn {\n\t\tpromise: new Promise((fulfill) => {\n\t\t\ttasks.add((task = { c: callback, f: fulfill }));\n\t\t}),\n\t\tabort() {\n\t\t\ttasks.delete(task);\n\t\t}\n\t};\n}\n","/** @type {typeof globalThis} */\nexport const globals =\n\ttypeof window !== 'undefined'\n\t\t? window\n\t\t: typeof globalThis !== 'undefined'\n\t\t? globalThis\n\t\t: // @ts-ignore Node typings have this\n\t\t  global;\n","import { globals } from './globals.js';\n\n/**\n * Resize observer singleton.\n * One listener per element only!\n * https://groups.google.com/a/chromium.org/g/blink-dev/c/z6ienONUb5A/m/F5-VcUZtBAAJ\n */\nexport class ResizeObserverSingleton {\n\t/**\n\t * @private\n\t * @readonly\n\t * @type {WeakMap<Element, import('./private.js').Listener>}\n\t */\n\t_listeners = 'WeakMap' in globals ? new WeakMap() : undefined;\n\n\t/**\n\t * @private\n\t * @type {ResizeObserver}\n\t */\n\t_observer = undefined;\n\n\t/** @type {ResizeObserverOptions} */\n\toptions;\n\n\t/** @param {ResizeObserverOptions} options */\n\tconstructor(options) {\n\t\tthis.options = options;\n\t}\n\n\t/**\n\t * @param {Element} element\n\t * @param {import('./private.js').Listener} listener\n\t * @returns {() => void}\n\t */\n\tobserve(element, listener) {\n\t\tthis._listeners.set(element, listener);\n\t\tthis._getObserver().observe(element, this.options);\n\t\treturn () => {\n\t\t\tthis._listeners.delete(element);\n\t\t\tthis._observer.unobserve(element); // this line can probably be removed\n\t\t};\n\t}\n\n\t/**\n\t * @private\n\t */\n\t_getObserver() {\n\t\treturn (\n\t\t\tthis._observer ??\n\t\t\t(this._observer = new ResizeObserver((entries) => {\n\t\t\t\tfor (const entry of entries) {\n\t\t\t\t\tResizeObserverSingleton.entries.set(entry.target, entry);\n\t\t\t\t\tthis._listeners.get(entry.target)?.(entry);\n\t\t\t\t}\n\t\t\t}))\n\t\t);\n\t}\n}\n\n// Needs to be written like this to pass the tree-shake-test\nResizeObserverSingleton.entries = 'WeakMap' in globals ? new WeakMap() : undefined;\n","/** @returns {void} */\nexport function noop() {}\n\nexport const identity = (x) => x;\n\n/**\n * @template T\n * @template S\n * @param {T} tar\n * @param {S} src\n * @returns {T & S}\n */\nexport function assign(tar, src) {\n\t// @ts-ignore\n\tfor (const k in src) tar[k] = src[k];\n\treturn /** @type {T & S} */ (tar);\n}\n\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\n/**\n * @param {any} value\n * @returns {value is PromiseLike<any>}\n */\nexport function is_promise(value) {\n\treturn (\n\t\t!!value &&\n\t\t(typeof value === 'object' || typeof value === 'function') &&\n\t\ttypeof (/** @type {any} */ (value).then) === 'function'\n\t);\n}\n\n/** @returns {void} */\nexport function add_location(element, file, line, column, char) {\n\telement.__svelte_meta = {\n\t\tloc: { file, line, column, char }\n\t};\n}\n\nexport function run(fn) {\n\treturn fn();\n}\n\nexport function blank_object() {\n\treturn Object.create(null);\n}\n\n/**\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function run_all(fns) {\n\tfns.forEach(run);\n}\n\n/**\n * @param {any} thing\n * @returns {thing is Function}\n */\nexport function is_function(thing) {\n\treturn typeof thing === 'function';\n}\n\n/** @returns {boolean} */\nexport function safe_not_equal(a, b) {\n\treturn a != a ? b == b : a !== b || (a && typeof a === 'object') || typeof a === 'function';\n}\n\nlet src_url_equal_anchor;\n\n/**\n * @param {string} element_src\n * @param {string} url\n * @returns {boolean}\n */\nexport function src_url_equal(element_src, url) {\n\tif (element_src === url) return true;\n\tif (!src_url_equal_anchor) {\n\t\tsrc_url_equal_anchor = document.createElement('a');\n\t}\n\t// This is actually faster than doing URL(..).href\n\tsrc_url_equal_anchor.href = url;\n\treturn element_src === src_url_equal_anchor.href;\n}\n\n/** @param {string} srcset */\nfunction split_srcset(srcset) {\n\treturn srcset.split(',').map((src) => src.trim().split(' ').filter(Boolean));\n}\n\n/**\n * @param {HTMLSourceElement | HTMLImageElement} element_srcset\n * @param {string | undefined | null} srcset\n * @returns {boolean}\n */\nexport function srcset_url_equal(element_srcset, srcset) {\n\tconst element_urls = split_srcset(element_srcset.srcset);\n\tconst urls = split_srcset(srcset || '');\n\n\treturn (\n\t\turls.length === element_urls.length &&\n\t\turls.every(\n\t\t\t([url, width], i) =>\n\t\t\t\twidth === element_urls[i][1] &&\n\t\t\t\t// We need to test both ways because Vite will create an a full URL with\n\t\t\t\t// `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the\n\t\t\t\t// relative URLs inside srcset are not automatically resolved to absolute URLs by\n\t\t\t\t// browsers (in contrast to img.src). This means both SSR and DOM code could\n\t\t\t\t// contain relative or absolute URLs.\n\t\t\t\t(src_url_equal(element_urls[i][0], url) || src_url_equal(url, element_urls[i][0]))\n\t\t)\n\t);\n}\n\n/** @returns {boolean} */\nexport function not_equal(a, b) {\n\treturn a != a ? b == b : a !== b;\n}\n\n/** @returns {boolean} */\nexport function is_empty(obj) {\n\treturn Object.keys(obj).length === 0;\n}\n\n/** @returns {void} */\nexport function validate_store(store, name) {\n\tif (store != null && typeof store.subscribe !== 'function') {\n\t\tthrow new Error(`'${name}' is not a store with a 'subscribe' method`);\n\t}\n}\n\nexport function subscribe(store, ...callbacks) {\n\tif (store == null) {\n\t\tfor (const callback of callbacks) {\n\t\t\tcallback(undefined);\n\t\t}\n\t\treturn noop;\n\t}\n\tconst unsub = store.subscribe(...callbacks);\n\treturn unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\n\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n *\n * https://svelte.dev/docs/svelte-store#get\n * @template T\n * @param {import('../store/public.js').Readable<T>} store\n * @returns {T}\n */\nexport function get_store_value(store) {\n\tlet value;\n\tsubscribe(store, (_) => (value = _))();\n\treturn value;\n}\n\n/** @returns {void} */\nexport function component_subscribe(component, store, callback) {\n\tcomponent.$$.on_destroy.push(subscribe(store, callback));\n}\n\nexport function create_slot(definition, ctx, $$scope, fn) {\n\tif (definition) {\n\t\tconst slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n\t\treturn definition[0](slot_ctx);\n\t}\n}\n\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n\treturn definition[1] && fn ? assign($$scope.ctx.slice(), definition[1](fn(ctx))) : $$scope.ctx;\n}\n\nexport function get_slot_changes(definition, $$scope, dirty, fn) {\n\tif (definition[2] && fn) {\n\t\tconst lets = definition[2](fn(dirty));\n\t\tif ($$scope.dirty === undefined) {\n\t\t\treturn lets;\n\t\t}\n\t\tif (typeof lets === 'object') {\n\t\t\tconst merged = [];\n\t\t\tconst len = Math.max($$scope.dirty.length, lets.length);\n\t\t\tfor (let i = 0; i < len; i += 1) {\n\t\t\t\tmerged[i] = $$scope.dirty[i] | lets[i];\n\t\t\t}\n\t\t\treturn merged;\n\t\t}\n\t\treturn $$scope.dirty | lets;\n\t}\n\treturn $$scope.dirty;\n}\n\n/** @returns {void} */\nexport function update_slot_base(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tslot_changes,\n\tget_slot_context_fn\n) {\n\tif (slot_changes) {\n\t\tconst slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n\t\tslot.p(slot_context, slot_changes);\n\t}\n}\n\n/** @returns {void} */\nexport function update_slot(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tdirty,\n\tget_slot_changes_fn,\n\tget_slot_context_fn\n) {\n\tconst slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n\tupdate_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\n\n/** @returns {any[] | -1} */\nexport function get_all_dirty_from_scope($$scope) {\n\tif ($$scope.ctx.length > 32) {\n\t\tconst dirty = [];\n\t\tconst length = $$scope.ctx.length / 32;\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tdirty[i] = -1;\n\t\t}\n\t\treturn dirty;\n\t}\n\treturn -1;\n}\n\n/** @returns {{}} */\nexport function exclude_internal_props(props) {\n\tconst result = {};\n\tfor (const k in props) if (k[0] !== '$') result[k] = props[k];\n\treturn result;\n}\n\n/** @returns {{}} */\nexport function compute_rest_props(props, keys) {\n\tconst rest = {};\n\tkeys = new Set(keys);\n\tfor (const k in props) if (!keys.has(k) && k[0] !== '$') rest[k] = props[k];\n\treturn rest;\n}\n\n/** @returns {{}} */\nexport function compute_slots(slots) {\n\tconst result = {};\n\tfor (const key in slots) {\n\t\tresult[key] = true;\n\t}\n\treturn result;\n}\n\n/** @returns {(this: any, ...args: any[]) => void} */\nexport function once(fn) {\n\tlet ran = false;\n\treturn function (...args) {\n\t\tif (ran) return;\n\t\tran = true;\n\t\tfn.call(this, ...args);\n\t};\n}\n\nexport function null_to_empty(value) {\n\treturn value == null ? '' : value;\n}\n\nexport function set_store_value(store, ret, value) {\n\tstore.set(value);\n\treturn ret;\n}\n\nexport const has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n\nexport function action_destroyer(action_result) {\n\treturn action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\n/** @param {number | string} value\n * @returns {[number, string]}\n */\nexport function split_css_unit(value) {\n\tconst split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n\treturn split ? [parseFloat(split[1]), split[2] || 'px'] : [/** @type {number} */ (value), 'px'];\n}\n\nexport const contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n","import { ResizeObserverSingleton } from './ResizeObserverSingleton.js';\nimport { contenteditable_truthy_values, has_prop } from './utils.js';\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\n\n/**\n * @returns {void}\n */\nexport function start_hydrating() {\n\tis_hydrating = true;\n}\n\n/**\n * @returns {void}\n */\nexport function end_hydrating() {\n\tis_hydrating = false;\n}\n\n/**\n * @param {number} low\n * @param {number} high\n * @param {(index: number) => number} key\n * @param {number} value\n * @returns {number}\n */\nfunction upper_bound(low, high, key, value) {\n\t// Return first index of value larger than input value in the range [low, high)\n\twhile (low < high) {\n\t\tconst mid = low + ((high - low) >> 1);\n\t\tif (key(mid) <= value) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\treturn low;\n}\n\n/**\n * @param {NodeEx} target\n * @returns {void}\n */\nfunction init_hydrate(target) {\n\tif (target.hydrate_init) return;\n\ttarget.hydrate_init = true;\n\t// We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n\n\tlet children = /** @type {ArrayLike<NodeEx2>} */ (target.childNodes);\n\t// If target is <head>, there may be children without claim_order\n\tif (target.nodeName === 'HEAD') {\n\t\tconst myChildren = [];\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tconst node = children[i];\n\t\t\tif (node.claim_order !== undefined) {\n\t\t\t\tmyChildren.push(node);\n\t\t\t}\n\t\t}\n\t\tchildren = myChildren;\n\t}\n\t/*\n\t * Reorder claimed children optimally.\n\t * We can reorder claimed children optimally by finding the longest subsequence of\n\t * nodes that are already claimed in order and only moving the rest. The longest\n\t * subsequence of nodes that are claimed in order can be found by\n\t * computing the longest increasing subsequence of .claim_order values.\n\t *\n\t * This algorithm is optimal in generating the least amount of reorder operations\n\t * possible.\n\t *\n\t * Proof:\n\t * We know that, given a set of reordering operations, the nodes that do not move\n\t * always form an increasing subsequence, since they do not move among each other\n\t * meaning that they must be already ordered among each other. Thus, the maximal\n\t * set of nodes that do not move form a longest increasing subsequence.\n\t */\n\t// Compute longest increasing subsequence\n\t// m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n\tconst m = new Int32Array(children.length + 1);\n\t// Predecessor indices + 1\n\tconst p = new Int32Array(children.length);\n\tm[0] = -1;\n\tlet longest = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst current = children[i].claim_order;\n\t\t// Find the largest subsequence length such that it ends in a value less than our current value\n\t\t// upper_bound returns first greater value, so we subtract one\n\t\t// with fast path for when we are on the current longest subsequence\n\t\tconst seqLen =\n\t\t\t(longest > 0 && children[m[longest]].claim_order <= current\n\t\t\t\t? longest + 1\n\t\t\t\t: upper_bound(1, longest, (idx) => children[m[idx]].claim_order, current)) - 1;\n\t\tp[i] = m[seqLen] + 1;\n\t\tconst newLen = seqLen + 1;\n\t\t// We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n\t\tm[newLen] = i;\n\t\tlongest = Math.max(newLen, longest);\n\t}\n\t// The longest increasing subsequence of nodes (initially reversed)\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst lis = [];\n\t// The rest of the nodes, nodes that will be moved\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst toMove = [];\n\tlet last = children.length - 1;\n\tfor (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n\t\tlis.push(children[cur - 1]);\n\t\tfor (; last >= cur; last--) {\n\t\t\ttoMove.push(children[last]);\n\t\t}\n\t\tlast--;\n\t}\n\tfor (; last >= 0; last--) {\n\t\ttoMove.push(children[last]);\n\t}\n\tlis.reverse();\n\t// We sort the nodes being moved to guarantee that their insertion order matches the claim order\n\ttoMove.sort((a, b) => a.claim_order - b.claim_order);\n\t// Finally, we move the nodes\n\tfor (let i = 0, j = 0; i < toMove.length; i++) {\n\t\twhile (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n\t\t\tj++;\n\t\t}\n\t\tconst anchor = j < lis.length ? lis[j] : null;\n\t\ttarget.insertBefore(toMove[i], anchor);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @returns {void}\n */\nexport function append(target, node) {\n\ttarget.appendChild(node);\n}\n\n/**\n * @param {Node} target\n * @param {string} style_sheet_id\n * @param {string} styles\n * @returns {void}\n */\nexport function append_styles(target, style_sheet_id, styles) {\n\tconst append_styles_to = get_root_for_style(target);\n\tif (!append_styles_to.getElementById(style_sheet_id)) {\n\t\tconst style = element('style');\n\t\tstyle.id = style_sheet_id;\n\t\tstyle.textContent = styles;\n\t\tappend_stylesheet(append_styles_to, style);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {ShadowRoot | Document}\n */\nexport function get_root_for_style(node) {\n\tif (!node) return document;\n\tconst root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n\tif (root && /** @type {ShadowRoot} */ (root).host) {\n\t\treturn /** @type {ShadowRoot} */ (root);\n\t}\n\treturn node.ownerDocument;\n}\n\n/**\n * @param {Node} node\n * @returns {CSSStyleSheet}\n */\nexport function append_empty_stylesheet(node) {\n\tconst style_element = element('style');\n\t// For transitions to work without 'style-src: unsafe-inline' Content Security Policy,\n\t// these empty tags need to be allowed with a hash as a workaround until we move to the Web Animations API.\n\t// Using the hash for the empty string (for an empty tag) works in all browsers except Safari.\n\t// So as a workaround for the workaround, when we append empty style tags we set their content to /* empty */.\n\t// The hash 'sha256-9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=' will then work even in Safari.\n\tstyle_element.textContent = '/* empty */';\n\tappend_stylesheet(get_root_for_style(node), style_element);\n\treturn style_element.sheet;\n}\n\n/**\n * @param {ShadowRoot | Document} node\n * @param {HTMLStyleElement} style\n * @returns {CSSStyleSheet}\n */\nfunction append_stylesheet(node, style) {\n\tappend(/** @type {Document} */ (node).head || node, style);\n\treturn style.sheet;\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @returns {void}\n */\nexport function append_hydration(target, node) {\n\tif (is_hydrating) {\n\t\tinit_hydrate(target);\n\t\tif (\n\t\t\ttarget.actual_end_child === undefined ||\n\t\t\t(target.actual_end_child !== null && target.actual_end_child.parentNode !== target)\n\t\t) {\n\t\t\ttarget.actual_end_child = target.firstChild;\n\t\t}\n\t\t// Skip nodes of undefined ordering\n\t\twhile (target.actual_end_child !== null && target.actual_end_child.claim_order === undefined) {\n\t\t\ttarget.actual_end_child = target.actual_end_child.nextSibling;\n\t\t}\n\t\tif (node !== target.actual_end_child) {\n\t\t\t// We only insert if the ordering of this node should be modified or the parent node is not target\n\t\t\tif (node.claim_order !== undefined || node.parentNode !== target) {\n\t\t\t\ttarget.insertBefore(node, target.actual_end_child);\n\t\t\t}\n\t\t} else {\n\t\t\ttarget.actual_end_child = node.nextSibling;\n\t\t}\n\t} else if (node.parentNode !== target || node.nextSibling !== null) {\n\t\ttarget.appendChild(node);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @param {Node} [anchor]\n * @returns {void}\n */\nexport function insert(target, node, anchor) {\n\ttarget.insertBefore(node, anchor || null);\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @param {NodeEx} [anchor]\n * @returns {void}\n */\nexport function insert_hydration(target, node, anchor) {\n\tif (is_hydrating && !anchor) {\n\t\tappend_hydration(target, node);\n\t} else if (node.parentNode !== target || node.nextSibling != anchor) {\n\t\ttarget.insertBefore(node, anchor || null);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {void}\n */\nexport function detach(node) {\n\tif (node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function destroy_each(iterations, detaching) {\n\tfor (let i = 0; i < iterations.length; i += 1) {\n\t\tif (iterations[i]) iterations[i].d(detaching);\n\t}\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element(name) {\n\treturn document.createElement(name);\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @param {string} is\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element_is(name, is) {\n\treturn document.createElement(name, { is });\n}\n\n/**\n * @template T\n * @template {keyof T} K\n * @param {T} obj\n * @param {K[]} exclude\n * @returns {Pick<T, Exclude<keyof T, K>>}\n */\nexport function object_without_properties(obj, exclude) {\n\tconst target = /** @type {Pick<T, Exclude<keyof T, K>>} */ ({});\n\tfor (const k in obj) {\n\t\tif (\n\t\t\thas_prop(obj, k) &&\n\t\t\t// @ts-ignore\n\t\t\texclude.indexOf(k) === -1\n\t\t) {\n\t\t\t// @ts-ignore\n\t\t\ttarget[k] = obj[k];\n\t\t}\n\t}\n\treturn target;\n}\n\n/**\n * @template {keyof SVGElementTagNameMap} K\n * @param {K} name\n * @returns {SVGElement}\n */\nexport function svg_element(name) {\n\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\n/**\n * @param {string} data\n * @returns {Text}\n */\nexport function text(data) {\n\treturn document.createTextNode(data);\n}\n\n/**\n * @returns {Text} */\nexport function space() {\n\treturn text(' ');\n}\n\n/**\n * @returns {Text} */\nexport function empty() {\n\treturn text('');\n}\n\n/**\n * @param {string} content\n * @returns {Comment}\n */\nexport function comment(content) {\n\treturn document.createComment(content);\n}\n\n/**\n * @param {EventTarget} node\n * @param {string} event\n * @param {EventListenerOrEventListenerObject} handler\n * @param {boolean | AddEventListenerOptions | EventListenerOptions} [options]\n * @returns {() => void}\n */\nexport function listen(node, event, handler, options) {\n\tnode.addEventListener(event, handler, options);\n\treturn () => node.removeEventListener(event, handler, options);\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function prevent_default(fn) {\n\treturn function (event) {\n\t\tevent.preventDefault();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopPropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_immediate_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopImmediatePropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function self(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.target === this) fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function trusted(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.isTrusted) fn.call(this, event);\n\t};\n}\n\n/**\n * @param {Element} node\n * @param {string} attribute\n * @param {string} [value]\n * @returns {void}\n */\nexport function attr(node, attribute, value) {\n\tif (value == null) node.removeAttribute(attribute);\n\telse if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_attributes(node, attributes) {\n\t// @ts-ignore\n\tconst descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n\tfor (const key in attributes) {\n\t\tif (attributes[key] == null) {\n\t\t\tnode.removeAttribute(key);\n\t\t} else if (key === 'style') {\n\t\t\tnode.style.cssText = attributes[key];\n\t\t} else if (key === '__value') {\n\t\t\t/** @type {any} */ (node).value = node[key] = attributes[key];\n\t\t} else if (\n\t\t\tdescriptors[key] &&\n\t\t\tdescriptors[key].set &&\n\t\t\talways_set_through_set_attribute.indexOf(key) === -1\n\t\t) {\n\t\t\tnode[key] = attributes[key];\n\t\t} else {\n\t\t\tattr(node, key, attributes[key]);\n\t\t}\n\t}\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_svg_attributes(node, attributes) {\n\tfor (const key in attributes) {\n\t\tattr(node, key, attributes[key]);\n\t}\n}\n\n/**\n * @param {Record<string, unknown>} data_map\n * @returns {void}\n */\nexport function set_custom_element_data_map(node, data_map) {\n\tObject.keys(data_map).forEach((key) => {\n\t\tset_custom_element_data(node, key, data_map[key]);\n\t});\n}\n\n/**\n * @returns {void} */\nexport function set_custom_element_data(node, prop, value) {\n\tif (prop in node) {\n\t\tnode[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n\t} else {\n\t\tattr(node, prop, value);\n\t}\n}\n\n/**\n * @param {string} tag\n */\nexport function set_dynamic_element_data(tag) {\n\treturn /-/.test(tag) ? set_custom_element_data_map : set_attributes;\n}\n\n/**\n * @returns {void}\n */\nexport function xlink_attr(node, attribute, value) {\n\tnode.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\n\n/**\n * @param {HTMLElement} node\n * @returns {string}\n */\nexport function get_svelte_dataset(node) {\n\treturn node.dataset.svelteH;\n}\n\n/**\n * @returns {unknown[]} */\nexport function get_binding_group_value(group, __value, checked) {\n\tconst value = new Set();\n\tfor (let i = 0; i < group.length; i += 1) {\n\t\tif (group[i].checked) value.add(group[i].__value);\n\t}\n\tif (!checked) {\n\t\tvalue.delete(__value);\n\t}\n\treturn Array.from(value);\n}\n\n/**\n * @param {HTMLInputElement[]} group\n * @returns {{ p(...inputs: HTMLInputElement[]): void; r(): void; }}\n */\nexport function init_binding_group(group) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\treturn {\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\t_inputs.forEach((input) => group.push(input));\n\t\t},\n\t\t/* remove */ r() {\n\t\t\t_inputs.forEach((input) => group.splice(group.indexOf(input), 1));\n\t\t}\n\t};\n}\n\n/**\n * @param {number[]} indexes\n * @returns {{ u(new_indexes: number[]): void; p(...inputs: HTMLInputElement[]): void; r: () => void; }}\n */\nexport function init_binding_group_dynamic(group, indexes) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _group = get_binding_group(group);\n\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\n\tfunction get_binding_group(group) {\n\t\tfor (let i = 0; i < indexes.length; i++) {\n\t\t\tgroup = group[indexes[i]] = group[indexes[i]] || [];\n\t\t}\n\t\treturn group;\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction push() {\n\t\t_inputs.forEach((input) => _group.push(input));\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction remove() {\n\t\t_inputs.forEach((input) => _group.splice(_group.indexOf(input), 1));\n\t}\n\treturn {\n\t\t/* update */ u(new_indexes) {\n\t\t\tindexes = new_indexes;\n\t\t\tconst new_group = get_binding_group(group);\n\t\t\tif (new_group !== _group) {\n\t\t\t\tremove();\n\t\t\t\t_group = new_group;\n\t\t\t\tpush();\n\t\t\t}\n\t\t},\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\tpush();\n\t\t},\n\t\t/* remove */ r: remove\n\t};\n}\n\n/** @returns {number} */\nexport function to_number(value) {\n\treturn value === '' ? null : +value;\n}\n\n/** @returns {any[]} */\nexport function time_ranges_to_array(ranges) {\n\tconst array = [];\n\tfor (let i = 0; i < ranges.length; i += 1) {\n\t\tarray.push({ start: ranges.start(i), end: ranges.end(i) });\n\t}\n\treturn array;\n}\n\n/**\n * @param {Element} element\n * @returns {ChildNode[]}\n */\nexport function children(element) {\n\treturn Array.from(element.childNodes);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {void}\n */\nfunction init_claim_info(nodes) {\n\tif (nodes.claim_info === undefined) {\n\t\tnodes.claim_info = { last_index: 0, total_claimed: 0 };\n\t}\n}\n\n/**\n * @template {ChildNodeEx} R\n * @param {ChildNodeArray} nodes\n * @param {(node: ChildNodeEx) => node is R} predicate\n * @param {(node: ChildNodeEx) => ChildNodeEx | undefined} processNode\n * @param {() => R} createNode\n * @param {boolean} dontUpdateLastIndex\n * @returns {R}\n */\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n\t// Try to find nodes in an order such that we lengthen the longest increasing subsequence\n\tinit_claim_info(nodes);\n\tconst resultNode = (() => {\n\t\t// We first try to find an element after the previous one\n\t\tfor (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = processNode(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dontUpdateLastIndex) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// Otherwise, we try to find one before\n\t\t// We iterate in reverse so that we don't go too far back\n\t\tfor (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = processNode(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dontUpdateLastIndex) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t} else if (replacement === undefined) {\n\t\t\t\t\t// Since we spliced before the last_index, we decrease it\n\t\t\t\t\tnodes.claim_info.last_index--;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// If we can't find any matching node, we create a new one\n\t\treturn createNode();\n\t})();\n\tresultNode.claim_order = nodes.claim_info.total_claimed;\n\tnodes.claim_info.total_claimed += 1;\n\treturn resultNode;\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @param {(name: string) => Element | SVGElement} create_element\n * @returns {Element | SVGElement}\n */\nfunction claim_element_base(nodes, name, attributes, create_element) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Element | SVGElement} */\n\t\t(node) => node.nodeName === name,\n\t\t/** @param {Element} node */\n\t\t(node) => {\n\t\t\tconst remove = [];\n\t\t\tfor (let j = 0; j < node.attributes.length; j++) {\n\t\t\t\tconst attribute = node.attributes[j];\n\t\t\t\tif (!attributes[attribute.name]) {\n\t\t\t\t\tremove.push(attribute.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremove.forEach((v) => node.removeAttribute(v));\n\t\t\treturn undefined;\n\t\t},\n\t\t() => create_element(name)\n\t);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_svg_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, svg_element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Text}\n */\nexport function claim_text(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Text} */\n\t\t(node) => node.nodeType === 3,\n\t\t/** @param {Text} node */\n\t\t(node) => {\n\t\t\tconst dataStr = '' + data;\n\t\t\tif (node.data.startsWith(dataStr)) {\n\t\t\t\tif (node.data.length !== dataStr.length) {\n\t\t\t\t\treturn node.splitText(dataStr.length);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnode.data = dataStr;\n\t\t\t}\n\t\t},\n\t\t() => text(data),\n\t\ttrue // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n\t);\n}\n\n/**\n * @returns {Text} */\nexport function claim_space(nodes) {\n\treturn claim_text(nodes, ' ');\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Comment}\n */\nexport function claim_comment(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Comment} */\n\t\t(node) => node.nodeType === 8,\n\t\t/** @param {Comment} node */\n\t\t(node) => {\n\t\t\tnode.data = '' + data;\n\t\t\treturn undefined;\n\t\t},\n\t\t() => comment(data),\n\t\ttrue\n\t);\n}\n\nfunction get_comment_idx(nodes, text, start) {\n\tfor (let i = start; i < nodes.length; i += 1) {\n\t\tconst node = nodes[i];\n\t\tif (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * @param {boolean} is_svg\n * @returns {HtmlTagHydration}\n */\nexport function claim_html_tag(nodes, is_svg) {\n\t// find html opening tag\n\tconst start_index = get_comment_idx(nodes, 'HTML_TAG_START', 0);\n\tconst end_index = get_comment_idx(nodes, 'HTML_TAG_END', start_index + 1);\n\tif (start_index === -1 || end_index === -1) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\n\tinit_claim_info(nodes);\n\tconst html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n\tdetach(html_tag_nodes[0]);\n\tdetach(html_tag_nodes[html_tag_nodes.length - 1]);\n\tconst claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n\tfor (const n of claimed_nodes) {\n\t\tn.claim_order = nodes.claim_info.total_claimed;\n\t\tnodes.claim_info.total_claimed += 1;\n\t}\n\treturn new HtmlTagHydration(is_svg, claimed_nodes);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data(text, data) {\n\tdata = '' + data;\n\tif (text.data === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data_contenteditable(text, data) {\n\tdata = '' + data;\n\tif (text.wholeText === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @param {string} attr_value\n * @returns {void}\n */\nexport function set_data_maybe_contenteditable(text, data, attr_value) {\n\tif (~contenteditable_truthy_values.indexOf(attr_value)) {\n\t\tset_data_contenteditable(text, data);\n\t} else {\n\t\tset_data(text, data);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_input_value(input, value) {\n\tinput.value = value == null ? '' : value;\n}\n\n/**\n * @returns {void} */\nexport function set_input_type(input, type) {\n\ttry {\n\t\tinput.type = type;\n\t} catch (e) {\n\t\t// do nothing\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_style(node, key, value, important) {\n\tif (value == null) {\n\t\tnode.style.removeProperty(key);\n\t} else {\n\t\tnode.style.setProperty(key, value, important ? 'important' : '');\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_option(select, value, mounting) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\tif (option.__value === value) {\n\t\t\toption.selected = true;\n\t\t\treturn;\n\t\t}\n\t}\n\tif (!mounting || value !== undefined) {\n\t\tselect.selectedIndex = -1; // no option should be selected\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_options(select, value) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\toption.selected = ~value.indexOf(option.__value);\n\t}\n}\n\nexport function select_value(select) {\n\tconst selected_option = select.querySelector(':checked');\n\treturn selected_option && selected_option.__value;\n}\n\nexport function select_multiple_value(select) {\n\treturn [].map.call(select.querySelectorAll(':checked'), (option) => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\n\n/**\n * @type {boolean} */\nlet crossorigin;\n\n/**\n * @returns {boolean} */\nexport function is_crossorigin() {\n\tif (crossorigin === undefined) {\n\t\tcrossorigin = false;\n\t\ttry {\n\t\t\tif (typeof window !== 'undefined' && window.parent) {\n\t\t\t\tvoid window.parent.document;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tcrossorigin = true;\n\t\t}\n\t}\n\treturn crossorigin;\n}\n\n/**\n * @param {HTMLElement} node\n * @param {() => void} fn\n * @returns {() => void}\n */\nexport function add_iframe_resize_listener(node, fn) {\n\tconst computed_style = getComputedStyle(node);\n\tif (computed_style.position === 'static') {\n\t\tnode.style.position = 'relative';\n\t}\n\tconst iframe = element('iframe');\n\tiframe.setAttribute(\n\t\t'style',\n\t\t'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n\t\t\t'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;'\n\t);\n\tiframe.setAttribute('aria-hidden', 'true');\n\tiframe.tabIndex = -1;\n\tconst crossorigin = is_crossorigin();\n\n\t/**\n\t * @type {() => void}\n\t */\n\tlet unsubscribe;\n\tif (crossorigin) {\n\t\tiframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n\t\tunsubscribe = listen(\n\t\t\twindow,\n\t\t\t'message',\n\t\t\t/** @param {MessageEvent} event */ (event) => {\n\t\t\t\tif (event.source === iframe.contentWindow) fn();\n\t\t\t}\n\t\t);\n\t} else {\n\t\tiframe.src = 'about:blank';\n\t\tiframe.onload = () => {\n\t\t\tunsubscribe = listen(iframe.contentWindow, 'resize', fn);\n\t\t\t// make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n\t\t\t// see https://github.com/sveltejs/svelte/issues/4233\n\t\t\tfn();\n\t\t};\n\t}\n\tappend(node, iframe);\n\treturn () => {\n\t\tif (crossorigin) {\n\t\t\tunsubscribe();\n\t\t} else if (unsubscribe && iframe.contentWindow) {\n\t\t\tunsubscribe();\n\t\t}\n\t\tdetach(iframe);\n\t};\n}\nexport const resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'content-box'\n});\nexport const resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'border-box'\n});\nexport const resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton(\n\t{ box: 'device-pixel-content-box' }\n);\nexport { ResizeObserverSingleton };\n\n/**\n * @returns {void} */\nexport function toggle_class(element, name, toggle) {\n\t// The `!!` is required because an `undefined` flag means flipping the current state.\n\telement.classList.toggle(name, !!toggle);\n}\n\n/**\n * @template T\n * @param {string} type\n * @param {T} [detail]\n * @param {{ bubbles?: boolean, cancelable?: boolean }} [options]\n * @returns {CustomEvent<T>}\n */\nexport function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n\treturn new CustomEvent(type, { detail, bubbles, cancelable });\n}\n\n/**\n * @param {string} selector\n * @param {HTMLElement} parent\n * @returns {ChildNodeArray}\n */\nexport function query_selector_all(selector, parent = document.body) {\n\treturn Array.from(parent.querySelectorAll(selector));\n}\n\n/**\n * @param {string} nodeId\n * @param {HTMLElement} head\n * @returns {any[]}\n */\nexport function head_selector(nodeId, head) {\n\tconst result = [];\n\tlet started = 0;\n\tfor (const node of head.childNodes) {\n\t\tif (node.nodeType === 8 /* comment node */) {\n\t\t\tconst comment = node.textContent.trim();\n\t\t\tif (comment === `HEAD_${nodeId}_END`) {\n\t\t\t\tstarted -= 1;\n\t\t\t\tresult.push(node);\n\t\t\t} else if (comment === `HEAD_${nodeId}_START`) {\n\t\t\t\tstarted += 1;\n\t\t\t\tresult.push(node);\n\t\t\t}\n\t\t} else if (started > 0) {\n\t\t\tresult.push(node);\n\t\t}\n\t}\n\treturn result;\n}\n/** */\nexport class HtmlTag {\n\t/**\n\t * @private\n\t * @default false\n\t */\n\tis_svg = false;\n\t/** parent for creating node */\n\te = undefined;\n\t/** html tag nodes */\n\tn = undefined;\n\t/** target */\n\tt = undefined;\n\t/** anchor */\n\ta = undefined;\n\tconstructor(is_svg = false) {\n\t\tthis.is_svg = is_svg;\n\t\tthis.e = this.n = null;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tthis.h(html);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @param {HTMLElement | SVGElement} target\n\t * @param {HTMLElement | SVGElement} anchor\n\t * @returns {void}\n\t */\n\tm(html, target, anchor = null) {\n\t\tif (!this.e) {\n\t\t\tif (this.is_svg)\n\t\t\t\tthis.e = svg_element(/** @type {keyof SVGElementTagNameMap} */ (target.nodeName));\n\t\t\t/** #7364  target for <template> may be provided as #document-fragment(11) */ else\n\t\t\t\tthis.e = element(\n\t\t\t\t\t/** @type {keyof HTMLElementTagNameMap} */ (\n\t\t\t\t\t\ttarget.nodeType === 11 ? 'TEMPLATE' : target.nodeName\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tthis.t =\n\t\t\t\ttarget.tagName !== 'TEMPLATE'\n\t\t\t\t\t? target\n\t\t\t\t\t: /** @type {HTMLTemplateElement} */ (target).content;\n\t\t\tthis.c(html);\n\t\t}\n\t\tthis.i(anchor);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\th(html) {\n\t\tthis.e.innerHTML = html;\n\t\tthis.n = Array.from(\n\t\t\tthis.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes\n\t\t);\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert(this.t, this.n[i], anchor);\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tp(html) {\n\t\tthis.d();\n\t\tthis.h(html);\n\t\tthis.i(this.a);\n\t}\n\n\t/**\n\t * @returns {void} */\n\td() {\n\t\tthis.n.forEach(detach);\n\t}\n}\n\nexport class HtmlTagHydration extends HtmlTag {\n\t/** @type {Element[]} hydration claimed nodes */\n\tl = undefined;\n\n\tconstructor(is_svg = false, claimed_nodes) {\n\t\tsuper(is_svg);\n\t\tthis.e = this.n = null;\n\t\tthis.l = claimed_nodes;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tif (this.l) {\n\t\t\tthis.n = this.l;\n\t\t} else {\n\t\t\tsuper.c(html);\n\t\t}\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert_hydration(this.t, this.n[i], anchor);\n\t\t}\n\t}\n}\n\n/**\n * @param {NamedNodeMap} attributes\n * @returns {{}}\n */\nexport function attribute_to_object(attributes) {\n\tconst result = {};\n\tfor (const attribute of attributes) {\n\t\tresult[attribute.name] = attribute.value;\n\t}\n\treturn result;\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {{}}\n */\nexport function get_custom_elements_slots(element) {\n\tconst result = {};\n\telement.childNodes.forEach(\n\t\t/** @param {Element} node */ (node) => {\n\t\t\tresult[node.slot || 'default'] = true;\n\t\t}\n\t);\n\treturn result;\n}\n\nexport function construct_svelte_component(component, props) {\n\treturn new component(props);\n}\n\n/**\n * @typedef {Node & {\n * \tclaim_order?: number;\n * \thydrate_init?: true;\n * \tactual_end_child?: NodeEx;\n * \tchildNodes: NodeListOf<NodeEx>;\n * }} NodeEx\n */\n\n/** @typedef {ChildNode & NodeEx} ChildNodeEx */\n\n/** @typedef {NodeEx & { claim_order: number }} NodeEx2 */\n\n/**\n * @typedef {ChildNodeEx[] & {\n * \tclaim_info?: {\n * \t\tlast_index: number;\n * \t\ttotal_claimed: number;\n * \t};\n * }} ChildNodeArray\n */\n","import { append_empty_stylesheet, detach, get_root_for_style } from './dom.js';\nimport { raf } from './environment.js';\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\n/** @type {Map<Document | ShadowRoot, import('./private.d.ts').StyleInformation>} */\nconst managed_styles = new Map();\n\nlet active = 0;\n\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\n/**\n * @param {string} str\n * @returns {number}\n */\nfunction hash(str) {\n\tlet hash = 5381;\n\tlet i = str.length;\n\twhile (i--) hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n\treturn hash >>> 0;\n}\n\n/**\n * @param {Document | ShadowRoot} doc\n * @param {Element & ElementCSSInlineStyle} node\n * @returns {{ stylesheet: any; rules: {}; }}\n */\nfunction create_style_information(doc, node) {\n\tconst info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n\tmanaged_styles.set(doc, info);\n\treturn info;\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {number} a\n * @param {number} b\n * @param {number} duration\n * @param {number} delay\n * @param {(t: number) => number} ease\n * @param {(t: number, u: number) => string} fn\n * @param {number} uid\n * @returns {string}\n */\nexport function create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n\tconst step = 16.666 / duration;\n\tlet keyframes = '{\\n';\n\tfor (let p = 0; p <= 1; p += step) {\n\t\tconst t = a + (b - a) * ease(p);\n\t\tkeyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n\t}\n\tconst rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n\tconst name = `__svelte_${hash(rule)}_${uid}`;\n\tconst doc = get_root_for_style(node);\n\tconst { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n\tif (!rules[name]) {\n\t\trules[name] = true;\n\t\tstylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n\t}\n\tconst animation = node.style.animation || '';\n\tnode.style.animation = `${\n\t\tanimation ? `${animation}, ` : ''\n\t}${name} ${duration}ms linear ${delay}ms 1 both`;\n\tactive += 1;\n\treturn name;\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {string} [name]\n * @returns {void}\n */\nexport function delete_rule(node, name) {\n\tconst previous = (node.style.animation || '').split(', ');\n\tconst next = previous.filter(\n\t\tname\n\t\t\t? (anim) => anim.indexOf(name) < 0 // remove specific animation\n\t\t\t: (anim) => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n\t);\n\tconst deleted = previous.length - next.length;\n\tif (deleted) {\n\t\tnode.style.animation = next.join(', ');\n\t\tactive -= deleted;\n\t\tif (!active) clear_rules();\n\t}\n}\n\n/** @returns {void} */\nexport function clear_rules() {\n\traf(() => {\n\t\tif (active) return;\n\t\tmanaged_styles.forEach((info) => {\n\t\t\tconst { ownerNode } = info.stylesheet;\n\t\t\t// there is no ownerNode if it runs on jsdom.\n\t\t\tif (ownerNode) detach(ownerNode);\n\t\t});\n\t\tmanaged_styles.clear();\n\t});\n}\n","import { identity as linear, noop } from './utils.js';\nimport { now } from './environment.js';\nimport { loop } from './loop.js';\nimport { create_rule, delete_rule } from './style_manager.js';\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {import('./private.js').PositionRect} from\n * @param {import('./private.js').AnimationFn} fn\n */\nexport function create_animation(node, from, fn, params) {\n\tif (!from) return noop;\n\tconst to = node.getBoundingClientRect();\n\tif (\n\t\tfrom.left === to.left &&\n\t\tfrom.right === to.right &&\n\t\tfrom.top === to.top &&\n\t\tfrom.bottom === to.bottom\n\t)\n\t\treturn noop;\n\tconst {\n\t\tdelay = 0,\n\t\tduration = 300,\n\t\teasing = linear,\n\t\t// @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n\t\tstart: start_time = now() + delay,\n\t\t// @ts-ignore todo:\n\t\tend = start_time + duration,\n\t\ttick = noop,\n\t\tcss\n\t} = fn(node, { from, to }, params);\n\tlet running = true;\n\tlet started = false;\n\tlet name;\n\t/** @returns {void} */\n\tfunction start() {\n\t\tif (css) {\n\t\t\tname = create_rule(node, 0, 1, duration, delay, easing, css);\n\t\t}\n\t\tif (!delay) {\n\t\t\tstarted = true;\n\t\t}\n\t}\n\t/** @returns {void} */\n\tfunction stop() {\n\t\tif (css) delete_rule(node, name);\n\t\trunning = false;\n\t}\n\tloop((now) => {\n\t\tif (!started && now >= start_time) {\n\t\t\tstarted = true;\n\t\t}\n\t\tif (started && now >= end) {\n\t\t\ttick(1, 0);\n\t\t\tstop();\n\t\t}\n\t\tif (!running) {\n\t\t\treturn false;\n\t\t}\n\t\tif (started) {\n\t\t\tconst p = now - start_time;\n\t\t\tconst t = 0 + 1 * easing(p / duration);\n\t\t\ttick(t, 1 - t);\n\t\t}\n\t\treturn true;\n\t});\n\tstart();\n\ttick(0, 1);\n\treturn stop;\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @returns {void}\n */\nexport function fix_position(node) {\n\tconst style = getComputedStyle(node);\n\tif (style.position !== 'absolute' && style.position !== 'fixed') {\n\t\tconst { width, height } = style;\n\t\tconst a = node.getBoundingClientRect();\n\t\tnode.style.position = 'absolute';\n\t\tnode.style.width = width;\n\t\tnode.style.height = height;\n\t\tadd_transform(node, a);\n\t}\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {import('./private.js').PositionRect} a\n * @returns {void}\n */\nexport function add_transform(node, a) {\n\tconst b = node.getBoundingClientRect();\n\tif (a.left !== b.left || a.top !== b.top) {\n\t\tconst style = getComputedStyle(node);\n\t\tconst transform = style.transform === 'none' ? '' : style.transform;\n\t\tnode.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n\t}\n}\n","import { custom_event } from './dom.js';\n\nexport let current_component;\n\n/** @returns {void} */\nexport function set_current_component(component) {\n\tcurrent_component = component;\n}\n\nexport function get_current_component() {\n\tif (!current_component) throw new Error('Function called outside component initialization');\n\treturn current_component;\n}\n\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#beforeupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function beforeUpdate(fn) {\n\tget_current_component().$$.before_update.push(fn);\n}\n\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * If a function is returned _synchronously_ from `onMount`, it will be called when the component is unmounted.\n *\n * `onMount` does not run inside a [server-side component](/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs/svelte#onmount\n * @template T\n * @param {() => import('./private.js').NotFunction<T> | Promise<import('./private.js').NotFunction<T>> | (() => any)} fn\n * @returns {void}\n */\nexport function onMount(fn) {\n\tget_current_component().$$.on_mount.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#afterupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function afterUpdate(fn) {\n\tget_current_component().$$.after_update.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs/svelte#ondestroy\n * @param {() => any} fn\n * @returns {void}\n */\nexport function onDestroy(fn) {\n\tget_current_component().$$.on_destroy.push(fn);\n}\n\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * The event dispatcher can be typed to narrow the allowed event names and the type of the `detail` argument:\n * ```ts\n * const dispatch = createEventDispatcher<{\n *  loaded: never; // does not take a detail argument\n *  change: string; // takes a detail argument of type string, which is required\n *  optional: number | null; // takes an optional detail argument of type number\n * }>();\n * ```\n *\n * https://svelte.dev/docs/svelte#createeventdispatcher\n * @template {Record<string, any>} [EventMap=any]\n * @returns {import('./public.js').EventDispatcher<EventMap>}\n */\nexport function createEventDispatcher() {\n\tconst component = get_current_component();\n\treturn (type, detail, { cancelable = false } = {}) => {\n\t\tconst callbacks = component.$$.callbacks[type];\n\t\tif (callbacks) {\n\t\t\t// TODO are there situations where events could be dispatched\n\t\t\t// in a server (non-DOM) environment?\n\t\t\tconst event = custom_event(/** @type {string} */ (type), detail, { cancelable });\n\t\t\tcallbacks.slice().forEach((fn) => {\n\t\t\t\tfn.call(component, event);\n\t\t\t});\n\t\t\treturn !event.defaultPrevented;\n\t\t}\n\t\treturn true;\n\t};\n}\n\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#setcontext\n * @template T\n * @param {any} key\n * @param {T} context\n * @returns {T}\n */\nexport function setContext(key, context) {\n\tget_current_component().$$.context.set(key, context);\n\treturn context;\n}\n\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#getcontext\n * @template T\n * @param {any} key\n * @returns {T}\n */\nexport function getContext(key) {\n\treturn get_current_component().$$.context.get(key);\n}\n\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs/svelte#getallcontexts\n * @template {Map<any, any>} [T=Map<any, any>]\n * @returns {T}\n */\nexport function getAllContexts() {\n\treturn get_current_component().$$.context;\n}\n\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#hascontext\n * @param {any} key\n * @returns {boolean}\n */\nexport function hasContext(key) {\n\treturn get_current_component().$$.context.has(key);\n}\n\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\n/**\n * @param component\n * @param event\n * @returns {void}\n */\nexport function bubble(component, event) {\n\tconst callbacks = component.$$.callbacks[event.type];\n\tif (callbacks) {\n\t\t// @ts-ignore\n\t\tcallbacks.slice().forEach((fn) => fn.call(this, event));\n\t}\n}\n","import { run_all } from './utils.js';\nimport { current_component, set_current_component } from './lifecycle.js';\n\nexport const dirty_components = [];\nexport const intros = { enabled: false };\nexport const binding_callbacks = [];\n\nlet render_callbacks = [];\n\nconst flush_callbacks = [];\n\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\n\nlet update_scheduled = false;\n\n/** @returns {void} */\nexport function schedule_update() {\n\tif (!update_scheduled) {\n\t\tupdate_scheduled = true;\n\t\tresolved_promise.then(flush);\n\t}\n}\n\n/** @returns {Promise<void>} */\nexport function tick() {\n\tschedule_update();\n\treturn resolved_promise;\n}\n\n/** @returns {void} */\nexport function add_render_callback(fn) {\n\trender_callbacks.push(fn);\n}\n\n/** @returns {void} */\nexport function add_flush_callback(fn) {\n\tflush_callbacks.push(fn);\n}\n\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\n\nlet flushidx = 0; // Do *not* move this inside the flush() function\n\n/** @returns {void} */\nexport function flush() {\n\t// Do not reenter flush while dirty components are updated, as this can\n\t// result in an infinite loop. Instead, let the inner flush handle it.\n\t// Reentrancy is ok afterwards for bindings etc.\n\tif (flushidx !== 0) {\n\t\treturn;\n\t}\n\tconst saved_component = current_component;\n\tdo {\n\t\t// first, call beforeUpdate functions\n\t\t// and update components\n\t\ttry {\n\t\t\twhile (flushidx < dirty_components.length) {\n\t\t\t\tconst component = dirty_components[flushidx];\n\t\t\t\tflushidx++;\n\t\t\t\tset_current_component(component);\n\t\t\t\tupdate(component.$$);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// reset dirty state to not end up in a deadlocked state and then rethrow\n\t\t\tdirty_components.length = 0;\n\t\t\tflushidx = 0;\n\t\t\tthrow e;\n\t\t}\n\t\tset_current_component(null);\n\t\tdirty_components.length = 0;\n\t\tflushidx = 0;\n\t\twhile (binding_callbacks.length) binding_callbacks.pop()();\n\t\t// then, once components are updated, call\n\t\t// afterUpdate functions. This may cause\n\t\t// subsequent updates...\n\t\tfor (let i = 0; i < render_callbacks.length; i += 1) {\n\t\t\tconst callback = render_callbacks[i];\n\t\t\tif (!seen_callbacks.has(callback)) {\n\t\t\t\t// ...so guard against infinite loops\n\t\t\t\tseen_callbacks.add(callback);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t\trender_callbacks.length = 0;\n\t} while (dirty_components.length);\n\twhile (flush_callbacks.length) {\n\t\tflush_callbacks.pop()();\n\t}\n\tupdate_scheduled = false;\n\tseen_callbacks.clear();\n\tset_current_component(saved_component);\n}\n\n/** @returns {void} */\nfunction update($$) {\n\tif ($$.fragment !== null) {\n\t\t$$.update();\n\t\trun_all($$.before_update);\n\t\tconst dirty = $$.dirty;\n\t\t$$.dirty = [-1];\n\t\t$$.fragment && $$.fragment.p($$.ctx, dirty);\n\t\t$$.after_update.forEach(add_render_callback);\n\t}\n}\n\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function flush_render_callbacks(fns) {\n\tconst filtered = [];\n\tconst targets = [];\n\trender_callbacks.forEach((c) => (fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c)));\n\ttargets.forEach((c) => c());\n\trender_callbacks = filtered;\n}\n","import { identity as linear, is_function, noop, run_all } from './utils.js';\nimport { now } from './environment.js';\nimport { loop } from './loop.js';\nimport { create_rule, delete_rule } from './style_manager.js';\nimport { custom_event } from './dom.js';\nimport { add_render_callback } from './scheduler.js';\n\n/**\n * @type {Promise<void> | null}\n */\nlet promise;\n\n/**\n * @returns {Promise<void>}\n */\nfunction wait() {\n\tif (!promise) {\n\t\tpromise = Promise.resolve();\n\t\tpromise.then(() => {\n\t\t\tpromise = null;\n\t\t});\n\t}\n\treturn promise;\n}\n\n/**\n * @param {Element} node\n * @param {INTRO | OUTRO | boolean} direction\n * @param {'start' | 'end'} kind\n * @returns {void}\n */\nfunction dispatch(node, direction, kind) {\n\tnode.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\n\nconst outroing = new Set();\n\n/**\n * @type {Outro}\n */\nlet outros;\n\n/**\n * @returns {void} */\nexport function group_outros() {\n\toutros = {\n\t\tr: 0,\n\t\tc: [],\n\t\tp: outros // parent group\n\t};\n}\n\n/**\n * @returns {void} */\nexport function check_outros() {\n\tif (!outros.r) {\n\t\trun_all(outros.c);\n\t}\n\toutros = outros.p;\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} [local]\n * @returns {void}\n */\nexport function transition_in(block, local) {\n\tif (block && block.i) {\n\t\toutroing.delete(block);\n\t\tblock.i(local);\n\t}\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} local\n * @param {0 | 1} [detach]\n * @param {() => void} [callback]\n * @returns {void}\n */\nexport function transition_out(block, local, detach, callback) {\n\tif (block && block.o) {\n\t\tif (outroing.has(block)) return;\n\t\toutroing.add(block);\n\t\toutros.c.push(() => {\n\t\t\toutroing.delete(block);\n\t\t\tif (callback) {\n\t\t\t\tif (detach) block.d(1);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t});\n\t\tblock.o(local);\n\t} else if (callback) {\n\t\tcallback();\n\t}\n}\n\n/**\n * @type {import('../transition/public.js').TransitionConfig}\n */\nconst null_transition = { duration: 0 };\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ start(): void; invalidate(): void; end(): void; }}\n */\nexport function create_in_transition(node, fn, params) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'in' };\n\tlet config = fn(node, params, options);\n\tlet running = false;\n\tlet animation_name;\n\tlet task;\n\tlet uid = 0;\n\n\t/**\n\t * @returns {void} */\n\tfunction cleanup() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\t\tif (css) animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n\t\ttick(0, 1);\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tif (task) task.abort();\n\t\trunning = true;\n\t\tadd_render_callback(() => dispatch(node, true, 'start'));\n\t\ttask = loop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(1, 0);\n\t\t\t\t\tdispatch(node, true, 'end');\n\t\t\t\t\tcleanup();\n\t\t\t\t\treturn (running = false);\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\tlet started = false;\n\treturn {\n\t\tstart() {\n\t\t\tif (started) return;\n\t\t\tstarted = true;\n\t\t\tdelete_rule(node);\n\t\t\tif (is_function(config)) {\n\t\t\t\tconfig = config(options);\n\t\t\t\twait().then(go);\n\t\t\t} else {\n\t\t\t\tgo();\n\t\t\t}\n\t\t},\n\t\tinvalidate() {\n\t\t\tstarted = false;\n\t\t},\n\t\tend() {\n\t\t\tif (running) {\n\t\t\t\tcleanup();\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ end(reset: any): void; }}\n */\nexport function create_out_transition(node, fn, params) {\n\t/** @type {TransitionOptions} */\n\tconst options = { direction: 'out' };\n\tlet config = fn(node, params, options);\n\tlet running = true;\n\tlet animation_name;\n\tconst group = outros;\n\tgroup.r += 1;\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\tif (css) animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tadd_render_callback(() => dispatch(node, false, 'start'));\n\n\t\tif ('inert' in node) {\n\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\tnode.inert = true;\n\t\t}\n\n\t\tloop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(0, 1);\n\t\t\t\t\tdispatch(node, false, 'end');\n\t\t\t\t\tif (!--group.r) {\n\t\t\t\t\t\t// this will result in `end()` being called,\n\t\t\t\t\t\t// so we don't need to clean up here\n\t\t\t\t\t\trun_all(group.c);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(1 - t, t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\n\tif (is_function(config)) {\n\t\twait().then(() => {\n\t\t\t// @ts-ignore\n\t\t\tconfig = config(options);\n\t\t\tgo();\n\t\t});\n\t} else {\n\t\tgo();\n\t}\n\n\treturn {\n\t\tend(reset) {\n\t\t\tif (reset && 'inert' in node) {\n\t\t\t\tnode.inert = original_inert_value;\n\t\t\t}\n\t\t\tif (reset && config.tick) {\n\t\t\t\tconfig.tick(1, 0);\n\t\t\t}\n\t\t\tif (running) {\n\t\t\t\tif (animation_name) delete_rule(node, animation_name);\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @param {boolean} intro\n * @returns {{ run(b: 0 | 1): void; end(): void; }}\n */\nexport function create_bidirectional_transition(node, fn, params, intro) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'both' };\n\tlet config = fn(node, params, options);\n\tlet t = intro ? 0 : 1;\n\n\t/**\n\t * @type {Program | null} */\n\tlet running_program = null;\n\n\t/**\n\t * @type {PendingProgram | null} */\n\tlet pending_program = null;\n\tlet animation_name = null;\n\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction clear_animation() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @param {PendingProgram} program\n\t * @param {number} duration\n\t * @returns {Program}\n\t */\n\tfunction init(program, duration) {\n\t\tconst d = /** @type {Program['d']} */ (program.b - t);\n\t\tduration *= Math.abs(d);\n\t\treturn {\n\t\t\ta: t,\n\t\t\tb: program.b,\n\t\t\td,\n\t\t\tduration,\n\t\t\tstart: program.start,\n\t\t\tend: program.start + duration,\n\t\t\tgroup: program.group\n\t\t};\n\t}\n\n\t/**\n\t * @param {INTRO | OUTRO} b\n\t * @returns {void}\n\t */\n\tfunction go(b) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\t/**\n\t\t * @type {PendingProgram} */\n\t\tconst program = {\n\t\t\tstart: now() + delay,\n\t\t\tb\n\t\t};\n\n\t\tif (!b) {\n\t\t\t// @ts-ignore todo: improve typings\n\t\t\tprogram.group = outros;\n\t\t\toutros.r += 1;\n\t\t}\n\n\t\tif ('inert' in node) {\n\t\t\tif (b) {\n\t\t\t\tif (original_inert_value !== undefined) {\n\t\t\t\t\t// aborted/reversed outro — restore previous inert value\n\t\t\t\t\tnode.inert = original_inert_value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\t\tnode.inert = true;\n\t\t\t}\n\t\t}\n\n\t\tif (running_program || pending_program) {\n\t\t\tpending_program = program;\n\t\t} else {\n\t\t\t// if this is an intro, and there's a delay, we need to do\n\t\t\t// an initial tick and/or apply CSS animation immediately\n\t\t\tif (css) {\n\t\t\t\tclear_animation();\n\t\t\t\tanimation_name = create_rule(node, t, b, duration, delay, easing, css);\n\t\t\t}\n\t\t\tif (b) tick(0, 1);\n\t\t\trunning_program = init(program, duration);\n\t\t\tadd_render_callback(() => dispatch(node, b, 'start'));\n\t\t\tloop((now) => {\n\t\t\t\tif (pending_program && now > pending_program.start) {\n\t\t\t\t\trunning_program = init(pending_program, duration);\n\t\t\t\t\tpending_program = null;\n\t\t\t\t\tdispatch(node, running_program.b, 'start');\n\t\t\t\t\tif (css) {\n\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\tanimation_name = create_rule(\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tt,\n\t\t\t\t\t\t\trunning_program.b,\n\t\t\t\t\t\t\trunning_program.duration,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\teasing,\n\t\t\t\t\t\t\tconfig.css\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (running_program) {\n\t\t\t\t\tif (now >= running_program.end) {\n\t\t\t\t\t\ttick((t = running_program.b), 1 - t);\n\t\t\t\t\t\tdispatch(node, running_program.b, 'end');\n\t\t\t\t\t\tif (!pending_program) {\n\t\t\t\t\t\t\t// we're done\n\t\t\t\t\t\t\tif (running_program.b) {\n\t\t\t\t\t\t\t\t// intro — we can tidy up immediately\n\t\t\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// outro — needs to be coordinated\n\t\t\t\t\t\t\t\tif (!--running_program.group.r) run_all(running_program.group.c);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\trunning_program = null;\n\t\t\t\t\t} else if (now >= running_program.start) {\n\t\t\t\t\t\tconst p = now - running_program.start;\n\t\t\t\t\t\tt = running_program.a + running_program.d * easing(p / running_program.duration);\n\t\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!(running_program || pending_program);\n\t\t\t});\n\t\t}\n\t}\n\treturn {\n\t\trun(b) {\n\t\t\tif (is_function(config)) {\n\t\t\t\twait().then(() => {\n\t\t\t\t\tconst opts = { direction: b ? 'in' : 'out' };\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tconfig = config(opts);\n\t\t\t\t\tgo(b);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tgo(b);\n\t\t\t}\n\t\t},\n\t\tend() {\n\t\t\tclear_animation();\n\t\t\trunning_program = pending_program = null;\n\t\t}\n\t};\n}\n\n/** @typedef {1} INTRO */\n/** @typedef {0} OUTRO */\n/** @typedef {{ direction: 'in' | 'out' | 'both' }} TransitionOptions */\n/** @typedef {(node: Element, params: any, options: TransitionOptions) => import('../transition/public.js').TransitionConfig} TransitionFn */\n\n/**\n * @typedef {Object} Outro\n * @property {number} r\n * @property {Function[]} c\n * @property {Object} p\n */\n\n/**\n * @typedef {Object} PendingProgram\n * @property {number} start\n * @property {INTRO|OUTRO} b\n * @property {Outro} [group]\n */\n\n/**\n * @typedef {Object} Program\n * @property {number} a\n * @property {INTRO|OUTRO} b\n * @property {1|-1} d\n * @property {number} duration\n * @property {number} start\n * @property {number} end\n * @property {Outro} [group]\n */\n","import { is_promise } from './utils.js';\nimport { check_outros, group_outros, transition_in, transition_out } from './transitions.js';\nimport { flush } from './scheduler.js';\nimport { get_current_component, set_current_component } from './lifecycle.js';\n\n/**\n * @template T\n * @param {Promise<T>} promise\n * @param {import('./private.js').PromiseInfo<T>} info\n * @returns {boolean}\n */\nexport function handle_promise(promise, info) {\n\tconst token = (info.token = {});\n\t/**\n\t * @param {import('./private.js').FragmentFactory} type\n\t * @param {0 | 1 | 2} index\n\t * @param {number} [key]\n\t * @param {any} [value]\n\t * @returns {void}\n\t */\n\tfunction update(type, index, key, value) {\n\t\tif (info.token !== token) return;\n\t\tinfo.resolved = value;\n\t\tlet child_ctx = info.ctx;\n\t\tif (key !== undefined) {\n\t\t\tchild_ctx = child_ctx.slice();\n\t\t\tchild_ctx[key] = value;\n\t\t}\n\t\tconst block = type && (info.current = type)(child_ctx);\n\t\tlet needs_flush = false;\n\t\tif (info.block) {\n\t\t\tif (info.blocks) {\n\t\t\t\tinfo.blocks.forEach((block, i) => {\n\t\t\t\t\tif (i !== index && block) {\n\t\t\t\t\t\tgroup_outros();\n\t\t\t\t\t\ttransition_out(block, 1, 1, () => {\n\t\t\t\t\t\t\tif (info.blocks[i] === block) {\n\t\t\t\t\t\t\t\tinfo.blocks[i] = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcheck_outros();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tinfo.block.d(1);\n\t\t\t}\n\t\t\tblock.c();\n\t\t\ttransition_in(block, 1);\n\t\t\tblock.m(info.mount(), info.anchor);\n\t\t\tneeds_flush = true;\n\t\t}\n\t\tinfo.block = block;\n\t\tif (info.blocks) info.blocks[index] = block;\n\t\tif (needs_flush) {\n\t\t\tflush();\n\t\t}\n\t}\n\tif (is_promise(promise)) {\n\t\tconst current_component = get_current_component();\n\t\tpromise.then(\n\t\t\t(value) => {\n\t\t\t\tset_current_component(current_component);\n\t\t\t\tupdate(info.then, 1, info.value, value);\n\t\t\t\tset_current_component(null);\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tset_current_component(current_component);\n\t\t\t\tupdate(info.catch, 2, info.error, error);\n\t\t\t\tset_current_component(null);\n\t\t\t\tif (!info.hasCatch) {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t\t// if we previously had a then/catch block, destroy it\n\t\tif (info.current !== info.pending) {\n\t\t\tupdate(info.pending, 0);\n\t\t\treturn true;\n\t\t}\n\t} else {\n\t\tif (info.current !== info.then) {\n\t\t\tupdate(info.then, 1, info.value, promise);\n\t\t\treturn true;\n\t\t}\n\t\tinfo.resolved = /** @type {T} */ (promise);\n\t}\n}\n\n/** @returns {void} */\nexport function update_await_block_branch(info, ctx, dirty) {\n\tconst child_ctx = ctx.slice();\n\tconst { resolved } = info;\n\tif (info.current === info.then) {\n\t\tchild_ctx[info.value] = resolved;\n\t}\n\tif (info.current === info.catch) {\n\t\tchild_ctx[info.error] = resolved;\n\t}\n\tinfo.block.p(child_ctx, dirty);\n}\n","import { transition_in, transition_out } from './transitions.js';\nimport { run_all } from './utils.js';\n\n// general each functions:\n\nexport function ensure_array_like(array_like_or_iterator) {\n\treturn array_like_or_iterator?.length !== undefined\n\t\t? array_like_or_iterator\n\t\t: Array.from(array_like_or_iterator);\n}\n\n// keyed each functions:\n\n/** @returns {void} */\nexport function destroy_block(block, lookup) {\n\tblock.d(1);\n\tlookup.delete(block.key);\n}\n\n/** @returns {void} */\nexport function outro_and_destroy_block(block, lookup) {\n\ttransition_out(block, 1, 1, () => {\n\t\tlookup.delete(block.key);\n\t});\n}\n\n/** @returns {void} */\nexport function fix_and_destroy_block(block, lookup) {\n\tblock.f();\n\tdestroy_block(block, lookup);\n}\n\n/** @returns {void} */\nexport function fix_and_outro_and_destroy_block(block, lookup) {\n\tblock.f();\n\toutro_and_destroy_block(block, lookup);\n}\n\n/** @returns {any[]} */\nexport function update_keyed_each(\n\told_blocks,\n\tdirty,\n\tget_key,\n\tdynamic,\n\tctx,\n\tlist,\n\tlookup,\n\tnode,\n\tdestroy,\n\tcreate_each_block,\n\tnext,\n\tget_context\n) {\n\tlet o = old_blocks.length;\n\tlet n = list.length;\n\tlet i = o;\n\tconst old_indexes = {};\n\twhile (i--) old_indexes[old_blocks[i].key] = i;\n\tconst new_blocks = [];\n\tconst new_lookup = new Map();\n\tconst deltas = new Map();\n\tconst updates = [];\n\ti = n;\n\twhile (i--) {\n\t\tconst child_ctx = get_context(ctx, list, i);\n\t\tconst key = get_key(child_ctx);\n\t\tlet block = lookup.get(key);\n\t\tif (!block) {\n\t\t\tblock = create_each_block(key, child_ctx);\n\t\t\tblock.c();\n\t\t} else if (dynamic) {\n\t\t\t// defer updates until all the DOM shuffling is done\n\t\t\tupdates.push(() => block.p(child_ctx, dirty));\n\t\t}\n\t\tnew_lookup.set(key, (new_blocks[i] = block));\n\t\tif (key in old_indexes) deltas.set(key, Math.abs(i - old_indexes[key]));\n\t}\n\tconst will_move = new Set();\n\tconst did_move = new Set();\n\t/** @returns {void} */\n\tfunction insert(block) {\n\t\ttransition_in(block, 1);\n\t\tblock.m(node, next);\n\t\tlookup.set(block.key, block);\n\t\tnext = block.first;\n\t\tn--;\n\t}\n\twhile (o && n) {\n\t\tconst new_block = new_blocks[n - 1];\n\t\tconst old_block = old_blocks[o - 1];\n\t\tconst new_key = new_block.key;\n\t\tconst old_key = old_block.key;\n\t\tif (new_block === old_block) {\n\t\t\t// do nothing\n\t\t\tnext = new_block.first;\n\t\t\to--;\n\t\t\tn--;\n\t\t} else if (!new_lookup.has(old_key)) {\n\t\t\t// remove old block\n\t\t\tdestroy(old_block, lookup);\n\t\t\to--;\n\t\t} else if (!lookup.has(new_key) || will_move.has(new_key)) {\n\t\t\tinsert(new_block);\n\t\t} else if (did_move.has(old_key)) {\n\t\t\to--;\n\t\t} else if (deltas.get(new_key) > deltas.get(old_key)) {\n\t\t\tdid_move.add(new_key);\n\t\t\tinsert(new_block);\n\t\t} else {\n\t\t\twill_move.add(old_key);\n\t\t\to--;\n\t\t}\n\t}\n\twhile (o--) {\n\t\tconst old_block = old_blocks[o];\n\t\tif (!new_lookup.has(old_block.key)) destroy(old_block, lookup);\n\t}\n\twhile (n) insert(new_blocks[n - 1]);\n\trun_all(updates);\n\treturn new_blocks;\n}\n\n/** @returns {void} */\nexport function validate_each_keys(ctx, list, get_context, get_key) {\n\tconst keys = new Map();\n\tfor (let i = 0; i < list.length; i++) {\n\t\tconst key = get_key(get_context(ctx, list, i));\n\t\tif (keys.has(key)) {\n\t\t\tlet value = '';\n\t\t\ttry {\n\t\t\t\tvalue = `with value '${String(key)}' `;\n\t\t\t} catch (e) {\n\t\t\t\t// can't stringify\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`Cannot have duplicate keys in a keyed each: Keys at index ${keys.get(\n\t\t\t\t\tkey\n\t\t\t\t)} and ${i} ${value}are duplicates`\n\t\t\t);\n\t\t}\n\t\tkeys.set(key, i);\n\t}\n}\n","/** @returns {{}} */\nexport function get_spread_update(levels, updates) {\n\tconst update = {};\n\tconst to_null_out = {};\n\tconst accounted_for = { $$scope: 1 };\n\tlet i = levels.length;\n\twhile (i--) {\n\t\tconst o = levels[i];\n\t\tconst n = updates[i];\n\t\tif (n) {\n\t\t\tfor (const key in o) {\n\t\t\t\tif (!(key in n)) to_null_out[key] = 1;\n\t\t\t}\n\t\t\tfor (const key in n) {\n\t\t\t\tif (!accounted_for[key]) {\n\t\t\t\t\tupdate[key] = n[key];\n\t\t\t\t\taccounted_for[key] = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlevels[i] = n;\n\t\t} else {\n\t\t\tfor (const key in o) {\n\t\t\t\taccounted_for[key] = 1;\n\t\t\t}\n\t\t}\n\t}\n\tfor (const key in to_null_out) {\n\t\tif (!(key in update)) update[key] = undefined;\n\t}\n\treturn update;\n}\n\nexport function get_spread_object(spread_props) {\n\treturn typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n","const _boolean_attributes = /** @type {const} */ ([\n\t'allowfullscreen',\n\t'allowpaymentrequest',\n\t'async',\n\t'autofocus',\n\t'autoplay',\n\t'checked',\n\t'controls',\n\t'default',\n\t'defer',\n\t'disabled',\n\t'formnovalidate',\n\t'hidden',\n\t'inert',\n\t'ismap',\n\t'loop',\n\t'multiple',\n\t'muted',\n\t'nomodule',\n\t'novalidate',\n\t'open',\n\t'playsinline',\n\t'readonly',\n\t'required',\n\t'reversed',\n\t'selected'\n]);\n\n/**\n * List of HTML boolean attributes (e.g. `<input disabled>`).\n * Source: https://html.spec.whatwg.org/multipage/indices.html\n *\n * @type {Set<string>}\n */\nexport const boolean_attributes = new Set([..._boolean_attributes]);\n\n/** @typedef {typeof _boolean_attributes[number]} BooleanAttributes */\n","import { set_current_component, current_component } from './lifecycle.js';\nimport { run_all, blank_object } from './utils.js';\nimport { boolean_attributes } from '../../shared/boolean_attributes.js';\nimport { ensure_array_like } from './each.js';\nexport { is_void } from '../../shared/utils/names.js';\n\nexport const invalid_attribute_name_character =\n\t/[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\n\n/** @returns {string} */\nexport function spread(args, attrs_to_add) {\n\tconst attributes = Object.assign({}, ...args);\n\tif (attrs_to_add) {\n\t\tconst classes_to_add = attrs_to_add.classes;\n\t\tconst styles_to_add = attrs_to_add.styles;\n\t\tif (classes_to_add) {\n\t\t\tif (attributes.class == null) {\n\t\t\t\tattributes.class = classes_to_add;\n\t\t\t} else {\n\t\t\t\tattributes.class += ' ' + classes_to_add;\n\t\t\t}\n\t\t}\n\t\tif (styles_to_add) {\n\t\t\tif (attributes.style == null) {\n\t\t\t\tattributes.style = style_object_to_string(styles_to_add);\n\t\t\t} else {\n\t\t\t\tattributes.style = style_object_to_string(\n\t\t\t\t\tmerge_ssr_styles(attributes.style, styles_to_add)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\tlet str = '';\n\tObject.keys(attributes).forEach((name) => {\n\t\tif (invalid_attribute_name_character.test(name)) return;\n\t\tconst value = attributes[name];\n\t\tif (value === true) str += ' ' + name;\n\t\telse if (boolean_attributes.has(name.toLowerCase())) {\n\t\t\tif (value) str += ' ' + name;\n\t\t} else if (value != null) {\n\t\t\tstr += ` ${name}=\"${value}\"`;\n\t\t}\n\t});\n\treturn str;\n}\n\n/** @returns {{}} */\nexport function merge_ssr_styles(style_attribute, style_directive) {\n\tconst style_object = {};\n\tfor (const individual_style of style_attribute.split(';')) {\n\t\tconst colon_index = individual_style.indexOf(':');\n\t\tconst name = individual_style.slice(0, colon_index).trim();\n\t\tconst value = individual_style.slice(colon_index + 1).trim();\n\t\tif (!name) continue;\n\t\tstyle_object[name] = value;\n\t}\n\tfor (const name in style_directive) {\n\t\tconst value = style_directive[name];\n\t\tif (value) {\n\t\t\tstyle_object[name] = value;\n\t\t} else {\n\t\t\tdelete style_object[name];\n\t\t}\n\t}\n\treturn style_object;\n}\n\nconst ATTR_REGEX = /[&\"]/g;\nconst CONTENT_REGEX = /[&<]/g;\n\n/**\n * Note: this method is performance sensitive and has been optimized\n * https://github.com/sveltejs/svelte/pull/5701\n * @param {unknown} value\n * @returns {string}\n */\nexport function escape(value, is_attr = false) {\n\tconst str = String(value);\n\tconst pattern = is_attr ? ATTR_REGEX : CONTENT_REGEX;\n\tpattern.lastIndex = 0;\n\tlet escaped = '';\n\tlet last = 0;\n\twhile (pattern.test(str)) {\n\t\tconst i = pattern.lastIndex - 1;\n\t\tconst ch = str[i];\n\t\tescaped += str.substring(last, i) + (ch === '&' ? '&amp;' : ch === '\"' ? '&quot;' : '&lt;');\n\t\tlast = i + 1;\n\t}\n\treturn escaped + str.substring(last);\n}\n\nexport function escape_attribute_value(value) {\n\t// keep booleans, null, and undefined for the sake of `spread`\n\tconst should_escape = typeof value === 'string' || (value && typeof value === 'object');\n\treturn should_escape ? escape(value, true) : value;\n}\n\n/** @returns {{}} */\nexport function escape_object(obj) {\n\tconst result = {};\n\tfor (const key in obj) {\n\t\tresult[key] = escape_attribute_value(obj[key]);\n\t}\n\treturn result;\n}\n\n/** @returns {string} */\nexport function each(items, fn) {\n\titems = ensure_array_like(items);\n\tlet str = '';\n\tfor (let i = 0; i < items.length; i += 1) {\n\t\tstr += fn(items[i], i);\n\t}\n\treturn str;\n}\n\nexport const missing_component = {\n\t$$render: () => ''\n};\n\nexport function validate_component(component, name) {\n\tif (!component || !component.$$render) {\n\t\tif (name === 'svelte:component') name += ' this={...}';\n\t\tthrow new Error(\n\t\t\t`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${name}>.`\n\t\t);\n\t}\n\treturn component;\n}\n\n/** @returns {string} */\nexport function debug(file, line, column, values) {\n\tconsole.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n\tconsole.log(values); // eslint-disable-line no-console\n\treturn '';\n}\n\nlet on_destroy;\n\n/** @returns {{ render: (props?: {}, { $$slots, context }?: { $$slots?: {}; context?: Map<any, any>; }) => { html: any; css: { code: string; map: any; }; head: string; }; $$render: (result: any, props: any, bindings: any, slots: any, context: any) => any; }} */\nexport function create_ssr_component(fn) {\n\tfunction $$render(result, props, bindings, slots, context) {\n\t\tconst parent_component = current_component;\n\t\tconst $$ = {\n\t\t\ton_destroy,\n\t\t\tcontext: new Map(context || (parent_component ? parent_component.$$.context : [])),\n\t\t\t// these will be immediately discarded\n\t\t\ton_mount: [],\n\t\t\tbefore_update: [],\n\t\t\tafter_update: [],\n\t\t\tcallbacks: blank_object()\n\t\t};\n\t\tset_current_component({ $$ });\n\t\tconst html = fn(result, props, bindings, slots);\n\t\tset_current_component(parent_component);\n\t\treturn html;\n\t}\n\treturn {\n\t\trender: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n\t\t\ton_destroy = [];\n\t\t\tconst result = { title: '', head: '', css: new Set() };\n\t\t\tconst html = $$render(result, props, {}, $$slots, context);\n\t\t\trun_all(on_destroy);\n\t\t\treturn {\n\t\t\t\thtml,\n\t\t\t\tcss: {\n\t\t\t\t\tcode: Array.from(result.css)\n\t\t\t\t\t\t.map((css) => css.code)\n\t\t\t\t\t\t.join('\\n'),\n\t\t\t\t\tmap: null // TODO\n\t\t\t\t},\n\t\t\t\thead: result.title + result.head\n\t\t\t};\n\t\t},\n\t\t$$render\n\t};\n}\n\n/** @returns {string} */\nexport function add_attribute(name, value, boolean) {\n\tif (value == null || (boolean && !value)) return '';\n\tconst assignment = boolean && value === true ? '' : `=\"${escape(value, true)}\"`;\n\treturn ` ${name}${assignment}`;\n}\n\n/** @returns {string} */\nexport function add_classes(classes) {\n\treturn classes ? ` class=\"${classes}\"` : '';\n}\n\n/** @returns {string} */\nfunction style_object_to_string(style_object) {\n\treturn Object.keys(style_object)\n\t\t.filter((key) => style_object[key])\n\t\t.map((key) => `${key}: ${escape_attribute_value(style_object[key])};`)\n\t\t.join(' ');\n}\n\n/** @returns {string} */\nexport function add_styles(style_object) {\n\tconst styles = style_object_to_string(style_object);\n\treturn styles ? ` style=\"${styles}\"` : '';\n}\n","import {\n\tadd_render_callback,\n\tflush,\n\tflush_render_callbacks,\n\tschedule_update,\n\tdirty_components\n} from './scheduler.js';\nimport { current_component, set_current_component } from './lifecycle.js';\nimport { blank_object, is_empty, is_function, run, run_all, noop } from './utils.js';\nimport {\n\tchildren,\n\tdetach,\n\tstart_hydrating,\n\tend_hydrating,\n\tget_custom_elements_slots,\n\tinsert,\n\telement,\n\tattr\n} from './dom.js';\nimport { transition_in } from './transitions.js';\n\n/** @returns {void} */\nexport function bind(component, name, callback) {\n\tconst index = component.$$.props[name];\n\tif (index !== undefined) {\n\t\tcomponent.$$.bound[index] = callback;\n\t\tcallback(component.$$.ctx[index]);\n\t}\n}\n\n/** @returns {void} */\nexport function create_component(block) {\n\tblock && block.c();\n}\n\n/** @returns {void} */\nexport function claim_component(block, parent_nodes) {\n\tblock && block.l(parent_nodes);\n}\n\n/** @returns {void} */\nexport function mount_component(component, target, anchor) {\n\tconst { fragment, after_update } = component.$$;\n\tfragment && fragment.m(target, anchor);\n\t// onMount happens before the initial afterUpdate\n\tadd_render_callback(() => {\n\t\tconst new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n\t\t// if the component was destroyed immediately\n\t\t// it will update the `$$.on_destroy` reference to `null`.\n\t\t// the destructured on_destroy may still reference to the old array\n\t\tif (component.$$.on_destroy) {\n\t\t\tcomponent.$$.on_destroy.push(...new_on_destroy);\n\t\t} else {\n\t\t\t// Edge case - component was destroyed immediately,\n\t\t\t// most likely as a result of a binding initialising\n\t\t\trun_all(new_on_destroy);\n\t\t}\n\t\tcomponent.$$.on_mount = [];\n\t});\n\tafter_update.forEach(add_render_callback);\n}\n\n/** @returns {void} */\nexport function destroy_component(component, detaching) {\n\tconst $$ = component.$$;\n\tif ($$.fragment !== null) {\n\t\tflush_render_callbacks($$.after_update);\n\t\trun_all($$.on_destroy);\n\t\t$$.fragment && $$.fragment.d(detaching);\n\t\t// TODO null out other refs, including component.$$ (but need to\n\t\t// preserve final state?)\n\t\t$$.on_destroy = $$.fragment = null;\n\t\t$$.ctx = [];\n\t}\n}\n\n/** @returns {void} */\nfunction make_dirty(component, i) {\n\tif (component.$$.dirty[0] === -1) {\n\t\tdirty_components.push(component);\n\t\tschedule_update();\n\t\tcomponent.$$.dirty.fill(0);\n\t}\n\tcomponent.$$.dirty[(i / 31) | 0] |= 1 << i % 31;\n}\n\n/** @returns {void} */\nexport function init(\n\tcomponent,\n\toptions,\n\tinstance,\n\tcreate_fragment,\n\tnot_equal,\n\tprops,\n\tappend_styles,\n\tdirty = [-1]\n) {\n\tconst parent_component = current_component;\n\tset_current_component(component);\n\t/** @type {import('./private.js').T$$} */\n\tconst $$ = (component.$$ = {\n\t\tfragment: null,\n\t\tctx: [],\n\t\t// state\n\t\tprops,\n\t\tupdate: noop,\n\t\tnot_equal,\n\t\tbound: blank_object(),\n\t\t// lifecycle\n\t\ton_mount: [],\n\t\ton_destroy: [],\n\t\ton_disconnect: [],\n\t\tbefore_update: [],\n\t\tafter_update: [],\n\t\tcontext: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n\t\t// everything else\n\t\tcallbacks: blank_object(),\n\t\tdirty,\n\t\tskip_bound: false,\n\t\troot: options.target || parent_component.$$.root\n\t});\n\tappend_styles && append_styles($$.root);\n\tlet ready = false;\n\t$$.ctx = instance\n\t\t? instance(component, options.props || {}, (i, ret, ...rest) => {\n\t\t\t\tconst value = rest.length ? rest[0] : ret;\n\t\t\t\tif ($$.ctx && not_equal($$.ctx[i], ($$.ctx[i] = value))) {\n\t\t\t\t\tif (!$$.skip_bound && $$.bound[i]) $$.bound[i](value);\n\t\t\t\t\tif (ready) make_dirty(component, i);\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t  })\n\t\t: [];\n\t$$.update();\n\tready = true;\n\trun_all($$.before_update);\n\t// `false` as a special case of no DOM component\n\t$$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n\tif (options.target) {\n\t\tif (options.hydrate) {\n\t\t\tstart_hydrating();\n\t\t\tconst nodes = children(options.target);\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t$$.fragment && $$.fragment.l(nodes);\n\t\t\tnodes.forEach(detach);\n\t\t} else {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t$$.fragment && $$.fragment.c();\n\t\t}\n\t\tif (options.intro) transition_in(component.$$.fragment);\n\t\tmount_component(component, options.target, options.anchor);\n\t\tend_hydrating();\n\t\tflush();\n\t}\n\tset_current_component(parent_component);\n}\n\nexport let SvelteElement;\n\nif (typeof HTMLElement === 'function') {\n\tSvelteElement = class extends HTMLElement {\n\t\t/** The Svelte component constructor */\n\t\t$$ctor;\n\t\t/** Slots */\n\t\t$$s;\n\t\t/** The Svelte component instance */\n\t\t$$c;\n\t\t/** Whether or not the custom element is connected */\n\t\t$$cn = false;\n\t\t/** Component props data */\n\t\t$$d = {};\n\t\t/** `true` if currently in the process of reflecting component props back to attributes */\n\t\t$$r = false;\n\t\t/** @type {Record<string, CustomElementPropDefinition>} Props definition (name, reflected, type etc) */\n\t\t$$p_d = {};\n\t\t/** @type {Record<string, Function[]>} Event listeners */\n\t\t$$l = {};\n\t\t/** @type {Map<Function, Function>} Event listener unsubscribe functions */\n\t\t$$l_u = new Map();\n\n\t\tconstructor($$componentCtor, $$slots, use_shadow_dom) {\n\t\t\tsuper();\n\t\t\tthis.$$ctor = $$componentCtor;\n\t\t\tthis.$$s = $$slots;\n\t\t\tif (use_shadow_dom) {\n\t\t\t\tthis.attachShadow({ mode: 'open' });\n\t\t\t}\n\t\t}\n\n\t\taddEventListener(type, listener, options) {\n\t\t\t// We can't determine upfront if the event is a custom event or not, so we have to\n\t\t\t// listen to both. If someone uses a custom event with the same name as a regular\n\t\t\t// browser event, this fires twice - we can't avoid that.\n\t\t\tthis.$$l[type] = this.$$l[type] || [];\n\t\t\tthis.$$l[type].push(listener);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t}\n\t\t\tsuper.addEventListener(type, listener, options);\n\t\t}\n\n\t\tremoveEventListener(type, listener, options) {\n\t\t\tsuper.removeEventListener(type, listener, options);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$l_u.get(listener);\n\t\t\t\tif (unsub) {\n\t\t\t\t\tunsub();\n\t\t\t\t\tthis.$$l_u.delete(listener);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tasync connectedCallback() {\n\t\t\tthis.$$cn = true;\n\t\t\tif (!this.$$c) {\n\t\t\t\t// We wait one tick to let possible child slot elements be created/mounted\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tif (!this.$$cn) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfunction create_slot(name) {\n\t\t\t\t\treturn () => {\n\t\t\t\t\t\tlet node;\n\t\t\t\t\t\tconst obj = {\n\t\t\t\t\t\t\tc: function create() {\n\t\t\t\t\t\t\t\tnode = element('slot');\n\t\t\t\t\t\t\t\tif (name !== 'default') {\n\t\t\t\t\t\t\t\t\tattr(node, 'name', name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * @param {HTMLElement} target\n\t\t\t\t\t\t\t * @param {HTMLElement} [anchor]\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tm: function mount(target, anchor) {\n\t\t\t\t\t\t\t\tinsert(target, node, anchor);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\td: function destroy(detaching) {\n\t\t\t\t\t\t\t\tif (detaching) {\n\t\t\t\t\t\t\t\t\tdetach(node);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst $$slots = {};\n\t\t\t\tconst existing_slots = get_custom_elements_slots(this);\n\t\t\t\tfor (const name of this.$$s) {\n\t\t\t\t\tif (name in existing_slots) {\n\t\t\t\t\t\t$$slots[name] = [create_slot(name)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (const attribute of this.attributes) {\n\t\t\t\t\t// this.$$data takes precedence over this.attributes\n\t\t\t\t\tconst name = this.$$g_p(attribute.name);\n\t\t\t\t\tif (!(name in this.$$d)) {\n\t\t\t\t\t\tthis.$$d[name] = get_custom_element_value(name, attribute.value, this.$$p_d, 'toProp');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$c = new this.$$ctor({\n\t\t\t\t\ttarget: this.shadowRoot || this,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...this.$$d,\n\t\t\t\t\t\t$$slots,\n\t\t\t\t\t\t$$scope: {\n\t\t\t\t\t\t\tctx: []\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Reflect component props as attributes\n\t\t\t\tconst reflect_attributes = () => {\n\t\t\t\t\tthis.$$r = true;\n\t\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\t\tthis.$$d[key] = this.$$c.$$.ctx[this.$$c.$$.props[key]];\n\t\t\t\t\t\tif (this.$$p_d[key].reflect) {\n\t\t\t\t\t\t\tconst attribute_value = get_custom_element_value(\n\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\tthis.$$d[key],\n\t\t\t\t\t\t\t\tthis.$$p_d,\n\t\t\t\t\t\t\t\t'toAttribute'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (attribute_value == null) {\n\t\t\t\t\t\t\t\tthis.removeAttribute(key);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.setAttribute(this.$$p_d[key].attribute || key, attribute_value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.$$r = false;\n\t\t\t\t};\n\t\t\t\tthis.$$c.$$.after_update.push(reflect_attributes);\n\t\t\t\treflect_attributes(); // once initially because after_update is added too late for first render\n\n\t\t\t\tfor (const type in this.$$l) {\n\t\t\t\t\tfor (const listener of this.$$l[type]) {\n\t\t\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$l = {};\n\t\t\t}\n\t\t}\n\n\t\t// We don't need this when working within Svelte code, but for compatibility of people using this outside of Svelte\n\t\t// and setting attributes through setAttribute etc, this is helpful\n\t\tattributeChangedCallback(attr, _oldValue, newValue) {\n\t\t\tif (this.$$r) return;\n\t\t\tattr = this.$$g_p(attr);\n\t\t\tthis.$$d[attr] = get_custom_element_value(attr, newValue, this.$$p_d, 'toProp');\n\t\t\tthis.$$c?.$set({ [attr]: this.$$d[attr] });\n\t\t}\n\n\t\tdisconnectedCallback() {\n\t\t\tthis.$$cn = false;\n\t\t\t// In a microtask, because this could be a move within the DOM\n\t\t\tPromise.resolve().then(() => {\n\t\t\t\tif (!this.$$cn) {\n\t\t\t\t\tthis.$$c.$destroy();\n\t\t\t\t\tthis.$$c = undefined;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$$g_p(attribute_name) {\n\t\t\treturn (\n\t\t\t\tObject.keys(this.$$p_d).find(\n\t\t\t\t\t(key) =>\n\t\t\t\t\t\tthis.$$p_d[key].attribute === attribute_name ||\n\t\t\t\t\t\t(!this.$$p_d[key].attribute && key.toLowerCase() === attribute_name)\n\t\t\t\t) || attribute_name\n\t\t\t);\n\t\t}\n\t};\n}\n\n/**\n * @param {string} prop\n * @param {any} value\n * @param {Record<string, CustomElementPropDefinition>} props_definition\n * @param {'toAttribute' | 'toProp'} [transform]\n */\nfunction get_custom_element_value(prop, value, props_definition, transform) {\n\tconst type = props_definition[prop]?.type;\n\tvalue = type === 'Boolean' && typeof value !== 'boolean' ? value != null : value;\n\tif (!transform || !props_definition[prop]) {\n\t\treturn value;\n\t} else if (transform === 'toAttribute') {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value == null ? null : JSON.stringify(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value ? '' : null;\n\t\t\tcase 'Number':\n\t\t\t\treturn value == null ? null : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t} else {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value && JSON.parse(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value; // conversion already handled above\n\t\t\tcase 'Number':\n\t\t\t\treturn value != null ? +value : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t}\n}\n\n/**\n * @internal\n *\n * Turn a Svelte component into a custom element.\n * @param {import('./public.js').ComponentType} Component  A Svelte component constructor\n * @param {Record<string, CustomElementPropDefinition>} props_definition  The props to observe\n * @param {string[]} slots  The slots to create\n * @param {string[]} accessors  Other accessors besides the ones for props the component has\n * @param {boolean} use_shadow_dom  Whether to use shadow DOM\n * @param {(ce: new () => HTMLElement) => new () => HTMLElement} [extend]\n */\nexport function create_custom_element(\n\tComponent,\n\tprops_definition,\n\tslots,\n\taccessors,\n\tuse_shadow_dom,\n\textend\n) {\n\tlet Class = class extends SvelteElement {\n\t\tconstructor() {\n\t\t\tsuper(Component, slots, use_shadow_dom);\n\t\t\tthis.$$p_d = props_definition;\n\t\t}\n\t\tstatic get observedAttributes() {\n\t\t\treturn Object.keys(props_definition).map((key) =>\n\t\t\t\t(props_definition[key].attribute || key).toLowerCase()\n\t\t\t);\n\t\t}\n\t};\n\tObject.keys(props_definition).forEach((prop) => {\n\t\tObject.defineProperty(Class.prototype, prop, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c && prop in this.$$c ? this.$$c[prop] : this.$$d[prop];\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tvalue = get_custom_element_value(prop, value, props_definition);\n\t\t\t\tthis.$$d[prop] = value;\n\t\t\t\tthis.$$c?.$set({ [prop]: value });\n\t\t\t}\n\t\t});\n\t});\n\taccessors.forEach((accessor) => {\n\t\tObject.defineProperty(Class.prototype, accessor, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c?.[accessor];\n\t\t\t}\n\t\t});\n\t});\n\tif (extend) {\n\t\t// @ts-expect-error - assigning here is fine\n\t\tClass = extend(Class);\n\t}\n\tComponent.element = /** @type {any} */ (Class);\n\treturn Class;\n}\n\n/**\n * Base class for Svelte components. Used when dev=false.\n *\n * @template {Record<string, any>} [Props=any]\n * @template {Record<string, any>} [Events=any]\n */\nexport class SvelteComponent {\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$ = undefined;\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$set = undefined;\n\n\t/** @returns {void} */\n\t$destroy() {\n\t\tdestroy_component(this, 1);\n\t\tthis.$destroy = noop;\n\t}\n\n\t/**\n\t * @template {Extract<keyof Events, string>} K\n\t * @param {K} type\n\t * @param {((e: Events[K]) => void) | null | undefined} callback\n\t * @returns {() => void}\n\t */\n\t$on(type, callback) {\n\t\tif (!is_function(callback)) {\n\t\t\treturn noop;\n\t\t}\n\t\tconst callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n\t\tcallbacks.push(callback);\n\t\treturn () => {\n\t\t\tconst index = callbacks.indexOf(callback);\n\t\t\tif (index !== -1) callbacks.splice(index, 1);\n\t\t};\n\t}\n\n\t/**\n\t * @param {Partial<Props>} props\n\t * @returns {void}\n\t */\n\t$set(props) {\n\t\tif (this.$$set && !is_empty(props)) {\n\t\t\tthis.$$.skip_bound = true;\n\t\t\tthis.$$set(props);\n\t\t\tthis.$$.skip_bound = false;\n\t\t}\n\t}\n}\n\n/**\n * @typedef {Object} CustomElementPropDefinition\n * @property {string} [attribute]\n * @property {boolean} [reflect]\n * @property {'String'|'Boolean'|'Number'|'Array'|'Object'} [type]\n */\n","// generated during release, do not modify\n\n/**\n * The current version, as set in package.json.\n *\n * https://svelte.dev/docs/svelte-compiler#svelte-version\n * @type {string}\n */\nexport const VERSION = '4.2.0';\nexport const PUBLIC_VERSION = '4';\n","import {\n\tcustom_event,\n\tappend,\n\tappend_hydration,\n\tinsert,\n\tinsert_hydration,\n\tdetach,\n\tlisten,\n\tattr\n} from './dom.js';\nimport { SvelteComponent } from './Component.js';\nimport { is_void } from '../../shared/utils/names.js';\nimport { VERSION } from '../../shared/version.js';\nimport { contenteditable_truthy_values } from './utils.js';\nimport { ensure_array_like } from './each.js';\n\n/**\n * @template T\n * @param {string} type\n * @param {T} [detail]\n * @returns {void}\n */\nexport function dispatch_dev(type, detail) {\n\tdocument.dispatchEvent(custom_event(type, { version: VERSION, ...detail }, { bubbles: true }));\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @returns {void}\n */\nexport function append_dev(target, node) {\n\tdispatch_dev('SvelteDOMInsert', { target, node });\n\tappend(target, node);\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @returns {void}\n */\nexport function append_hydration_dev(target, node) {\n\tdispatch_dev('SvelteDOMInsert', { target, node });\n\tappend_hydration(target, node);\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @param {Node} [anchor]\n * @returns {void}\n */\nexport function insert_dev(target, node, anchor) {\n\tdispatch_dev('SvelteDOMInsert', { target, node, anchor });\n\tinsert(target, node, anchor);\n}\n\n/** @param {Node} target\n * @param {Node} node\n * @param {Node} [anchor]\n * @returns {void}\n */\nexport function insert_hydration_dev(target, node, anchor) {\n\tdispatch_dev('SvelteDOMInsert', { target, node, anchor });\n\tinsert_hydration(target, node, anchor);\n}\n\n/**\n * @param {Node} node\n * @returns {void}\n */\nexport function detach_dev(node) {\n\tdispatch_dev('SvelteDOMRemove', { node });\n\tdetach(node);\n}\n\n/**\n * @param {Node} before\n * @param {Node} after\n * @returns {void}\n */\nexport function detach_between_dev(before, after) {\n\twhile (before.nextSibling && before.nextSibling !== after) {\n\t\tdetach_dev(before.nextSibling);\n\t}\n}\n\n/**\n * @param {Node} after\n * @returns {void}\n */\nexport function detach_before_dev(after) {\n\twhile (after.previousSibling) {\n\t\tdetach_dev(after.previousSibling);\n\t}\n}\n\n/**\n * @param {Node} before\n * @returns {void}\n */\nexport function detach_after_dev(before) {\n\twhile (before.nextSibling) {\n\t\tdetach_dev(before.nextSibling);\n\t}\n}\n\n/**\n * @param {Node} node\n * @param {string} event\n * @param {EventListenerOrEventListenerObject} handler\n * @param {boolean | AddEventListenerOptions | EventListenerOptions} [options]\n * @param {boolean} [has_prevent_default]\n * @param {boolean} [has_stop_propagation]\n * @param {boolean} [has_stop_immediate_propagation]\n * @returns {() => void}\n */\nexport function listen_dev(\n\tnode,\n\tevent,\n\thandler,\n\toptions,\n\thas_prevent_default,\n\thas_stop_propagation,\n\thas_stop_immediate_propagation\n) {\n\tconst modifiers =\n\t\toptions === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n\tif (has_prevent_default) modifiers.push('preventDefault');\n\tif (has_stop_propagation) modifiers.push('stopPropagation');\n\tif (has_stop_immediate_propagation) modifiers.push('stopImmediatePropagation');\n\tdispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n\tconst dispose = listen(node, event, handler, options);\n\treturn () => {\n\t\tdispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n\t\tdispose();\n\t};\n}\n\n/**\n * @param {Element} node\n * @param {string} attribute\n * @param {string} [value]\n * @returns {void}\n */\nexport function attr_dev(node, attribute, value) {\n\tattr(node, attribute, value);\n\tif (value == null) dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n\telse dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\n\n/**\n * @param {Element} node\n * @param {string} property\n * @param {any} [value]\n * @returns {void}\n */\nexport function prop_dev(node, property, value) {\n\tnode[property] = value;\n\tdispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\n\n/**\n * @param {HTMLElement} node\n * @param {string} property\n * @param {any} [value]\n * @returns {void}\n */\nexport function dataset_dev(node, property, value) {\n\tnode.dataset[property] = value;\n\tdispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data_dev(text, data) {\n\tdata = '' + data;\n\tif (text.data === data) return;\n\tdispatch_dev('SvelteDOMSetData', { node: text, data });\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data_contenteditable_dev(text, data) {\n\tdata = '' + data;\n\tif (text.wholeText === data) return;\n\tdispatch_dev('SvelteDOMSetData', { node: text, data });\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @param {string} attr_value\n * @returns {void}\n */\nexport function set_data_maybe_contenteditable_dev(text, data, attr_value) {\n\tif (~contenteditable_truthy_values.indexOf(attr_value)) {\n\t\tset_data_contenteditable_dev(text, data);\n\t} else {\n\t\tset_data_dev(text, data);\n\t}\n}\n\nexport function ensure_array_like_dev(arg) {\n\tif (\n\t\ttypeof arg !== 'string' &&\n\t\t!(arg && typeof arg === 'object' && 'length' in arg) &&\n\t\t!(typeof Symbol === 'function' && arg && Symbol.iterator in arg)\n\t) {\n\t\tthrow new Error('{#each} only works with iterable values.');\n\t}\n\treturn ensure_array_like(arg);\n}\n\n/**\n * @returns {void} */\nexport function validate_slots(name, slot, keys) {\n\tfor (const slot_key of Object.keys(slot)) {\n\t\tif (!~keys.indexOf(slot_key)) {\n\t\t\tconsole.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n\t\t}\n\t}\n}\n\n/**\n * @param {unknown} tag\n * @returns {void}\n */\nexport function validate_dynamic_element(tag) {\n\tconst is_string = typeof tag === 'string';\n\tif (tag && !is_string) {\n\t\tthrow new Error('<svelte:element> expects \"this\" attribute to be a string.');\n\t}\n}\n\n/**\n * @param {undefined | string} tag\n * @returns {void}\n */\nexport function validate_void_dynamic_element(tag) {\n\tif (tag && is_void(tag)) {\n\t\tconsole.warn(`<svelte:element this=\"${tag}\"> is self-closing and cannot have content.`);\n\t}\n}\n\nexport function construct_svelte_component_dev(component, props) {\n\tconst error_message = 'this={...} of <svelte:component> should specify a Svelte component.';\n\ttry {\n\t\tconst instance = new component(props);\n\t\tif (!instance.$$ || !instance.$set || !instance.$on || !instance.$destroy) {\n\t\t\tthrow new Error(error_message);\n\t\t}\n\t\treturn instance;\n\t} catch (err) {\n\t\tconst { message } = err;\n\t\tif (typeof message === 'string' && message.indexOf('is not a constructor') !== -1) {\n\t\t\tthrow new Error(error_message);\n\t\t} else {\n\t\t\tthrow err;\n\t\t}\n\t}\n}\n\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n *\n * Can be used to create strongly typed Svelte components.\n *\n * #### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponent } from \"svelte\";\n * export class MyComponent extends SvelteComponent<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n * @template {Record<string, any>} [Props=any]\n * @template {Record<string, any>} [Events=any]\n * @template {Record<string, any>} [Slots=any]\n * @extends {SvelteComponent<Props, Events>}\n */\nexport class SvelteComponentDev extends SvelteComponent {\n\t/**\n\t * For type checking capabilities only.\n\t * Does not exist at runtime.\n\t * ### DO NOT USE!\n\t *\n\t * @type {Props}\n\t */\n\t$$prop_def;\n\t/**\n\t * For type checking capabilities only.\n\t * Does not exist at runtime.\n\t * ### DO NOT USE!\n\t *\n\t * @type {Events}\n\t */\n\t$$events_def;\n\t/**\n\t * For type checking capabilities only.\n\t * Does not exist at runtime.\n\t * ### DO NOT USE!\n\t *\n\t * @type {Slots}\n\t */\n\t$$slot_def;\n\n\t/** @param {import('./public.js').ComponentConstructorOptions<Props>} options */\n\tconstructor(options) {\n\t\tif (!options || (!options.target && !options.$$inline)) {\n\t\t\tthrow new Error(\"'target' is a required option\");\n\t\t}\n\t\tsuper();\n\t}\n\n\t/** @returns {void} */\n\t$destroy() {\n\t\tsuper.$destroy();\n\t\tthis.$destroy = () => {\n\t\t\tconsole.warn('Component was already destroyed'); // eslint-disable-line no-console\n\t\t};\n\t}\n\n\t/** @returns {void} */\n\t$capture_state() {}\n\n\t/** @returns {void} */\n\t$inject_state() {}\n}\n/**\n * @template {Record<string, any>} [Props=any]\n * @template {Record<string, any>} [Events=any]\n * @template {Record<string, any>} [Slots=any]\n * @deprecated Use `SvelteComponent` instead. See PR for more information: https://github.com/sveltejs/svelte/pull/8512\n * @extends {SvelteComponentDev<Props, Events, Slots>}\n */\nexport class SvelteComponentTyped extends SvelteComponentDev {}\n\n/** @returns {() => void} */\nexport function loop_guard(timeout) {\n\tconst start = Date.now();\n\treturn () => {\n\t\tif (Date.now() - start > timeout) {\n\t\t\tthrow new Error('Infinite loop detected');\n\t\t}\n\t};\n}\n","export * from './animations.js';\nexport * from './await_block.js';\nexport * from './dom.js';\nexport * from './environment.js';\nexport * from './globals.js';\nexport * from './each.js';\nexport * from './lifecycle.js';\nexport * from './loop.js';\nexport * from './scheduler.js';\nexport * from './spread.js';\nexport * from './ssr.js';\nexport * from './transitions.js';\nexport * from './utils.js';\nexport * from './Component.js';\nexport * from './dev.js';\n","import { PUBLIC_VERSION } from '../../../shared/version.js';\n\nif (typeof window !== 'undefined')\n\t// @ts-ignore\n\t(window.__svelte || (window.__svelte = { v: new Set() })).v.add(PUBLIC_VERSION);\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./style.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./style.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","const getAudioData=e=>{window.AudioContext=window.AudioContext||window.webkitAudioContext;const a=new AudioContext;return fetch(e).then(e=>e.arrayBuffer()).then(e=>a.decodeAudioData(e)).catch(e=>{console.error(e)})},linearPath=(e,a)=>{const{channel:t=0,samples:v=e.length,height:h=100,width:r=800,top:s=0,left:l=0,type:i=\"steps\",paths:$=[{d:\"Q\",sx:0,sy:0,x:50,y:100,ex:100,ey:0}],animation:o=!1,animationframes:n=10,normalize:b=!0}=a;var a=getFramesData(e,t,o,n),e=getFilterData(a,v),w=b?getNormalizeData(e):e;let c=\"\";var p,f,g=\"bars\"!=i?(h+2*s)/2:h+s,m=r/v,y=$.length,u=\"mirror\"==i?2*y:y,A=w.length;for(let n=0;n<A;n++){0<n&&(p=c.length,f=c.charAt(p-1),c+=\";\"==f||0===p?\" M 0 0 ;\":\";\");let s=-9999,o=-9999;for(let r=0;r<v;r++){var M=\"bars\"==i||r%2?1:-1;let t=1;for(let e=0;e<u;e++){let a=e;e>=y&&(a=e-y,t=-1),$[a].minshow=$[a].minshow??0,$[a].maxshow=$[a].maxshow??1,$[a].normalize=$[a].normalize??!1;var d=$[a].normalize?1:w[n][r];if($[a].minshow<=w[n][r]&&$[a].maxshow>=w[n][r])switch($[a].d){case\"L\":var D=r*m+m*$[a].sx/100+l,x=g+d*$[a].sy/100*(\"bars\"!=i?h/2:h)*-M*t,k=r*m+m*$[a].ex/100+l,z=g+d*$[a].ey/100*(\"bars\"!=i?h/2:h)*-M*t;D===s&&x===o||(c+=`M ${D} ${x} `),c+=`L ${k} ${z} `,s=k,o=z;break;case\"H\":D=r*m+m*$[a].sx/100+l,x=g+d*$[a].y/100*(\"bars\"!=i?h/2:h)*-M*t,k=r*m+m*$[a].ex/100+l;D===s&&x===o||(c+=`M ${D} ${x} `),c+=`H ${k} `,s=k,o=x;break;case\"V\":var z=r*m+m*$[a].x/100+l,C=g+d*$[a].sy/100*(\"bars\"!=i?h/2:h)*-M*t,F=g+d*$[a].ey/100*(\"bars\"!=i?h/2:h)*-M*t;z===s&&C===o||(c+=`M ${z} ${C} `),c+=`V ${F} `,s=z,o=F;break;case\"C\":var C=r*m+m*$[a].sx/100+l,F=g-g*$[a].sy/100*M,Q=r*m+m*$[a].x/100+l,P=g+d*$[a].y/100*(\"bars\"!=i?h:2*h)*-M*t,L=r*m+m*$[a].ex/100+l,Z=g-g*$[a].ey/100*M;C===s&&F===o||(c+=`M ${C} ${F} `),c+=`C ${C} ${F} ${Q} ${P} ${L} ${Z} `,s=L,o=Z;break;case\"Q\":var Q=r*m+m*$[a].sx/100+l,P=g+d*$[a].sy/100*(\"bars\"!=i?h/2:h)*-M*t,L=r*m+m*$[a].x/100+l,Z=g+d*$[a].y/100*(\"bars\"!=i?h:2*h)*-M*t,N=r*m+m*$[a].ex/100+l,H=g+d*$[a].ey/100*(\"bars\"!=i?h/2:h)*-M*t;Q===s&&P===o||(c+=`M ${Q} ${P} `),c+=`Q ${L} ${Z} ${N} ${H} `,s=N,o=H;break;case\"A\":{var N=r*m+m*$[a].sx/100+l,H=g+d*$[a].sy/100*(\"bars\"!=i?h/2:h)*-M*t,V=r*m+m*$[a].ex/100+l,B=g+d*$[a].ey/100*(\"bars\"!=i?h/2:h)*-M*t,I=(N===s&&H===o||(c+=`M ${N} ${H} `),$[a].rx*m/100),R=$[a].ry*m/100;let e=$[a].sweep;-1==M&&(e=1==e?0:1),-1==t&&(e=1==e?0:1),c+=`A ${I} ${R} ${$[a].angle} ${$[a].arc} ${e} ${V} ${B} `,s=V,o=B;break}case\"Z\":c+=\"Z \"}}}}return c},polarPath=(e,a)=>{const{channel:t=0,samples:v=e.length,distance:h=50,length:l=100,top:i=0,left:$=0,type:b=\"steps\",startdeg:r=0,enddeg:s=360,invertdeg:o=!1,invertpath:n=!1,paths:c=[{d:\"Q\",sdeg:0,sr:0,deg:50,r:100,edeg:100,er:0}],animation:w=!1,animationframes:p=10,normalize:f=!0}=a;var a=getFramesData(e,t,w,p),e=getFilterData(a,v),y=f?getNormalizeData(e):e;let g=\"\";var u,A,a=s<r?s+360:s,m=o?(r-a)/v:(a-r)/v,D=o?90+r+180:90+r,M=n?-1:1,k=c.length,z=\"mirror\"==b?2*k:k,C=Math.PI/180,F=y.length;for(let n=0;n<F;n++){0<n&&(u=g.length,A=g.charAt(u-1),g+=\";\"==A||0===u?\" M 0 0 ;\":\";\");let s=-9999,o=-9999;for(let r=0;r<v;r++){var d=\"bars\"==b||r%2?1:-1;let t=1;for(let e=0;e<z;e++){let a=e;e>=k&&(a=e-k,t=-1),c[a].minshow=c[a].minshow??0,c[a].maxshow=c[a].maxshow??1,c[a].normalize=c[a].normalize??!1;var x=c[a].normalize?1:y[n][r];if(c[a].minshow<=y[n][r]&&c[a].maxshow>=y[n][r])switch(c[a].d){case\"L\":var Q=(m*(r+c[a].sdeg/100)-D)*C,P=(m*(r+c[a].edeg/100)-D)*C,L=$+(l*(c[a].sr/100)*x*d*t*M+h)*Math.cos(Q),Q=i+(l*(c[a].sr/100)*x*d*t*M+h)*Math.sin(Q),Z=$+(l*(c[a].er/100)*x*d*t*M+h)*Math.cos(P),P=i+(l*(c[a].er/100)*x*d*t*M+h)*Math.sin(P);L===s&&Q===o||(g+=`M ${L} ${Q} `),g+=`L ${Z} ${P} `,s=Z,o=P;break;case\"C\":var L=(m*(r+c[a].sdeg/100)-D)*C,Q=(m*(r+c[a].deg/100)-D)*C,Z=(m*(r+c[a].edeg/100)-D)*C,P=$+(l*(c[a].sr/100)*x*d*t*M+h)*Math.cos(L),N=i+(l*(c[a].sr/100)*x*d*t*M+h)*Math.sin(L),H=$+(l*(c[a].r/100)*x*d*t*M+h)*Math.cos(Q),V=i+(l*(c[a].r/100)*x*d*t*M+h)*Math.sin(Q),B=$+(l*(c[a].er/100)*x*d*t*M+h)*Math.cos(Z),I=i+(l*(c[a].er/100)*x*d*t*M+h)*Math.sin(Z);P===s&&N===o||(g+=`M ${P} ${N} `),g+=`C ${P} ${N} ${H} ${V} ${B} ${I} `,s=B,o=I;break;case\"Q\":var N=(m*(r+c[a].sdeg/100)-D)*C,H=(m*(r+c[a].deg/100)-D)*C,V=(m*(r+c[a].edeg/100)-D)*C,B=$+(l*(c[a].sr/100)*x*d*t*M+h)*Math.cos(N),I=i+(l*(c[a].sr/100)*x*d*t*M+h)*Math.sin(N),R=$+(l*(c[a].r/100)*x*d*t*M+h)*Math.cos(H),j=i+(l*(c[a].r/100)*x*d*t*M+h)*Math.sin(H),q=$+(l*(c[a].er/100)*x*d*t*M+h)*Math.cos(V),E=i+(l*(c[a].er/100)*x*d*t*M+h)*Math.sin(V);B===s&&I===o||(g+=`M ${B} ${I} `),g+=`Q ${R} ${j} ${q} ${E} `,s=q,o=E;break;case\"A\":{var R=(m*(r+c[a].sdeg/100)-D)*C,j=(m*(r+c[a].edeg/100)-D)*C,q=$+(l*(c[a].sr/100)*x*d*t*M+h)*Math.cos(R),E=i+(l*(c[a].sr/100)*x*d*t*M+h)*Math.sin(R),G=$+(l*(c[a].er/100)*x*d*t*M+h)*Math.cos(j),J=i+(l*(c[a].er/100)*x*d*t*M+h)*Math.sin(j),K=(q===s&&E===o||(g+=`M ${q} ${E} `),m*r*c[a].angle/100),O=c[a].rx*m/100,S=c[a].ry*m/100;let e=c[a].sweep;-1==d&&(e=1==e?0:1),-1==t&&(e=1==e?0:1),g+=`A ${O} ${S} ${K} ${c[a].arc} ${e} ${G} ${J} `,s=G,o=J;break}case\"Z\":g+=\"Z \"}}}}return g},getFramesData=(e,a,t,r)=>{const s=e.getChannelData(a),o=[];if(t){var n=e.sampleRate/r;for(let e=0;e<s.length;e+=n){var h=s.slice(e,e+n);o.push(h)}}else o.push(s);return o},getFilterData=(r,a)=>{const e=[];var s=r.length;for(let t=0;t<s;t++){var o=Math.floor(r[t].length/a);const h=[];for(let e=0;e<a;e++){var n=o*e;let a=0;for(let e=0;e<o;e++)a+=Math.abs(r[t][n+e]);h.push(a/o)}e.push(h)}return e},getNormalizeData=a=>{const t=[];var r=a.length;for(let e=0;e<r;e++){var s=Math.max(...a[e]);t.push(s)}const o=Math.pow(Math.max(...t),-1),n=[];for(let e=0;e<r;e++){var h=a[e].map(e=>e*o);n.push(h)}return n};export{getAudioData,linearPath,polarPath};","\nimport { getAudioData, linearPath } from \"waveform-path\";\n\nexport class AudioPathPlayer extends HTMLElement {\n   \n    constructor() {\n        super();\n        this.shadowDOM = this.attachShadow({mode: 'open' });\n        this.audioData = null;\n        // this.attributes['wave-options'] = `{\"samples\":40,\"type\":\"steps\",\"width\":192,\"height\":40}`\n        if(this.hasAttribute(\"wave-options\")) {\n            this.options = JSON.parse(this.attributes['wave-options'].value);\n            this.options.width = parseInt(this.attributes['wave-width'].value);\n            this.options.height = parseInt(this.attributes['wave-height'].value);\n        } else {\n            this.options =   { \n                samples: 4,  \n                // type: 'mirror', \n                animation: true,\n                // type: 'steps', \n                // width: parseInt(this.attributes['wave-width'].value), \n                // height: parseInt(this.attributes['wave-height'].value),\n                width: 200, \n                height: 80,\n                // paths: [\n                //     {d:'V', sy: 0, x:50, ey:100 }\n                // ], \n            }\n        }\n        if(this.options.hasOwnProperty(\"animation\")) {\n           this.animation = this.options.animation;\n        } else {\n            this.animation = false;\n        }\n        this.playPath = \"M8.5 8.7c0-1.7 1.2-2.4 2.6-1.5l14.4 8.3c1.4.8 1.4 2.2 0 3l-14.4 8.3c-1.4.8-2.6.2-2.6-1.5V8.7z\";\n        this.pausePath = \"M9.2 25c0 .5.4 1 .9 1h3.6c.5 0 .9-.4.9-1V9c0-.5-.4-.9-.9-.9h-3.6c-.4-.1-.9.3-.9.9v16zm11-17c-.5 0-1 .4-1 .9V25c0 .5.4 1 1 1h3.6c.5 0 1-.4 1-1V9c0-.5-.4-.9-1-.9 0-.1-3.6-.1-3.6-.1z\";\n        this.playPathButton = null;\n        this.svg = null;\n        this.path1 = null;\n        this.path2 = null;\n        this.animationsvg = null;\n        this.animationsvgx = null;\n        this.audio = null;\n        this.durationContainer = null;\n        this.seekSlider = null;\n        this.currentTimeContainer = null;\n        this.playIconContainer = null;\n        this.raf = null;\n        this.initialized = false\n    }\n\n    initComponent() {\n        this.playPathButton = this.shadowDOM.getElementById('playPathButton');\n        this.player = this.shadowDOM.querySelector('.player');\n        this.svg = this.shadowDOM.getElementById('svg');\n        this.path1 = this.shadowDOM.getElementById('path1');\n        this.path2 = this.shadowDOM.getElementById('path2');\n        this.animationsvg = this.shadowDOM.getElementById('animationsvg');\n        this.animationsvgx = this.shadowDOM.getElementById('animationsvgx');\n        this.audio =  this.shadowDOM.querySelector('audio');\n        this.durationContainer = this.shadowDOM.getElementById('duration');\n        this.seekSlider = this.shadowDOM.getElementById('seek-slider');\n        this.currentTimeContainer = this.shadowDOM.getElementById('current-time');\n        this.playIconContainer = this.shadowDOM.getElementById('play');\n      \n        \n        this.svg.pauseAnimations();\n        if (this.audio.readyState > 0) {\n            this.loadSong();\n        } else {\n            this.audio.addEventListener('loadedmetadata', this.loadSong);\n        }\n\n        const lineElement = this.shadowDOM.querySelector(\"line\")\n        this.player.addEventListener('click', ()=>{\n          if(!this.initialized){\n            // this.initComponent();\n            // this.render(false);\n            this.audioPath().then(()=>{\n              lineElement.style.display = \"none\"\n            })\n          }\n          this.initialized = true\n        });\n        this.playIconContainer.addEventListener('click', this.playPause);\n        this.audio.addEventListener('ended', this.onFinish);\n        this.seekSlider.addEventListener('input', this.sliderInput);\n        this.seekSlider.addEventListener('change', this.sliderChange);\n        this.playIconContainer.addEventListener('click', this.playPause);\n    }\n\n    loadSong = () => {\n        this.durationContainer.textContent = this.calculateTime(this.audio.duration);\n        this.seekSlider.max = this.audio.duration;\n        this.svg.unpauseAnimations();\n        this.animationsvg.setAttribute(\"dur\", \"\"+this.audio.duration +\"s\");\n        if(!this.animation) {\n            this.animationsvgx.setAttribute(\"dur\", \"\"+this.audio.duration +\"s\");\n        }\n        this.svg.pauseAnimations();\n        this.svg.setCurrentTime(0);\n    }\n    \n    playPause = () => {\n        if(this.audio.paused) {\n            this.audio.play();\n            this.svg.unpauseAnimations();\n            this.path2.style.display = \"block\";\n            this.playPathButton.setAttribute(\"d\", this.pausePath);\n            this.raf = requestAnimationFrame(this.whilePlaying);\n        } else {\n            this.audio.pause();\n            this.svg.pauseAnimations();\n            this.playPathButton.setAttribute(\"d\", this.playPath);\n            cancelAnimationFrame(this.raf);\n        }\n    }\n\n    sliderInput = () => { \n        this.path2.style.display = \"block\";\n        this.currentTimeContainer.textContent = this.calculateTime(this.seekSlider.value);\n        this.svg.setCurrentTime(this.seekSlider.value);\n        if(!this.audio.paused) {\n            cancelAnimationFrame(this.raf);\n        }\n    }\n\n    sliderChange = () => {\n        this.audio.currentTime = this.seekSlider.value;\n        this.path2.style.display = \"block\";\n        this.svg.setCurrentTime(this.seekSlider.value);\n        \n        if(!this.audio.paused) {\n            this.raf = requestAnimationFrame(this.whilePlaying);\n        }\n    }\n\n    onFinish = () => {\n        this.seekSlider.value = this.seekSlider.max;\n        this.svg.setCurrentTime(this.audio.duration);\n        this.svg.pauseAnimations();\n        this.playPathButton.setAttribute(\"d\", this.playPath);\n        cancelAnimationFrame(this.raf);\n    }\n\n    whilePlaying = () => {\n        \n        this.seekSlider.value = this.audio.currentTime;\n        this.currentTimeContainer.textContent = this.calculateTime(this.seekSlider.value);\n        this.svg.setCurrentTime(this.seekSlider.value);\n        this.raf = requestAnimationFrame(this.whilePlaying);\n    }\n    \n    \n    calculateTime = (secs) => {\n        const minutes = Math.floor(secs / 60);\n        const seconds = Math.floor(secs % 60);\n        const returnedSeconds = seconds < 10 ? `0${seconds}` : `${seconds}`;\n        return `${minutes}:${returnedSeconds}`;\n    }\n\n    mapComponentAttributes() {\n        const attributesMapping = [\n            'src', 'wave-height', 'wave-width', 'color', 'wave-options', 'wave-color', 'wave-progress-color', 'wave-slider'\n        ];\n        attributesMapping.forEach(key => {\n            if (!this.attributes[key]) {\n                this.attributes[key] = {value: null};\n            }\n        });\n    }\n\n\n    async audioPath() {\n        // this.audioData = await getAudioData(this.attributes.src.value);\n        getAudioData(this.attributes.src.value).then((data)=>{\n          this.audioData = data\n          this.svgDraw();\n        })\n    }\n    svgDraw = () => {\n        const path = linearPath(this.audioData, this.options);\n        console.log(path)\n        if(!this.animation) {\n            this.path1.setAttribute('d', path);\n            this.path2.setAttribute('d', path);\n        } else {\n            this.animationsvg.setAttribute('values', path)\n        }\n        this.svg.setCurrentTime(this.seekSlider.value);\n    }\n\n    connectedCallback() {\n        this.mapComponentAttributes();\n        this.render(true);\n        this.initComponent();\n        // this.audioPath();\n    }\n\n    render(init = false) {\n        this.shadowDOM.innerHTML = `\n            ${this.templateCss()}\n            ${this.template(init)}\n        `;\n    }\n\n    template(init) {\n        let html = `\n        <div part=\"player\" class=\"player\">\n            <button id=\"play\" part=\"play\">\n                <svg viewBox=\"0 0 34 34\" width=\"34\" height=\"34\" part=\"button\">\n                    <path id=\"playPathButton\" d=\"M8.5 8.7c0-1.7 1.2-2.4 2.6-1.5l14.4 8.3c1.4.8 1.4 2.2 0 3l-14.4 8.3c-1.4.8-2.6.2-2.6-1.5V8.7z\"></path>\n                    <!--<path fill=\"currentColor\" d=\"M9.2 25c0 .5.4 1 .9 1h3.6c.5 0 .9-.4.9-1V9c0-.5-.4-.9-.9-.9h-3.6c-.4-.1-.9.3-.9.9v16zm11-17c-.5 0-1 .4-1 .9V25c0 .5.4 1 1 1h3.6c.5 0 1-.4 1-1V9c0-.5-.4-.9-1-.9 0-.1-3.6-.1-3.6-.1z\"></path>-->\n                </svg>\n            </button>\n        <div id=\"current-time\" part=\"currenttime\">0:00</div>\n        <div id=\"slider\" part=\"slider\">\n            <svg id=\"svg\" part=\"svg\" xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 ${this.attributes['wave-width'].value} ${this.attributes['wave-height'].value}\" width=\"${this.attributes['wave-width'].value}\" height=\"${this.attributes['wave-height'].value}\">\n        `;\n      \n        if(!this.animation) {\n            html += `\n            <defs>\n                <clipPath id=\"left-to-right-x\">\n                <rect x=\"-1\" y=\"-100\" width=\"${parseInt(this.attributes['wave-width'].value)+2}\" height=\"${parseInt(this.attributes['wave-height'].value)+200}\" >\n                    <animate id=\"animationsvgx\" attributeName=\"x\" values=\"-1;${parseInt(this.attributes['wave-width'].value)+2}\" dur=\"99999s\" fill=\"freeze\" />   \n                </rect>\n                </clipPath>\n                <clipPath id=\"left-to-right\">\n                <rect x=\"-${parseInt(this.attributes['wave-width'].value)+2}\" y=\"-100\" width=\"${parseInt(this.attributes['wave-width'].value)+2}\" height=\"${parseInt(this.attributes['wave-height'].value)+200}\" >\n                    <animate id=\"animationsvg\" attributeName=\"x\" values=\"-${parseInt(this.attributes['wave-width'].value)+2};-1\" dur=\"99999s\" fill=\"freeze\" />   \n                </rect>\n                </clipPath>    \n            </defs> \n            <line x1=\"0\" y1=\"40\" x2=\"200\" y2=\"40\" stroke=\"black\" stroke-width=\"2.5\"></line>\n            <path id=\"path1\" part=\"path1\"  stroke-width=\"2\" d=\"\" clip-path=\"url(#left-to-right-x)\"></path>\n            <path id=\"path2\" part=\"path2\"  stroke-width=\"2\" d=\"\" clip-path=\"url(#left-to-right)\" style=\"display:none;\"></path>`;\n        } else {\n            html += `\n            <line x1=\"0\" y1=\"40\" x2=\"200\" y2=\"40\" stroke=\"black\" stroke-width=\"2.5\"></line>\n            <path id=\"path1\" part=\"path1\"  stroke-width=\"2\" style=\"display:none;\"></path>\n            <path id=\"path2\" part=\"path2\"  stroke-width=\"2\" style=\"display:block;\">\n                <animate id=\"animationsvg\" attributeName=\"d\" dur=\"99999s\" calcMode=\"linear\" values=\"\" fill=\"freeze\"></animate>\n            </path>\n            `;\n        }\n        \n        html +=`\n        </svg>\n                <input type=\"range\" part=\"input\" id=\"seek-slider\" max=\"100\" value=\"0\" step=\"any\">\n            </div>\n            <div id=\"duration\" part=\"duration\">0:00</div>\n        </div>\n        <audio src=\"${this.attributes.src.value}\"></audio>\n        `;\n        return html;\n    }\n \n    templateCss() {\n        return `\n            <style>\n            *, :after, :before { \n                box-sizing: border-box;\n                margin: 0;\n            }\n            :host {\n                display: flex;\n               \n            }\n            .player {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n            }\n            #play {\n                background: transparent;\n                border: none;\n                cursor:pointer;\n                padding: 0 0 0 10px;\n                margin: 0px;\n                \n            }\n            #play svg {\n                fill: ${this.attributes['color']?.value ?? '#858a8d'};\n                position:relative;\n                transition: transform 0.3s;\n                top: -0.5px;\n            }\n            #play svg:hover {\n                transform: scale(1.);\n            }\n            #play svg path {\n                stroke-linecap: round;\n                stroke-linejoin: round;\n                transition: 0.2s;\n            }\n            #svg {\n                margin: 0 10px;\n                overflow: visible;\n                stroke-width: 1px;\n                fill: none;\n            }\n            #path1 {\n                stroke: ${this.attributes['wave-color']?.value ?? '#dadcdd'}; \n                overflow: visible;\n                stroke-linecap: round;\n            }\n            #path2 {\n                stroke: ${this.attributes['wave-progress-color']?.value ?? '#858a8d'};\n                overflow: visible;\n                stroke-linecap: round;\n            }\n            #slider  {\n                position:relative;\n            }\n            #duration, #current-time {\n                position: relative;\n                top:-1.1px;\n                color: ${this.attributes['color']?.value ?? '#858a8d'};\n                margin: 0px 10px;\n                font-size: 16px;\n                font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n                min-width:32px;\n            }\n            #seek-slider {\n                position: absolute;\n                width: 100%;\n                left: 0;\n            }\n            input[type=range] {\n                // clip: rect(0.01rem, 0.01rem, 0.01rem, 0.01rem);\n\n                -webkit-appearance: none; \n                width: 100%; \n                background: transparent; \n                padding: 0px;\n                margin: 0px;\n                border: 0px;\n                height: ${parseInt(this.attributes['wave-height'].value)}px;\n            }  \n            input[type=range]::-webkit-slider-thumb {\n                -webkit-appearance: none;\n            }\n            input[type=range]:focus {\n                outline: none; \n            }\n            \n            input[type=range]::-ms-track {\n                width: 100%;\n                cursor: pointer;\n                /* Hides the slider so custom styles can be added */\n                background: transparent; \n                border-color: transparent;\n                color: transparent;\n            }\n            input[type=range]::-webkit-slider-thumb {\n                -webkit-appearance: none;\n                position:relative; \n                /*top: -1.5px;*/\n                height: 12.5px;\n                width: 12.5px;\n                border-radius: 50%;\n                background:  ${this.attributes['wave-slider']?.value ?? '#4fc3f7'};\n                cursor: pointer;\n                box-shadow: none;\n            }\n            input[type=\"range\"]::-webkit-slider-thumb {\n                transition: transform 0.3s;\n            }\n            input[type=\"range\"]:active::-webkit-slider-thumb {\n                transform: scale(1.5);\n            }\n            input[type=\"range\"]::-moz-range-thumb {\n                height: 12.5px;\n                width: 12.5px;\n                border-radius: 50%;\n                background:  ${this.attributes['wave-slider']?.value ?? '#4fc3f7'};\n                cursor: pointer;\n                box-shadow: none;\n                border: 0px;\n            }\n\n            input[type=\"range\"]:active::-moz-range-thumb {\n                transform: scale(1.5);\n            }  \n            </style>\n        `;\n    }\n}\nwindow.customElements.define('wave-audio-path-player', AudioPathPlayer);\n","export {\n\tSvelteComponentDev as SvelteComponent,\n\tonMount,\n\tonDestroy,\n\tbeforeUpdate,\n\tafterUpdate,\n\tsetContext,\n\tgetContext,\n\tgetAllContexts,\n\thasContext,\n\ttick,\n\tcreateEventDispatcher,\n\tSvelteComponentTyped\n} from './internal/index.js';\n","\r\n<div \r\n  class=\"video-container\"\r\n >\r\n\t<video \r\n    bind:this={video_element} \r\n    class=\"lozad\" \r\n    data-src={`${ window.LFS_PREPEND }${src}`} loop={loop} autoplay={autoplay} muted={muted} controls={controls} \r\n    />\r\n</div>\r\n    \r\n     \r\n\r\n<script lang=\"ts\">\r\n\timport {onDestroy, onMount} from 'svelte'\r\n  // import play_pause_icon from \"../../../public/play_pause.svg\"\r\n\t// import image_a from \"../../../public/images/generative_mograph/OUT (2).mp4\"\r\n  let video_element: HTMLVideoElement\r\n  export let src: string = \"\"\r\n  export let autoplay: boolean = true\r\n  export let muted: boolean = true\r\n  export let loop: boolean = true\r\n  export let controls: boolean = false\r\n\r\n\r\n\tonDestroy(() => {})\r\n\tonMount(async () => {\r\n    function handleVideoIntersection(entries, observer) {\r\n      entries.forEach(entry => {\r\n        if (entry.isIntersecting) {\r\n        // if (entry.intersectionRatio > 0) {\r\n          try{\r\n            (entry.target as HTMLVideoElement).play().then(()=>{\r\n              video_element.controls = false\r\n            }).catch(e=>{\r\n              \r\n            })\r\n          } catch(_){\r\n\r\n          }\r\n        } else {\r\n        }\r\n      });\r\n    }\r\n    \r\n    if(autoplay){\r\n      const observer = new IntersectionObserver(handleVideoIntersection, {  });\r\n      observer.observe(video_element);\r\n      video_element.addEventListener('loadeddata', function() {\r\n        if(video_element.paused){\r\n          video_element.controls = true\r\n          video_element.parentElement!.onclick = ()=>{\r\n            video_element.controls = false\r\n            if(video_element.paused){\r\n              video_element.play()\r\n            }\r\n          }\r\n          // video_element.style = \"display: none;\"\r\n          // let play_button = new HTMLDivElement()\r\n          // play_button.style=`\r\n          // `\r\n          // video_element.parentElement!.querySelector(\".play-button\").style = `\r\n          // \tbackground-image:url(http://png-4.findicons.com/files/icons/2315/default_icon/256/media_play_pause_resume.png);\r\n          // \tbackground-repeat:no-repeat;\r\n          // \twidth:50%;\r\n          // \theight:50%;\r\n          // \tposition:absolute;\r\n          // \tleft:0%;\r\n          // \tright:0%;\r\n          // \ttop:0%;\r\n          // \tbottom:0%;\r\n          // \tmargin:auto;\r\n          // \tbackground-size:contain;\r\n          // \tbackground-position: center;\r\n          // `\r\n        }\r\n        // video_element.style = \"margin-top: 100rem;\"\r\n        // setTimeout(()=>{\r\n        // \tvideo_element.style = \"\"\r\n        // }, 2000)\r\n        // if(video_element.paused){\r\n        // \tvideo_element.play()\r\n        // }\r\n      }, false);\r\n    }\r\n  })\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .video-container{\r\n    width: 100%;\r\n    video{\r\n      width: inherit;\r\n    }\r\n  }\r\n</style>\r\n\r\n","\r\n<img \r\n  class=\"lozad\" \r\n  data-src={`${ window.LFS_PREPEND }${ src }`} \r\n  style=\"width: inherit;\"\r\n/>\r\n\r\n<script lang=\"ts\">\r\n  export let src: string = \"\"\r\n</script>\r\n","\r\n<div style=\"margin-left: auto; margin-right: auto; margin-top:0.5rem;\">\r\n  <slot />\r\n</div>\r\n\r\n","\r\n<header><h1><strong>{title}</strong></h1></header>\r\n\r\n<div class=\"date\">\r\n{date.getUTCFullYear()}\r\n— \r\n{date.getUTCMonth() + 1} \r\n— \r\n{date.getUTCDate()} \r\n</div>\r\n\r\n<script lang=\"ts\">\r\n  export let title: string = \"\"\r\n  export let date: Date\r\n</script>\r\n<style lang=\"scss\">\r\n  .date{\r\n    margin-right: 1rem;\r\n  }\r\n\r\n</style>\r\n","<!-- OpenGraph image: https://media.githubusercontent.com/media/wrightwriter/wrightwriter.github.io/master/blog/preview_pathtracing_b.png -->\r\n<!-- OpenGraph description: Rendering global illumination with GPU atomics and forward pathtracing. -->\r\n\r\n<!-- OpengGraph image: https://media.githubusercontent.com/media/wrightwriter/wrightwriter.github.io/master/images/generative_static/unknown%20(4).png -->\r\n\r\n<BlogTitle title={title} date={date} />\r\n\r\n<article>\r\n\r\n<brb />  \r\n<brb />  \r\n\r\n## **Introduction**\r\n\r\nForward pathtracing is a technique fundamental in [lightmapping](https://en.wikipedia.org/wiki/Lightmap) \r\nand [bidirectional pathtracing](https://www.pbr-book.org/3ed-2018/Light_Transport_III_Bidirectional_Methods/Bidirectional_Path_Tracing). At its core, you are shooting rays\r\nfrom light sources in the scene, instead of the camera, like you would in a traditional backward pathtracer.\r\n    \r\nI'll present how I used it to render the following motion graphic:  \r\n<brb />\r\n<brb />\r\n<Video src={`/images/generative_mograph/OUT (2).mp4`}/>\r\n\t<!-- <div class=\"play-button\" style={`\r\n\t\twidth: 4rem;\r\n\t\theight: 4rem;\r\n\t\tposition: absolute;\r\n\t\ttop: 50%;\r\n\t\tright: 50%;\r\n\t\ttransform: translate(50%, -50%);\r\n\t\tpointer-events: none;\r\n`}>\r\n\t{@html play_pause_icon}\r\n\t</div> -->\r\n<!-- <h1 style=\"margin-left: auto; margin-right: auto; margin-top:0.5rem;\"> -->\r\n<SubTitle>\r\n\tForward traced <a href=\"https://en.wikipedia.org/wiki/Mandelbox\">mandelbox</a>, in my Kotlin OpenGL engine \r\n</SubTitle>\r\n<brb />\r\n\r\nThere are 2 directional conic light sources, refracting through a fractal [implicit surface](https://en.wikipedia.org/wiki/Implicit_surface).\r\nRays are shot stochastically and rendered as lines. \r\n\r\n<!-- Forward traced [mandelbox](https://en.wikipedia.org/wiki/Mandelbox), in my Kotlin OpenGL engine -->\r\n<!-- </h1> -->\r\n    \r\n\r\n<brb />\r\n<brb />\r\n    \r\n\r\n<Image src={`/blog/lyc-sketch.gif`} />\r\n\r\n    \r\n<SubTitle>\r\n\t2d pathtracing sketch by <a href=\"https://www.deviantart.com/lyc\">lycium</a>\r\n</SubTitle>\r\n<brb />\r\n\r\nWhat's being rendered is fluence¹. This is what 2d pathtracing displays.  \r\nPossibly the first [article](https://web.archive.org/web/20040131013212/http://lycium.cfxweb.net/) and renders were done by the graphics engineer <a href=\"https://www.deviantart.com/lyc\">lycium</a>.\r\n   \r\nWhat we see with our eyes and in camera sensors is irradiance². That is what traditional pathtracers render.\r\n\r\n   \r\n<wbr />\r\n\r\n\r\n<div class=\"footnotes\">\r\n  <hr />\r\n  <ol>\r\n      1. <a href=\"https://cs.dartmouth.edu/wjarosz/publications/jarosz12theory.html\">Fluence</a> - integral of radiance incoming in a region, over all angles. Measures radiance passing through a point.  <brb />\r\n      2. <a href=\"https://en.wikipedia.org/wiki/Irradiance\">Irradiance</a> - energy received per surface area. Measures radiance hitting a surface. Irradiance over a region on the camera sensor is what you integrate in a pathtracer.\r\n  </ol>\r\n  <hr />\r\n</div>\r\n\r\n<wbr />\r\n\r\n## **The algo**\r\n\r\nOne day, an idea occurred to me to translate the technique to 3d, while also using forward pathtracing. That resulted in the following sketch:   \r\n\r\n<brb />\r\n<Video src={`/images/generative_mograph/OUT (3).mp4`}/>\r\n<!-- <h1 style=\"margin-left: auto; margin-right: auto; margin-top:0.5rem;\"> -->\r\n<SubTitle>\r\n\tArtistic liberty taken with refraction physics and line drawing.\r\n</SubTitle>\r\n<brb />\r\n\r\nThe fundamental algorithm is:\r\n\r\n\r\n1. 2 images are created, one for accumulation and one for post processing.\r\n2. A compute shader is dispatched. Each thread picks a random light, raytraces from it.\r\n3. For every bounce, it draws a line using atomic adds to the accumulation image.\r\n4. Post processing shader is used to \"tonemap\" by scaling brightness relative to the amount of raytracing threads.\r\n\r\n\r\nPseudocode for the shader:  \r\n  \r\n<wbr />\r\n\r\n  \r\n```glsl\r\nlayout(rgba32ui) uniform coherent restrict uimage2D accum_image;\r\nfloat sdf(vec3 p){\r\n\t// Your implicit surface signed distance function.\r\n}\r\nvec3 projParticle(vec3 p){\r\n\t// Some projection, can use p/=p.z for perspective projection.\r\n}\r\nvec3 pickRandomLight(){\r\n}\r\nvec3 getDirFromLight(){\r\n\t// Can be spherically uniform random normalized vector for an omnidirectional light source.\r\n}\r\nvec3 getCosineWeightedHemisphereSample(vec3 normal){\r\n\t// Importance sampling, cancels out the cosine term.\r\n}\r\nvec3 drawLine(){\r\n\t// Explained later\r\n}\r\nvoid main(){\r\n\tconst int bounces = 3; // Arbitrary\r\n\tconst light_pos = pickRandomLight();\r\n\r\n\t// Throughput is the electromagnetical energy of the ray.\r\n\t// It's RGB, but would ideally be spectrally defined.\r\n\tvec3 throughput = vec3(1); \r\n\r\n\tconst vec3 p = light_pos;\r\n\tconst vec3 ray_dir = getDirFromLight();\r\n\r\n\tfor (int i=0; i<bounces; i++){\r\n\t\tHit hit = march(p, ray_dir);\r\n\t\tvec3 normal = hit.normal;\r\n\t\tvec3 hit_pos = hit.pos;\r\n\t\tvec3 albedo = hit.albedo;\r\n\r\n\t\tdrawLine(p, hit_pos, throughput);\r\n\r\n\t\t// Simplified for a perfectly rough surface with no fresnel.\r\n\t\tthroughput *= albedo;\r\n\r\n\t\tray_dir = getCosineWeightedHemisphereSample(normal);\r\n\t\tp = hit_pos;\r\n\t}\r\n}\r\n```\r\n\r\n<brb />\r\n\r\n## **Clarifications**\r\n   \r\n<wbr />\r\n\r\n```\r\nlayout(r32ui) uniform coherent restrict uimage2D accum_image;\r\n```\r\n\r\n\r\n- \"coherent\" is needed when different [shader invocations](https://www.khronos.org/opengl/wiki/Shader#Execution_and_invocations) \r\n(single pixel in a frag shader, single thread in a compute shader) write/read to locations potentially read/written from other invocations. \r\nIt enforces [coherent memory access](https://www.khronos.org/opengl/wiki/Memory_Model#Ensuring_visibility). It can look cool if you don't enable it :)\r\n    \r\n- \"restrict\" is a hint to the compiler, which allows some performance optimizations. \r\nYou are telling it that if you have a variable A, which reads from a memory buffer, it will be the only variable which reads from that buffer. You are also saying you won't read the value of variable A and write it to any other variable B.\r\n<!-- - \"restrict\" is a hint to the compiler, which allows some performance optimizations. that you will only use a single variable to read from the memory buffer and you won't use another varaible to read the first one.  -->\r\n<!-- - \"restrict\" is a performance optimization, related  -->\r\n    \r\n- \"writeonly\" doesn't let you read from the memory. I'm not sure if it leads to any optimizations.\r\n   \r\nMore info on the [khronos wiki](https://www.khronos.org/opengl/wiki/Type_Qualifier_(GLSL)).\r\n    \r\n<wbr />\r\n\r\n## **Drawing lines**\r\n\r\n<p>  \r\nOkay, how do you draw a line?    \r\nYou could use hardware rasterization to render quads, but i opted in to directly draw to the screen.  \r\n\r\n<brb />\r\n  \r\nIdeally you would use <a href=\"https://www.shadertoy.com/view/4dX3zl\">DDA</a> - both accurate and cheap. \r\nWhat I did was naively march through the ray and atomically splat to the screen at every step. I think it ended up looking pretty nice!\r\n\r\n</p>\r\n   \r\n<brb />  \r\n\r\n```glsl\r\nvoid drawLine(vec3 p_start, vec3 p_end, vec3 throughput){\r\n\tvec3 ray_dir = normalize(p_end - p_start);\r\n\tfloat dither = float_hash()/min(resolution.x,resolution.y);\r\n\tfloat line_len = length(p_end - p_start) - dither;\r\n\tfloat steps = line_len*min(resolution.x, resolution.y);\r\n\tsteps = min(steps,550.);\r\n\tfloat stepSz = lineLen / steps;\r\n\r\n\tfor(float i = 0.; i < steps; i++){\r\n\t\t\tvec2 p = projParticle(p_start.xy + ray_dir.xy*i*stepSz);\r\n\t\t\tvec2 uv = vec2(p.xy) + 0.5;\r\n\t\t\tvec2 anti_aliasing = randc(rand2(seed ))*0.55555/min(resolution.x,resolution.y); // horrible box filter\r\n\t\t\tivec2 int_p = ivec2(uv + anti_aliasing)*ivec2(resolution));\r\n\t\t\tif(\r\n\t\t\t\t// inside bounds\r\n\t\t\t\tint_p.x >= 0 && int_p.x < int(resolution.x) &&\r\n\t\t\t\tint_p.y >= 0 && int_p.y < int(resolution.y)\r\n\t\t\t) { \r\n\t\t\t\t// Can add dithering here or just use float accum tex.\r\n\t\t\t\t// In practice, it looks alright\r\n\t\t\t\tivec3 throughput_quantized = ivec3(throughput * 255.);\r\n\t\t\t\timageAtomicAdd(accum_image, throughput_quantized);\r\n\t\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n<brb/>\r\n\r\n\r\n```glsl\r\nimageAtomicAdd(accum_image, throughput_quantized);\r\n```\r\n\r\n\"image[Atomic](https://en.wikipedia.org/wiki/Linearizability)Add\" lets multiple threads write/read a location without [data racing](https://en.wikipedia.org/wiki/Race_condition). Looks rather cool if you directly add to the buffer without atomics though :)\r\n  \r\n\r\nIf you feel like accumulating to a float buffer/image, you can do that with an [nvidia extension](https://registry.khronos.org/OpenGL/extensions/NV/NV_shader_atomic_float.txt),\r\n or the [compare-and-swap](https://en.wikipedia.org/wiki/Compare-and-swap) algorithm.\r\n\r\n<brb/>\r\n\r\n## **Wrapping up**\r\n  \r\nHope you enjoyed reading this and feel free to send me stuff you've made on discord! :) The article is trivial to transate to 2d, if you are interested in that.\r\n\r\n</article>\r\n    \r\n     \r\n\r\n<script lang=\"ts\">\r\n\timport {onDestroy, onMount} from 'svelte'\r\n  import play_pause_icon from \"../../../public/play_pause.svg\"\r\n\timport Video from \"../utils/Video.svelte\"\r\n\timport Image from \"../utils/Image.svelte\"\r\n\timport SubTitle from \"../utils/SubTitle.svelte\"\r\n\timport BlogTitle from \"../utils/BlogTitle.svelte\"\r\n\t// import image_a from \"../../../public/images/generative_mograph/OUT (2).mp4\"\r\n\r\n  export let date = new Date(\"2023-08-18\")\r\n  export let title = \"3D (and 2D) forward pathtracing in a compute shader\"\r\n\t\r\n\t\r\n\t\r\n\tonDestroy(() => {})\r\n\tonMount(async () => {\r\n\t})\r\n\t\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>\r\n\r\n","\r\n<div class=\"video-container\">\r\n  <div>\r\n    <iframe title=\"Youtube video\" src={`https://www.youtube.com/embed/${src}?rel=0&modestbranding=1`} frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\r\n  </div>\r\n</div>\r\n    \r\n     \r\n\r\n<script lang=\"ts\">\r\n  \r\n  export let src: string = \"\"\r\n  // import play_pause_icon from \"../../../public/play_pause.svg\"\r\n\t// import image_a from \"../../../public/images/generative_mograph/OUT (2).mp4\"\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .video-container{\r\n    width: inherit;\r\n  }\r\n\r\n</style>\r\n\r\n","<!-- OpenGraph image: https://media.githubusercontent.com/media/wrightwriter/wrightwriter.github.io/master/images/generative_static/unknown%20(4).png -->\r\n<!-- OpenGraph description: Using GPU atomics to render flame fractals and IFSs. -->\r\n\r\n\r\n<BlogTitle title={title} date={date} />\r\n\r\n<article>\r\n\r\n<brb />\r\n<brb />  \r\n\r\n## **Introduction**\r\n\r\n\r\n[Flame fractals](https://en.wikipedia.org/wiki/Fractal_flame) are generative systems for producing mesmerizing images with intricate details. \r\nThey were introduced by [Scott Draves](https://en.wikipedia.org/wiki/Scott_Draves) in a [paper](https://flam3.com/flame_draves.pdf) back in 1992. \r\nIt's an extension of [Iterated Function System fractals](https://maths-people.anu.edu.au/~john/Assets/Research%20Papers/fractals_self-similarity.pdf), discovered in [1981 by John E Hutchinson](https://maths-people.anu.edu.au/~john/Assets/Research%20Papers/fractals_self-similarity.pdf).\r\n   \r\n   \r\nThere's a thriving community of fractal artists utilizing a variety of \r\n[sof](https://github.com/bezo97/IFSRenderer)[tw](https://www.chaoticafractals.com)[are](https://github.com/3Dickulus/FragM) to generate them.\r\n<brb />\r\n<brb />\r\n    \r\n<Image src={`/blog/vorpol_dawn_by_technochroma.jpg`} />\r\n<SubTitle>\r\n  <a href=\"https://www.deviantart.com/technochroma/art/Vorpol-Dawn-714213981\">Vorpol Dawn</a> by <a href=\"https://www.technochroma.art\">technochroma</a>\r\n</SubTitle>\r\n\r\n<brb />\r\n\r\n\r\nOne of my favourite fractal pieces is the realtime [demo](https://en.wikipedia.org/wiki/Demoscene) [Terrarium](https://www.pouet.net/groups.php?which=12701). It measures at a filesize of only 4kb and you can run it locally [here](https://files.scene.org/view/parties/2019/assembly19/4k/terrarium_by_eos.zip).\r\n\r\n\r\n<brb />\r\n\r\n<wbr />\r\n\r\n<YoutubeVideo src={`xLN3mTRlugs`}/>\r\n\r\n<SubTitle>\r\n  <a href=\"https://www.pouet.net/prod.php?which=82417\">Terrarium</a> by <a href=\"https://www.pouet.net/groups.php?which=12701\">Eos</a>\r\n</SubTitle>\r\n<brb />\r\n<brb />\r\n\r\nI learned the algorithm by reading the demo's [source code](https://github.com/demoscene-source-archive/terrarium/blob/master/src/shaders/fragment.glsl).\r\n\r\nFundamentally quite simple and beautiful, the gist of it is:\r\n  - create 2 images - one you are accumulating to(density map) and one you are displaying\r\n  - write some transformations f\\(p\\). can be anything\r\n  - generate a bunch of points \r\n  - infinitely, for each point\r\n    - pick a random transformation\r\n    - run the point through it and set its value to the output.  p = f(p)\r\n    - add 1 to the pixel of the density accumulation image where the point landed\r\n  - display by applying a tonemap and writing to the output image\r\n\r\n\r\nIt's explained excellently in the following video: \r\n<brb />\r\n<brb />\r\n\r\n<YoutubeVideo src={`kbKtFN71Lfs`}/>\r\n<brb />\r\n<brb />\r\n\r\nFlame fractals are pretty much [chaos game](https://en.wikipedia.org/wiki/Chaos_game), but with arbitrary transforms. Chaos game is a method of rendering [IFSs](https://en.wikipedia.org/wiki/Iterated_function_system).\r\nThe other ways flame fractals differ from chaos game are:\r\n  - [Tonemapping](https://en.wikipedia.org/wiki/Tone_mapping) is done through a log-density function.\r\n  - Colouring is done by \"sliding\" an index into a colour palette, depending on which transform gets picked in each recursive iteration.  \r\n\r\nThis is explained in the flame fractal [paper](https://flam3.com/flame_draves.pdf), but I'll showcase a simplified \"creative coding\"-friendly method, where you can make your own colouring algorithms.\r\n  \r\n<brb />\r\n\r\n## **Splatting**\r\n\r\n<brb />\r\n\r\n```glsl\r\nlayout(r32ui) uniform coherent restrict writeonly uimage2D density_image;\r\n\r\nvec2 project_particle(vec3 p, out float particle_depth){\r\n\t// Insert camera transformation and projection here. \r\n\t// This is basic perspective projection.\r\n\tp.xy /= p.z;\r\n\tparticle_depth = p.z;\r\n\treturn p.xy;\r\n}\r\n\r\nvoid main(){\r\n\tint particle_idx = int(gl_GlobalInvocationID.x) \r\n\t\t+ int(gl_GlobalInvocationID.y)*int(gl_NumWorkGroups.x * gl_WorkGroupSize.x);\r\n  \r\n\tconst int max_iters_per_particle = 100;\r\n  \r\n\t// Please use an int hash :) Float hashes suck...\r\n\thash_seed = int_hash(particle_idx);\r\n  \r\n\t// Random starting pos, can be anything.\r\n\tvec3 p = random_vec3();\r\n\r\n\tfor(int i=0; i<max_iters_per_particle; i++){\r\n\t\t\r\n\t\t// Random variable\r\n\t\tfloat r = random_float();\r\n\r\n\t\t// Pick a transformation\r\n\t\tif(r<.3){\r\n\t\t\tp += 0.3;\r\n\t\t\tp.xz *= rot(T );\r\n\t\t\tp /= clamp(dot(p,p),-0.2,4.);\r\n\t\t} else if(r<.66){\r\n\t\t\tp.xz *= rot(5.2+ sin(float(particle_idx)*0.00001)*0.001);\r\n\t\t\tp.yz *= rot(5.2);\r\n\t\t\tp += vec3(-1.,0.4,0.);\r\n\t\t\tp /= clamp(dot(-p,p),-3.2,1.);\r\n\t\t\tp *= vec3(2,1.5,1.2)*1.5;\r\n\t\t}\r\n    else {\r\n\t\t\tp -= vec3(-0.2,0.2,0.2);\r\n\t\t\tp /= clamp(dot(p,p),-4.5,10.);\r\n\t\t\tp *= vec3(2,1.5,1.2)*3.1;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t// Splat the particle\r\n\t\tfloat particle_depth;\r\n\t\tvec2 part_uv = project_particle(particle_depth);\r\n\r\n\t\t// Disable depth rejection for trippiness :)\r\n\t\tif(particle_depth > 0.0){\r\n\t\t\t// Would ideally use a tent filter or mitchell-netravalli/lancozs\r\n\t\t\tvec2 anti_aliasing = random_point_in_disk()/min(resolution.x, resolution.y); \r\n\t\t\tivec2 int_p = ivec2(part_uv + anti_aliasing)*ivec2(resolution);\r\n\t\t\tif(\r\n\t\t\t\t// Inside bounds\r\n\t\t\t\tint_p.x >= 0 && int_p.x < int(resolution.x) &&\r\n\t\t\t\tint_p.y >= 0 && int_p.y < int(resolution.y)\r\n\t\t\t) { \r\n\t\t\t\timageAtomicAdd(density_image, int_p, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n   \r\n<brb />\r\n\r\n```glsl\r\nimageAtomicAdd(density_image, int_p, 1);\r\n```\r\n\r\n\"image[Atomic](https://en.wikipedia.org/wiki/Linearizability)Add\" lets multiple threads write/read a location without [data racing](https://en.wikipedia.org/wiki/Race_condition).\r\n\r\n<brb />\r\n  \r\n\r\n```glsl\r\nlayout(r32ui) uniform coherent restrict writeonly uimage2D i_flameCounter;\r\n```\r\n- \"coherent\" is needed when different [shader invocations](https://www.khronos.org/opengl/wiki/Shader#Execution_and_invocations) \r\n(single pixel in a frag shader, single thread in a compute shader) write/read to locations potentially read/written from other invocations. \r\nIt enforces [coherent memory access](https://www.khronos.org/opengl/wiki/Memory_Model#Ensuring_visibility). It can look cool if you don't enable it :)\r\n    \r\n- \"restrict\" is a hint to the compiler that you will only use a single variable to read from the memory buffer and you won't use another varaible to read the first one. This leads to performance optimizations.\r\n    \r\n- \"writeonly\" doesn't let you read from the memory. I'm not sure if it leads to any optimizations.\r\n   \r\nMore info on the [khronos wiki](https://www.khronos.org/opengl/wiki/Type_Qualifier_(GLSL)).\r\n\r\n<brb />\r\n\r\n## **Transformations**\r\n\r\n<brb />\r\n\r\n```glsl\r\nif(r<.3){\r\n\tp += 0.3;\r\n\tp.xz *= rot(T );\r\n\tp /= clamp(dot(p,p),-0.2,4.);\r\n} else if(r<.66){\r\n\tp.xz *= rot(5.2+ sin(float(particle_idx)*0.00001)*0.001);\r\n\tp.yz *= rot(5.2);\r\n\tp += vec3(-1.,0.4,0.);\r\n\tp /= clamp(dot(-p,p),-3.2,1.);\r\n\tp *= vec3(2,1.5,1.2)*1.5;\r\n}\r\nelse {\r\n\tp -= vec3(-0.2,0.2,0.2);\r\n\tp /= clamp(dot(p,p),-4.5,10.);\r\n\tp *= vec3(2,1.5,1.2)*3.1;\r\n}\r\n```\r\n<brb />\r\n\r\nWhat about the transformations?  \r\n  \r\nThey are totally arbitrary, but what's being done here is [affine](https://en.wikipedia.org/wiki/Affine_transformation) transformations + sphere inversion.   \r\n  \r\n[Circle inversion](https://en.wikipedia.org/wiki/Inversive_geometry) is `p /= dot(p,p);` and is a case of the [Möbius transform](https://en.wikipedia.org/wiki/M%C3%B6bius_transformation).\r\nIt's very commonly used in fractals. Sphere inversion is its extension to 3D. It's a [conformal](https://en.wikipedia.org/wiki/Conformal_map) mapping, which means it preserves angles.\r\n\r\n<brb />\r\n\r\n<YoutubeVideo src={`IAPf1ZYfm-s`}/>\r\n\r\n<brb />\r\n\r\n[IFSRenderer](https://github.com/bezo97/IFSRenderer)'s [Transforms repo](https://github.com/bezo97/IFSTransforms/tree/3ad08c70a1149dbc946baca68708a3beb05f2e9f/Transforms) is a cool source of transforms written in glsl.\r\n<brb />\r\n\r\n## **Rendering + colouring**\r\nFlame fractals, as per Scott Draves's [paper](https://flam3.com/flame_draves.pdf), are coloured by sliding each particle over a palette, while it's being transformed. In the end, it's post processed using a log-density function.\r\n  \r\nI won't explain that in this article.\r\n  \r\nAn easy way to post process is by scaling brightness with the reciprocal of the total splats you did, then applying an [HDR->LDR tonemap](https://64.github.io/tonemapping/).  \r\n  \r\nHere I use Inigo Quilez's palette function, then multiply it by the scaled density and apply the [Reinhard tonemap](https://www-old.cs.utah.edu/docs/techreports/2002/pdf/UUCS-02-001.pdf). \r\nReinhard tonemap is really not ideal if you want a nice filmic-looking image, in big part (but not limited to) because it doesn't desaturate bright regions. That might not be what you want in generative art though. \r\n<brb />\r\n\r\n```glsl\r\nlayout(r32ui) uniform coherent restrict uimage2D density_image;\r\nuniform int total_particle_splats_count;\r\nuniform float brightness;\r\nout vec4 out_colour;\r\n\r\nvec3 pallete(float k){\r\n\t// Simple variation of https://iquilezles.org/articles/palettes/\r\n\t// You can use anything here.\r\n\treturn 0.5 + 0.5 * sin(vec3(3,2,1) + k);\r\n}\r\n\r\nvoid main(){\r\n\tuint density = imageLoad(density_image, uvec2(gl_FragCoord));\r\n\r\n\tfloat density_scaled = float(density) / total_particle;\r\n\tdensity_scaled *= brightness;\r\n\r\n\tvec3 colour = pallete(density_scaled);\r\n\tcolour *= density_scaled;\r\n\tcolour = colour / (1. + colour);\r\n\r\n\tout_colour = vec4(colour, 1.);\r\n}\r\n\r\n```\r\n## **Depth of field**\r\n[Terrarium](https://www.pouet.net/prod.php?which=82417) complements the beautiful abstract shapes with depth of field. \r\nThat is easy to achieve by offsetting the position by a disk (or any other distribution) when splatting.\r\n\r\n<brb />\r\n\r\n```glsl\r\nconst float focus_dist = 0.7;\r\nconst float dof_scale = 1.0;\r\nvec2 dof_sample = dof_scale * get_random_point_in_disk() * (depth - focus_dist) / min(resolution.x, resolution.y);\r\nvec2 anti_aliasing = random_point_in_disk() / min(resolution.x, resolution.y); \r\nivec2 int_p = ivec2(uv + anti_aliasing + dof_sample)*ivec2(resolution);\r\n```\r\n\r\n<brb />\r\n\r\n## **Motion blur**\r\nAlso seen in [Terrarium](https://www.pouet.net/prod.php?which=82417), motion blur can be done by dithering the time variable when you use it inside transformation functions. \r\nMotion blur is usually used as a technique to antialias over time, but you can tweak its kernel size for artistic effect.\r\n\r\n\r\n\r\n<brb />\r\n\r\n## **Wrapping up**\r\n\r\n<brb />\r\n\r\nThanks for reading and I'd love to see what you make!  \r\n\r\n<brb />\r\n\r\nHere are some of my own artworks:\r\n\r\n<brb />\r\n\r\n<Image src=\"/images/generative_static/image (29).png\" />\r\n\r\n<brb />\r\n\r\n<Image src=\"/images/generative_static/image (26).png\" />\r\n\r\n<brb />\r\n\r\n<Image src=\"/images/generative_static/unknown (4).png\" />\r\n\r\n<brb />\r\n\r\n<Image src=\"/images/generative_static/unknown (5).png\" />\r\n\r\n<brb />\r\n\r\n<Image src=\"/images/generative_static/image (25).png\" />\r\n\r\n<brb />\r\n\r\n<Video src=\"/images/generative_mograph/chrome_WqJeO3gecm.mp4\" autoplay={false} controls={true}/>\r\n\r\n<brb />\r\n\r\n<Video src=\"/images/generative_mograph/vivaldi_r0PEmo85Q3.mp4\" autoplay={false} controls={true}/>\r\n\r\n<brb />\r\n\r\n<Video src=\"/images/generative_mograph/chrome_yM83fEWe71.mp4\" autoplay={false} controls={true}/>\r\n\r\n<brb />\r\n\r\n<Video src=\"/images/generative_mograph/chrome_Wb6pBvRRgB.mp4\" autoplay={false} controls={true}/>\r\n\r\n<brb />\r\n\r\n<Video src=\"/images/generative_mograph/chrome_c2bM8EGIdS.mp4\" autoplay={false} controls={true}/>\r\n\r\n<brb />\r\n\r\n<Video src=\"/images/generative_mograph/chrome_4pKmSCfcQD.mp4\" autoplay={false} controls={true}/>\r\n\r\n<brb />\r\n\r\n</article>\r\n\r\n<script lang=\"ts\">\r\n\timport {onDestroy} from 'svelte'\r\n\timport { onMount } from \"svelte\"\r\n\timport Video from \"../utils/Video.svelte\"\r\n\timport Image from \"../utils/Image.svelte\"\r\n\timport SubTitle from \"../utils/SubTitle.svelte\"\r\n\timport BlogTitle from \"../utils/BlogTitle.svelte\"\r\n  \r\n  export let date = new Date(\"2023-08-17\")\r\n  export let title = \"Rendering flame fractals with a compute shader\"\r\n  \r\n\timport YoutubeVideo from \"components/utils/YoutubeVideo.svelte\"\r\n\r\n\tonDestroy(() => {})\r\n\tonMount(async () => {\r\n\t})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>\r\n\r\n","\r\n<a href={link} class=\"menu-item {add_classes}\">\r\n  {@html text}\r\n</a>\r\n<script lang=\"ts\">\r\n\timport {onMount} from 'svelte'\r\n\timport {onDestroy} from 'svelte'\r\n\r\n\tconst is_dev = process.env.NODE_ENV === 'development'\r\n  export let text: string\r\n  export let link: string\r\n  if (is_dev){\r\n    link += \".html\"\r\n  }\r\n\r\n\t$: path_name = location.pathname \r\n  // $: add_classes = link.includes(path_name) || link.replace('.html', '').includes(path_name) ? \" selected\" : \"\"\r\n  // $: add_classes = link.replace('.html', '').includes(path_name) ? \" selected\" : \"\"\r\n  $: add_classes = path_name.includes(link.replace('.html', '')) ? \" selected\" : \"\"\r\n  $: {\r\n    console.log(path_name)\r\n    console.log(link)\r\n  }\r\n\t\r\n\r\n\r\n\tonMount(async () => {\r\n\t})\r\n\r\n\tonDestroy(() => {})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  :global(.menu-item, .menu-item *){\r\n    font-weight: 750 !important;\r\n    font-style: italic;\r\n    width: fit-content;\r\n    // background: none;\r\n    color: var(--accent-dark);\r\n    // &:hover{\r\n    //   filter: invert(1);\r\n    // }\r\n  }\r\n  :global(.selected, .selected *) {\r\n    background: var(--accent-dark);\r\n    color: var(--accent-light) !important;\r\n  }\r\n</style>\r\n","import {\n\trun_all,\n\tsubscribe,\n\tnoop,\n\tsafe_not_equal,\n\tis_function,\n\tget_store_value\n} from '../internal/index.js';\n\nconst subscriber_queue = [];\n\n/**\n * Creates a `Readable` store that allows reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#readable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readable(value, start) {\n\treturn {\n\t\tsubscribe: writable(value, start).subscribe\n\t};\n}\n\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#writable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Writable<T>}\n */\nexport function writable(value, start = noop) {\n\t/** @type {import('./public.js').Unsubscriber} */\n\tlet stop;\n\t/** @type {Set<import('./private.js').SubscribeInvalidateTuple<T>>} */\n\tconst subscribers = new Set();\n\t/** @param {T} new_value\n\t * @returns {void}\n\t */\n\tfunction set(new_value) {\n\t\tif (safe_not_equal(value, new_value)) {\n\t\t\tvalue = new_value;\n\t\t\tif (stop) {\n\t\t\t\t// store is ready\n\t\t\t\tconst run_queue = !subscriber_queue.length;\n\t\t\t\tfor (const subscriber of subscribers) {\n\t\t\t\t\tsubscriber[1]();\n\t\t\t\t\tsubscriber_queue.push(subscriber, value);\n\t\t\t\t}\n\t\t\t\tif (run_queue) {\n\t\t\t\t\tfor (let i = 0; i < subscriber_queue.length; i += 2) {\n\t\t\t\t\t\tsubscriber_queue[i][0](subscriber_queue[i + 1]);\n\t\t\t\t\t}\n\t\t\t\t\tsubscriber_queue.length = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('./public.js').Updater<T>} fn\n\t * @returns {void}\n\t */\n\tfunction update(fn) {\n\t\tset(fn(value));\n\t}\n\n\t/**\n\t * @param {import('./public.js').Subscriber<T>} run\n\t * @param {import('./private.js').Invalidator<T>} [invalidate]\n\t * @returns {import('./public.js').Unsubscriber}\n\t */\n\tfunction subscribe(run, invalidate = noop) {\n\t\t/** @type {import('./private.js').SubscribeInvalidateTuple<T>} */\n\t\tconst subscriber = [run, invalidate];\n\t\tsubscribers.add(subscriber);\n\t\tif (subscribers.size === 1) {\n\t\t\tstop = start(set, update) || noop;\n\t\t}\n\t\trun(value);\n\t\treturn () => {\n\t\t\tsubscribers.delete(subscriber);\n\t\t\tif (subscribers.size === 0 && stop) {\n\t\t\t\tstop();\n\t\t\t\tstop = null;\n\t\t\t}\n\t\t};\n\t}\n\treturn { set, update, subscribe };\n}\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>, set: (value: T) => void, update: (fn: import('./public.js').Updater<T>) => void) => import('./public.js').Unsubscriber | void} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>) => T} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * @template {import('./private.js').Stores} S\n * @template T\n * @param {S} stores\n * @param {Function} fn\n * @param {T} [initial_value]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function derived(stores, fn, initial_value) {\n\tconst single = !Array.isArray(stores);\n\t/** @type {Array<import('./public.js').Readable<any>>} */\n\tconst stores_array = single ? [stores] : stores;\n\tif (!stores_array.every(Boolean)) {\n\t\tthrow new Error('derived() expects stores as input, got a falsy value');\n\t}\n\tconst auto = fn.length < 2;\n\treturn readable(initial_value, (set, update) => {\n\t\tlet started = false;\n\t\tconst values = [];\n\t\tlet pending = 0;\n\t\tlet cleanup = noop;\n\t\tconst sync = () => {\n\t\t\tif (pending) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcleanup();\n\t\t\tconst result = fn(single ? values[0] : values, set, update);\n\t\t\tif (auto) {\n\t\t\t\tset(result);\n\t\t\t} else {\n\t\t\t\tcleanup = is_function(result) ? result : noop;\n\t\t\t}\n\t\t};\n\t\tconst unsubscribers = stores_array.map((store, i) =>\n\t\t\tsubscribe(\n\t\t\t\tstore,\n\t\t\t\t(value) => {\n\t\t\t\t\tvalues[i] = value;\n\t\t\t\t\tpending &= ~(1 << i);\n\t\t\t\t\tif (started) {\n\t\t\t\t\t\tsync();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tpending |= 1 << i;\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\t\tstarted = true;\n\t\tsync();\n\t\treturn function stop() {\n\t\t\trun_all(unsubscribers);\n\t\t\tcleanup();\n\t\t\t// We need to set this to false because callbacks can still happen despite having unsubscribed:\n\t\t\t// Callbacks might already be placed in the queue which doesn't know it should no longer\n\t\t\t// invoke this derived store.\n\t\t\tstarted = false;\n\t\t};\n\t});\n}\n\n/**\n * Takes a store and returns a new one derived from the old one that is readable.\n *\n * https://svelte.dev/docs/svelte-store#readonly\n * @template T\n * @param {import('./public.js').Readable<T>} store  - store to make readonly\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readonly(store) {\n\treturn {\n\t\tsubscribe: store.subscribe.bind(store)\n\t};\n}\n\nexport { get_store_value as get };\n","import {type Writable, writable} from 'svelte/store'\r\n\r\nexport let dark_mode: Writable<boolean> = writable(false)\r\n\r\n// export const LFS_PREPEND = writable(0)\r\n","<svelte:head>\r\n\t{#if is_dark_mode_toggled}\r\n\t<style>\r\n\t\t*{\r\n\t\t\t--accent-light: black;\r\n\t\t\t--accent-dark: white;\r\n\t\t}\r\n\t\tpre {\r\n\t\t\tfilter: invert(1);\r\n\t\t}\r\n\t\tcode * {\r\n\t\t\tfont-weight: 800 !important;\r\n\t\t}\r\n\t\tpre *::selection{\r\n\t\t\t/* background: black !important; */\r\n\t\t\t/* filter: invert(1) !important; */\r\n\t\t\tbackground: #7c7c7c;\r\n\t\t}\r\n\t\t.track{\r\n\t\t\tbackground: white !important;\r\n\t\t\tfilter: invert(1) !important;\r\n\t\t}\r\n\t\t.track *{\r\n\t\t\t/* color: */\r\n\t\t\t--accent-light: white;\r\n\t\t\t--accent-dark: black;\r\n\t\t}\r\n\t\tsvg {\r\n\t\t\tfill: var(--accent-dark);\r\n\r\n\t\t}\r\n\t\t#toggle-container svg {\r\n\t\t\tbackground: var(--accent-light);\r\n\t\t\tfill:var(--accent-dark);\r\n\t\t\t/* filter: invert(1);\r\n\t\t\t&:active{\r\n\t\t\t\tfilter: invert(0) !important;\r\n\t\t\t} */\r\n\t\t} \r\n\t\t\t\r\n\t</style>\r\n\t{:else}\r\n\t<style>\r\n\t\t*{\r\n\t\t\t--accent-light: white;\r\n\t\t\t--accent-dark: black;\r\n\t\t}\r\n\t\t\r\n\r\n\t</style>\r\n\t{/if}\r\n\r\n</svelte:head>\r\n\r\n\r\n<div id=\"toggle-container\" bind:this={container_element}>\r\n\t{@html LightDarkToggleIcon}\r\n\t\r\n</div>\r\n\r\n<script lang=\"ts\">\r\n\timport {onMount} from 'svelte'\r\n\timport {onDestroy} from 'svelte'\r\n\t\r\n\t\r\n\timport LightDarkToggleIcon from '/../public/brightness_6_FILL0_wght400_GRAD0_opsz48.svg'\r\n\timport { dark_mode } from 'store'\r\n\t\r\n\tconst systemSettingDark = window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\r\n\t\r\n\tlet is_dark_mode_toggled = localStorage.getItem(\"dark-mode\") ? true : false\r\n\tdark_mode.set(is_dark_mode_toggled)\r\n\t\r\n\tlet container_element: HTMLElement\r\n\tlet light_dark_toggle_icon_element: SVGSVGElement\r\n\t\r\n\t// let style_media: string = \"\"\r\n\t$: style_media = is_dark_mode_toggled ? \"\" : `max-width:1px`\r\n\t\r\n\t// function refresh_styl\r\n\t\r\n\r\n\tonMount(async () => {\r\n\t\tlight_dark_toggle_icon_element = container_element.querySelector(\"svg\") as SVGSVGElement\r\n\t\tlight_dark_toggle_icon_element.onclick = ()=>{\r\n\t\t\tis_dark_mode_toggled = !is_dark_mode_toggled\r\n\t\t\tdark_mode.set(is_dark_mode_toggled)\r\n\t\t\tlocalStorage.setItem(\"dark-mode\", is_dark_mode_toggled ? \"true\" : \"\")\r\n\t\t}\r\n\t})\r\n\r\n\tonDestroy(() => {})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#toggle-container {\r\n\tmargin-top: auto;\r\n\twidth: 2rem;\r\n\tmargin-right: auto;\r\n\tmargin-left: 1rem;\r\n\r\n\t:global(svg){\r\n\t\tcursor: pointer;\r\n\t\taspect-ratio: 1/1;\r\n\t\twidth: 2rem;\r\n\t\t&:active{\r\n\t\t\tfilter: invert(1);\r\n\t\t\tbackground: var(--accent-light);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n</style>\r\n\r\n","<svelte:head>\r\n\t{#if flex_wrapped}\r\n\t<style>\r\n#bar-right{\r\n\twidth: 100%;\r\n}\r\n#toggle-container{\r\n\tmargin-left: 0px;\r\n\tmargin-right: auto;\r\n}\r\n\t</style>\r\n\t{:else}\r\n\t<style>\r\n\t</style>\r\n\t{/if}\r\n</svelte:head>\r\n<nav id=\"bar\" bind:this={parent_element}>\r\n\t<div id=\"bar-left\" bind:this={left_element}>\r\n\t\t<div id=\"logo-container\">\r\n\t\t\t<a href=\"/\" class=\"logo logo-behind logo-behind-a {hovered_class}\">\r\n\t\t\t\t<mark>\r\n\t\t\t\twrighter\r\n\t\t\t\t</mark>\r\n\t\t\t</a>\r\n\t\t\t<a href=\"/\" class=\"logo logo-behind logo-behind-b {hovered_class}\">\r\n\t\t\t\twrighter\r\n\t\t\t</a>\r\n\t\t\t<a href=\"/\" class=\"logo {hovered_class}\" bind:this={logo_element}>\r\n\t\t\t\twrighter\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t\t{#if !flex_wrapped}\r\n\t\t\t<DarkModeToggle/>\r\n\t\t{/if}\r\n\t</div>\r\n\t<div id=\"bar-right\" bind:this={right_element}>\r\n\t\t{#if flex_wrapped}\r\n\t\t\t<DarkModeToggle/>\r\n\t\t{/if}\r\n\t\t<div id=\"menus\" bind:this={menus_element}>\r\n\t\t\t<div id=\"menu\" >\r\n\t\t\t\t<slot />\r\n\t\t\t\t<!-- <Link link=\"/art\" text=\"/art\"> </Link>\r\n\t\t\t\t<Link link=\"/music\" text=\"/music\"> </Link>\r\n\t\t\t\t<Link link=\"/favdemos\" text=\"/fav <br> demos\"> </Link>\r\n\t\t\t\t<Link link=\"/projects\" text='/projects'> </Link>\r\n\t\t\t\t<Link link=\"/about\" text=\"/about\"> </Link> -->\r\n\t\t\t</div>\r\n\t\t\t<div id=\"menu\" >\r\n\t\t\t\t<Link link=\"/art\" text=\"/art\"> </Link>\r\n\t\t\t\t<Link link=\"/music\" text=\"/music\"> </Link>\r\n\t\t\t\t<Link link=\"/favdemos\" text=\"<div><div>/fav</div> <div>demos</div></div>\"> </Link>\r\n\t\t\t\t<Link link=\"/favexegfx\" text=\"<div><div>/fav</div> <div>exegfx</div></div>\"> </Link>\r\n\t\t\t\t<Link link=\"/blog\" text='/blog'> </Link>\r\n\t\t\t\t<Link link=\"/projects\" text='/projects'> </Link>\r\n\t\t\t\t<Link link=\"/about\" text=\"/about\"> </Link>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</nav>\r\n\r\n\r\n<script lang=\"ts\">\r\n\timport {onMount} from 'svelte'\r\n\timport {onDestroy} from 'svelte'\r\n\timport Link from \"./Link.svelte\"\r\n\t\r\n\timport DarkModeToggle from './DarkModeToggle.svelte';\r\n\t\r\n\t// let logo_hovered: boolean = false\r\n\t\r\n\tlet logo_element: HTMLElement\r\n\t\r\n\tlet right_element: HTMLElement;\r\n\tlet left_element: HTMLElement;\r\n\tlet parent_element: HTMLElement;\r\n\r\n\tlet menus_element: HTMLElement;\r\n\t\r\n\tlet flex_wrapped = false\r\n\t\r\n\tfunction check_flex_wrapped(){\r\n\t\tif(parent_element.clientWidth < menus_element.clientWidth + left_element.clientWidth){\r\n\t\t\tflex_wrapped = true\r\n\t\t} else {\r\n\t\t\tflex_wrapped = false\r\n\t\t}\r\n\t}\r\n\t\r\n\t// $: hovered_class = logo_hovered ? \"hovered\" : \"\"\r\n\tlet hovered_class = \"\"\r\n\r\n\t// hovered_class = \"hovered\"\r\n\t// hovered_class += \" hover-effect-\" + 1\r\n\t\r\n\tlet effect_idx = 0\r\n\t\r\n\tlet last_t_during_fx_change = new Date()\r\n\t\r\n\t\r\n\r\n\tonMount(async () => {\r\n\t\tcheck_flex_wrapped()\r\n\t\twindow.addEventListener('resize', ()=>{\r\n\t\t\tcheck_flex_wrapped()\r\n\t\t})\r\n\r\n\t\tlogo_element.addEventListener('mouseenter', ()=>{\r\n\t\t\tlet new_date = new Date()\r\n\t\t\tlet seconds = Math.abs(last_t_during_fx_change.getTime() - new_date.getTime())/1000;\r\n\r\n\t\t\t// logo_hovered = true\r\n\t\t\thovered_class = \"hovered\"\r\n\t\t\tif(seconds > 0.5){\r\n\t\t\t\thovered_class += \" hover-effect-\" + effect_idx\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log(\"hovered\")\r\n\t\t})\r\n\t\tlogo_element.addEventListener('mouseleave', ()=>{\r\n\t\t\thovered_class = \"\"\r\n\t\t\tif(!navigator.userAgent.includes(\"Mozilla\")){\r\n\t\t\t\teffect_idx = (effect_idx + 1) % 2\r\n\t\t\t}\r\n\r\n\t\t\t// effect_idx = 1\r\n\t\t\t// logo_hovered = false\r\n\t\t})\r\n\t})\r\n\r\n\tonDestroy(() => {})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#bar {\r\n\t\twidth: 100%;\r\n\t\tmargin-top: 1rem;\r\n\t\tmargin-bottom: 1rem;\r\n\t\t// padding-right: 5rem;\r\n\t\t// padding-left: 5rem;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\t// margin-left: 10rem;\r\n\t\t// margin-right: auto;\r\n\t\t// .logo-behind-a{\r\n\t\t// \tbackground: black !important;\r\n\t\t// }\r\n\t\t#bar-left{\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\t// height: 11rem;\r\n\t\t}\r\n\t\tmark{\r\n\t\t\tbackground: var(--accent-dark);\r\n\t\t}\r\n\t\t.logo{\r\n\t\t\t&.logo-behind{\r\n\t\t\t\tposition:absolute;\r\n\t\t\t}\r\n\t\t\t// &:not(.logo-behind):hover{\r\n\t\t\t// \tbackground: black;\r\n\t\t\t// }\r\n\t\t\t$base-duration: 300ms;\r\n\t\t\tfont-size: 4rem;\r\n\t\t\tmargin-left: 1rem;\r\n\t\t\theight: fit-content;\r\n\r\n\t\t\t// Colors\r\n\t\t\t$color-1: #ff5500;\r\n\t\t\t$color-2: #450f8b;\r\n\t\t\t$color-3: #bfcc2e;\r\n\t\t\t$black: var(--accent-dark);\r\n\t\t\ttext-decoration: none;\r\n\t\t\t&.hovered{\r\n\t\t\t\tcolor: var(--accent-dark) !important;\r\n\t\t\t\t// background: none;\r\n\r\n\t\t\t\t&.hover-effect-0{\r\n\t\t\t\t\t@keyframes distort1 {\r\n\t\t\t\t\t\t0%    { transform: translate(.5rem, .5rem); }\r\n\t\t\t\t\t\t12.5% { transform: translate(.5rem,  0rem); }\r\n\t\t\t\t\t\t25%   { transform: translate(.5rem,  1.5rem); }\r\n\t\t\t\t\t\t37.5% { transform: translate(0rem,  .5rem); }\r\n\t\t\t\t\t\t50%   { transform: translate(.5rem,  0.5rem); }\r\n\t\t\t\t\t\t62.5% { transform: translate(.5rem,  0rem); }\r\n\t\t\t\t\t\t75%   { transform: translate(.5rem,  .5rem); }\r\n\t\t\t\t\t\t87.5% { transform: translate(0rem,  .5rem); }\r\n\t\t\t\t\t\t100%  { transform: translate(1.5rem,  .5rem); }\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t@keyframes distort2 {\r\n\t\t\t\t\t\t0%    { transform: translate(0.5rem,  0.5rem); }\r\n\t\t\t\t\t\t12.5% { transform: translate(0rem,  0.5rem); }\r\n\t\t\t\t\t\t25%   { transform: translate(1.5rem,  0.5rem); }\r\n\t\t\t\t\t\t37.5% { transform: translate(1.5rem,  0rem); }\r\n\t\t\t\t\t\t50%   { transform: translate(1.5rem,  .5rem); }\r\n\t\t\t\t\t\t62.5% { transform: translate(0rem,  1.5rem); }\r\n\t\t\t\t\t\t75%   { transform: translate(0.5rem,  .5rem); }\r\n\t\t\t\t\t\t87.5% { transform: translate(0.5rem,  0rem); }\r\n\t\t\t\t\t\t100%  { transform: translate(0.5rem,  0.5rem); }\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@keyframes glitch-anim3 {\r\n\t\t\t\t\t\t$steps: 50;\r\n\t\t\t\t\t\t@for $i from 0 to $steps {\r\n\t\t\t\t\t\t\t#{percentage($i*(1/$steps))} {\r\n\t\t\t\t\t\t\t\tclip: rect(random(40)/10 + rem, 9999px, random(10)/2 + rem, 0);\r\n\t\t\t\t\t\t\t\t// transform: skew((random(100) / 5) + deg);\r\n\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t// z-index: random(4);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t@keyframes cooool {\r\n\t\t\t\t\t\t$stepss: 50;\r\n\t\t\t\t\t\t@for $k from 0 to $stepss {\r\n\t\t\t\t\t\t\t#{percentage($k*(1/$stepss))} {\r\n\t\t\t\t\t\t\t\t// clip: rect(random(40)/10 + rem, 9999px, random(10)/2 + rem, 0);\r\n\t\t\t\t\t\t\t\t// color: oklch(100%, 1.0, 21.57) !important;\r\n\t\t\t\t\t\t\t\tcolor: pink !important;\r\n\t\t\t\t\t\t\t\t// transform: skew((random(100) / 5) + deg);\r\n\t\t\t\t\t\t\t\t// transform-origin: center;\r\n\t\t\t\t\t\t\t\t// z-index: random(4);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tanimation: glitch-anim3 10s infinite linear alternate-reverse;\r\n\t\t\t\t\t&.logo-behind-a {\r\n\t\t\t\t\t\tcolor: $color-1 !important;\r\n\t\t\t\t\t\tanimation: distort1 $base-duration linear infinite,\r\n\t\t\t\t\t\t\tglitch-anim3 5s infinite linear alternate-reverse,\r\n\t\t\t\t\t\t\tcooool 5s infinite linear alternate-reverse \r\n\t\t\t\t\t\t\t// col-anim 5s infinite linear infinite\r\n\t\t\t\t\t\t\t;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&.logo-behind-b {\r\n\t\t\t\t\t\t// top: 50.5%;\r\n\t\t\t\t\t\t// left: 50.5%;\r\n\t\t\t\t\t\tcolor: rgba($color-2,1.0) !important;\r\n\t\t\t\t\t\t// transform: scale(1.4);\r\n\t\t\t\t\t\tanimation: distort2 $base-duration linear infinite,\r\n\t\t\t\t\t\t\tglitch-anim3 3s infinite linear alternate-reverse;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t&.hover-effect-1{\r\n\t\t\t\tanimation: glitch-skew 1s infinite linear alternate-reverse;\r\n\t\t\t\t@keyframes glitch-anim {\r\n\t\t\t\t\t$steps: 50;\r\n\t\t\t\t\t@for $i from 0 to $steps {\r\n\t\t\t\t\t\t#{percentage($i*(1/$steps))} {\r\n\t\t\t\t\t\t\tclip: rect(random(40)/10 + rem, 9999px, random(10)/2 + rem, 0);\r\n\t\t\t\t\t\t\ttransform: skew((random(100) / 10) + deg);\r\n\t\t\t\t\t\t\tz-index: random(4);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@keyframes glitch-anim2 {\r\n\t\t\t\t\t$steps: 150;\r\n\t\t\t\t\t@for $i from 0 to $steps {\r\n\t\t\t\t\t\t#{percentage($i*(1/$steps))} {\r\n\t\t\t\t\t\t\tclip: rect(random(10)/50 + rem, 99999px, random(100)/10 + rem, 0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@keyframes glitch-skew {\r\n\t\t\t\t\t$steps: 10;\r\n\t\t\t\t\t@for $i from 0 to $steps {\r\n\t\t\t\t\t\t#{percentage($i*(1/$steps))} {\r\n\t\t\t\t\t\t\ttransform: skew((random(10) - 5) + deg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t&.logo-behind-a {\r\n\t\t\t\t\t// top: 49.5%;\r\n\t\t\t\t\t// left: 49.5%;\r\n\t\t\t\t\t// z-index: 1;\r\n\t\t\t\t\tcolor: var(--accent-light);\r\n\t\t\t\t\ttransform: translateX(-0.5rem);\r\n\t\t\t\t\tcolor: rgba($color-1,1.0) !important;\r\n\t\t\t\t\ttext-shadow: -2px 0 rgba($color-1,1.0), 2px 2px rgba($color-1,1.0);\r\n\t\t\t\t\tclip: rect(44px, 450px, 56px, 0);\r\n\t\t\t\t\tanimation: glitch-anim2 5s infinite linear alternate-reverse;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&.logo-behind-b {\r\n\t\t\t\t\t// top: 50.5%;\r\n\t\t\t\t\t// left: 50.5%;\r\n\t\t\t\t\tcolor: $color-3 !important;\r\n\t\t\t\t\tz-index: 1;\r\n\t\t\t\t\ttransform: translateX(0.2rem);\r\n\t\t\t\t\t// transform: scale(1.4);\r\n\t\t\t\t\ttext-shadow: -2px 0 rgba($color-2,1.0);\r\n\t\t\t\t\tclip: rect(44px, 450px, 56px, 0);\r\n\t\t\t\t\tanimation: glitch-anim 5s infinite linear alternate-reverse;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t\t&.logo-behind{\r\n\t\t\t\twidth: 0px;\r\n\t\t\t\theight: 0px;\r\n\t\t\t\toverflow: visible;\r\n\t\t\t\t&:not(.hovered){\r\n\t\t\t\t\tdisplay: none;\r\n\t\t\t\t}\r\n\t\t\t\t// transition: transform 2s;\r\n\t\t\t\t// z-index: 1;\r\n\t\t\t\tpointer-events: none;\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\t// display:inline;\r\n\t\t}\r\n\r\n\t\t#bar-right{\r\n\t\t\tmargin-left: auto;\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin-right: 1rem;\r\n\t\t\tmargin-top: 1rem;\r\n\t\t\tposition: relative;\r\n\t\t\t#menus{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\t#menu{\r\n\t\t\t\t\theight: 10rem;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\tmargin-right: 1rem;\r\n\t\t\t\t\t:global(.menu-item){\r\n\t\t\t\t\t\tfont-weight: 750;\r\n\t\t\t\t\t\tfont-style: italic;\r\n\t\t\t\t\t\twidth: fit-content;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\twidth: 100%;\r\n\t}\r\n\tcanvas {\r\n\t\tdisplay: none;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\t// display: block;\r\n\t\tmargin: auto;\r\n\t\tpadding: 0;\r\n\t}\r\n</style>\r\n","<footer id=\"bar\">\r\n\t<div id=\"name\">\r\n\t\tPetar Guglev © 2023\r\n\t</div>\r\n</footer>\r\n\r\n<script lang=\"ts\">\r\n\timport {onDestroy} from 'svelte'\r\n\t\r\n\t\r\n\tonDestroy(() => {})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#bar {\r\n\t#name{\r\n\t\tmargin-right: 2rem;\r\n\t}\r\n\twidth: 100%;\r\n\tmargin-top: auto;\r\n\t// margin-bottom: 0rem;\r\n\r\n\t// padding-right: 5rem;\r\n\t// padding-left: 5rem;\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: flex-end;\r\n\t// padding: 2rem;\r\n\t// margin-top: 2rem;\r\n\t// margin-bottom: 2rem;\r\n\t*{\r\n\t\tfont-weight: 600;\r\n\t}\r\n\tpadding-top: 2rem;\r\n\tpadding-bottom: 2rem;\r\n\t// margin-left: 10rem;\r\n\t// margin-right: auto;\r\n}\r\n</style>\r\n","\r\n<main>\r\n\t<Bar />\r\n\t<div>\r\n\t</div>\r\n\t{#each Object.keys(list).reverse() as year, i}\r\n\t\t<div class=\"year\">\r\n\t\t\t{year}\r\n\t\t</div>\r\n\t\t{#each list[year] as demo, i}\r\n\t\t\t<a href={demo.link} target=”_blank” on:pointerenter={()=>showImage(demo)} on:pointerleave={()=>hideImage()} class=\"demo\">\r\n\t\t\t\t<div class=\"name\">\r\n\t\t\t\t\t{demo.name} &nbsp; — &nbsp; {demo.group}\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- <div class=\"name\">\r\n\t\t\t\t\t{demo.name}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"font-weight: 500;\">\r\n\t\t\t\t\t&nbsp; — &nbsp;\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"group\">\r\n\t\t\t\t\t{demo.group}\r\n\t\t\t\t</div> -->\r\n\t\t\t</a>\r\n\t\t{/each}\r\n\t{/each}\r\n\t<img \r\n\t\tclass=\"hover-image\" \r\n\t\tbind:this={hover_image_element} \r\n\t\tstyle={`\r\n\t\t\tbackground:var(--accent-dark);\r\n\t\t\tdisplay:none;\r\n\t\t\tposition: fixed;\r\n\t\t\tpointer-events: none;\r\n\t\t\tposition:fixed;\r\n\t\t\tmin-width: 1rem;\r\n\t\t\tmin-height: 1rem;\r\n\t\t`}\r\n\t/>\r\n\t<Footer />\r\n</main>\r\n\r\n\r\n\r\n<script lang=\"ts\">\r\n\timport {onMount} from 'svelte'\r\n\timport {onDestroy} from 'svelte'\r\n\r\n\timport Bar from \"./utils/NavBar.svelte\"\r\n\r\n\timport Footer from './utils/Footer.svelte'\r\n\t\r\n\tlet hover_image_element: HTMLImageElement\r\n\t\r\n\tfunction showImage(demo: Demo){\r\n\t\thover_image_element.style.display = \"block\"\r\n\t\thover_image_element.src = demo.img_url\r\n\t}\r\n\tfunction hideImage(){\r\n\t\thover_image_element.style.display = \"none\"\r\n\t}\r\n\t\r\n\tclass Demo{\r\n\t\tname: string\r\n\t\tgroup: string\r\n\t\tlink: string\r\n\t\timg_url: string\r\n\t\tconstructor(name: string, group: string, link: string, img_url: string = \"\"){\r\n\t\t\tthis.name = name\r\n\t\t\tthis.group = group \r\n\t\t\tthis.link = link\r\n\t\t\tthis.img_url = img_url\r\n\t\t}\r\n\t}\r\n\tconst list = {\r\n\t\t2025: [\r\n\t\t\tnew Demo(\"markov chant\"  ,\"limp ninja\", \"https://www.pouet.net/prod.php?which=103538\", \"https://media.demozoo.org/screens/o/78/01/5255.357585.jpg\"),\r\n\t\t],\r\n\t\t2024: [\r\n\t\t\tnew Demo(\"vernal festival\"  ,\"limp ninja\", \"https://www.pouet.net/prod.php?which=97522\", \"https://media.demozoo.org/screens/o/b1/c0/ec30.348994.png\"),\r\n\t\t\tnew Demo(\"the matte flex\"  ,\"\", \"https://www.pouet.net/prod.php?which=96663\", \"https://media.demozoo.org/screens/o/df/9b/9cb3.342646.jpg\"),\r\n\t\t\tnew Demo(\"en-tropy\"  ,\"asd & minimalartifact\", \"https://www.pouet.net/prod.php?which=98188\", \"https://media.demozoo.org/screens/o/d9/12/c519.351156.jpg\"),\r\n\t\t],\r\n\t\t2023: [\r\n\t\t\tnew Demo(\"0b5vr glsl techno live set\"  ,\"0b5vr\", \"https://www.pouet.net/prod.php?which=94135\", \"https://content.pouet.net/files/screenshots/00094/00094135.jpg\"),\r\n\t\t\tnew Demo(\"seven days\"  ,\"61Q0\", \"https://www.pouet.net/prod.php?which=91421\", \"https://content.pouet.net/files/screenshots/00091/00091421.jpg\"),\r\n\t\t\tnew Demo(\"katsumaki\"  ,\"still\", \"https://www.pouet.net/prod.php?which=95242\", \"https://content.pouet.net/files/screenshots/00095/00095242.jpg\"),\r\n\t\t\tnew Demo(\"hallmackenreuther\"  ,\"0b5vr\", \"https://www.pouet.net/prod.php?which=95216\", \"https://media.demozoo.org/screens/o/d4/c2/f253.333246.jpg\"),\r\n\t\t],\r\n\t\t2022: [\r\n\t\t\tnew Demo(\"astrophage\"  ,\"logicoma\", \"https://www.pouet.net/prod.php?which=90874\", \"https://content.pouet.net/files/screenshots/00090/00090874.jpg\"),\r\n\t\t\tnew Demo(\"let this darkness be\"  ,\"Slay Bells\", \"https://www.pouet.net/prod.php?which=91356\", \"https://content.pouet.net/files/screenshots/00091/00091356.jpg\"),\r\n\t\t],\r\n\t\t2021: [\r\n\t\t\tnew Demo(\"there\"  ,\"still\", \"https://www.pouet.net/prod.php?which=88632\", \"https://content.pouet.net/files/screenshots/00088/00088632.jpg\"),\r\n\t\t\tnew Demo(\"concept\"  ,\"umlaut design\", \"https://www.pouet.net/prod.php?which=89840\", \"https://content.pouet.net/files/screenshots/00089/00089840.jpg\"),\r\n\t\t],\r\n\t\t2020: [\r\n\t\t\tnew Demo(\"bossa de cores\"  ,\"5711 & Farbrausch & Accession\", \"https://www.pouet.net/prod.php?which=86978\", \"https://content.pouet.net/files/screenshots/00086/00086978.jpg\"),\r\n\t\t\tnew Demo(\"wackelkontakt\"  ,\"Alcatraz & Prismbeings\", \"https://www.pouet.net/prod.php?which=85220\", \"https://content.pouet.net/files/screenshots/00085/00085220.png\"),\r\n\t\t\tnew Demo(\"la vie opportuniste\"  ,\"Razor1911\", \"https://www.pouet.net/prod.php?which=85221\", \"https://content.pouet.net/files/screenshots/00085/00085221.jpg\"),\r\n\t\t],\r\n\t\t2019: [\r\n\t\t\tnew Demo(\"terrarium\"  ,\"eos\", \"https://www.pouet.net/prod.php?which=82417\", \"https://content.pouet.net/files/screenshots/00082/00082417.jpg\"),\r\n\t\t\tnew Demo(\"zebrain\"  ,\"bC. & Tpolm\", \"https://www.pouet.net/prod.php?which=83691\", \"https://content.pouet.net/files/screenshots/00083/00083691.jpg\"),\r\n\t\t\tnew Demo(\"glitch rider\"  ,\"alcatraz\", \"https://www.pouet.net/prod.php?which=82612\", \"https://content.pouet.net/files/screenshots/00082/00082612.jpg\"),\r\n\t\t],\r\n\t\t2018: [\r\n\t\t\tnew Demo(\"until\"  ,\"fms_cat\", \"https://www.pouet.net/prod.php?which=79365\", \"https://content.pouet.net/files/screenshots/00079/00079365.jpg\"),\r\n\t\t\tnew Demo(\"dying stars\"  ,\"orange\", \"https://www.pouet.net/prod.php?which=77409\", \"https://content.pouet.net/files/screenshots/00077/00077409.jpg\"),\r\n\t\t\tnew Demo(\"zetsubo\"  ,\"prismbeings\", \"https://www.pouet.net/prod.php?which=75720\", \"https://content.pouet.net/files/screenshots/00075/00075720.png\"),\r\n\t\t],\r\n\t\t2017: [\r\n\t\t\tnew Demo(\"otaku\"  ,\"satori\", \"https://www.pouet.net/prod.php?which=71719\", \"https://content.pouet.net/files/screenshots/00071/00071719.gif\"),\r\n\t\t\tnew Demo(\"absolute territory\"  ,\"prismbeings\", \"https://www.pouet.net/prod.php?which=69642\", \"https://content.pouet.net/files/screenshots/00069/00069642.jpg\"),\r\n\t\t\tnew Demo(\"esocentrica\"  ,\"asd & satori\", \"https://www.pouet.net/prod.php?which=68795\", \"https://content.pouet.net/files/screenshots/00068/00068795.gif\"),\r\n\t\t],\r\n\t\t2016: [\r\n\t\t\tnew Demo(\"everyway\"  ,\"hoffman\", \"https://www.pouet.net/prod.php?which=67790\", \"https://content.pouet.net/files/screenshots/00067/00067790.png\"),\r\n\t\t],\r\n\t\t2015: [\r\n\t\t\tnew Demo(\"hold-and-modify\", \"flt & cncd\", \"https://www.pouet.net/prod.php?which=66097\", \"https://content.pouet.net/files/screenshots/00066/00066097.jpg\"),\r\n\t\t\tnew Demo(\"emix\"  ,\"epoch ft. trio tampere\", \"https://www.pouet.net/prod.php?which=66066\", \"https://content.pouet.net/files/screenshots/00066/00066066.jpg\"),\r\n\t\t],\r\n\t\t2014: [\r\n\t\t\tnew Demo(\"black and white lies\"  ,\"one studio off\", \"https://www.pouet.net/prod.php?which=63863\", \"https://content.pouet.net/files/screenshots/00063/00063863.jpg\"),\r\n\t\t\tnew Demo(\"intrinsic gravity\"  ,\"still\", \"https://www.pouet.net/prod.php?which=64756\", \"https://content.pouet.net/files/screenshots/00064/00064756.jpg\"),\r\n\t\t],\r\n\t\t2013: [\r\n\t\t\t\r\n\t\t],\r\n\t\t2012: [\r\n\t\t\t\r\n\t\t],\r\n\t\t2011: [\r\n\t\t\t\r\n\t\t],\r\n\t\t2010: [\r\n\t\t\tnew Demo(\"anoxia redux\"  ,\"asd & minimalartifact\", \"https://www.pouet.net/prod.php?which=55990\", \"https://content.pouet.net/files/screenshots/00055/00055990.png\"),\r\n\t\t],\r\n\t\t2009: [\r\n\t\t\t\r\n\t\t],\r\n\t\t2008: [\r\n\t\t\tnew Demo(\"passing\"  ,\"still\", \"https://www.pouet.net/prod.php?which=51763\", \"https://content.pouet.net/files/screenshots/00051/00051763.jpg\"),\r\n\t\t\tnew Demo(\"hypnoise, part1: chipyxa#6 invitation\"  ,\"quite\", \"https://www.pouet.net/prod.php?which=52020\", \"https://content.pouet.net/files/screenshots/00052/00052020.jpg\"),\r\n\t\t],\r\n\t\t2007: [\r\n\t\t\t\r\n\t\t],\r\n\t\t2006: [\r\n\t\t\tnew Demo(\"fr-055: 828\"  ,\"farbrausch\", \"https://www.pouet.net/prod.php?which=29739\", \"https://content.pouet.net/files/screenshots/00029/00029739.jpg\"),\r\n\t\t],\r\n\t\t2005: [\r\n\t\t\tnew Demo(\"ocean machine\"  ,\"the black lotus\", \"https://www.pouet.net/prod.php?which=16337\", \"https://content.pouet.net/files/screenshots/00016/00016337.jpg\"),\r\n\t\t],\r\n\t\t2004: [\r\n\t\t\t\r\n\t\t],\r\n\t\t2003: [\r\n\t\t\t\r\n\t\t],\r\n\t\t2002: [\r\n\t\t\tnew Demo(\"channel 5 sequence\"  ,\"haujobb\", \"https://www.pouet.net/prod.php?which=5591\", \"https://content.pouet.net/files/screenshots/00005/00005591.jpg\"),\r\n\t\t],\r\n\t\t2001: [\r\n\t\t\tnew Demo(\"energia\"  ,\"sunflower\", \"https://www.pouet.net/prod.php?which=3290\", \"https://content.pouet.net/files/screenshots/00003/00003290.gif\"),\r\n\t\t\tnew Demo(\"gerbera\"  ,\"moppi productions\", \"https://www.pouet.net/prod.php?which=3286\", \"https://content.pouet.net/files/screenshots/00003/00003286.jpg\"),\r\n\t\t],\r\n\t\t2000: [\r\n\t\t\tnew Demo(\"incyber\"  ,\"satori & aural planet\", \"https://www.pouet.net/prod.php?which=1164\", \"https://content.pouet.net/files/screenshots/00001/00001164.jpg\"),\r\n\t\t],\r\n\t\t1999: [\r\n\t\t\tnew Demo(\"codename chinadoll\"  ,\"katastro.fi\", \"https://www.pouet.net/prod.php?which=119\", \"https://content.pouet.net/files/screenshots/00000/00000119.jpg\"),\r\n\t\t\tnew Demo(\"zilog\"  ,\"sunflower\", \"https://www.pouet.net/prod.php?which=294\", \"https://content.pouet.net/files/screenshots/00000/00000294.jpg\"),\r\n\t\t\tnew Demo(\"fall equals winter\"  ,\"replay\", \"https://www.pouet.net/prod.php?which=501\", \"https://content.pouet.net/files/screenshots/00000/00000501.gif\"),\r\n\t\t\tnew Demo(\"moralhardcandy\"  ,\"blasphemy\", \"https://www.pouet.net/prod.php?which=11\", \"https://media.demozoo.org/screens/o/25/4a/29b8.58429.jpg\"),\r\n\t\t],\r\n\t\t1998: [\r\n\t\t\tnew Demo(\"te2-rb\" ,\"tpolm\", \"https://www.pouet.net/prod.php?which=117\", \"https://content.pouet.net/files/screenshots/00000/00000117.jpg\"),\r\n\t\t],\r\n\t\t1997: [\r\n\t\t\t\r\n\t\t],\r\n\t\t1996: [\r\n\t\t\t\r\n\t\t]\r\n\r\n\t}\r\n\t\r\n\t\r\n\texport let url = \"/favdemos\";\r\n\r\n\tonMount(async () => {\r\n\t\tdocument.addEventListener(\"pointermove\", function(event) {\r\n\t\t\thover_image_element.style.left = event.x + \"px\"\r\n\t\t\thover_image_element.style.top = event.y + \"px\"\r\n      // followMouse(image, event)\r\n    });\r\n\r\n\t})\r\n\r\n\tonDestroy(() => {})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.year{\r\n\t\tfont-weight: bolder;\r\n\t\tfont-size: 2rem;\r\n\t\tmargin-bottom: 0.1rem;\r\n\t\tmargin-top: 0.9rem;\r\n\t}\r\n\t.demo{\r\n\t\twidth: fit-content;\r\n\t\tdisplay: flex;\r\n\t\t// align-items: center;\r\n\t\t// align-items: end;\r\n\t\t// text-decoration-style: dashed !important;\r\n\t\t// text-decoration-thickness: 0.2rem !important;\r\n\t\t// text-decoration: underline;\r\n\t\t// outline: bo;\r\n\r\n\t\t*{\r\n\t\t\tfont-size: 1.0rem;\r\n\t\t}\r\n\t\t.name{\r\n\t\t\tfont-weight: bold;\r\n\t\t}\r\n\t}\r\n\tmain {\r\n\t\twidth: 100%;\r\n\t\tmax-width: 40rem;\r\n\t\tmin-height: 100%;\r\n\t\theight: fit-content;\r\n\t\t// overflow: scroll;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmax-width: var(--main-max-width);\r\n\t\tcanvas {\r\n\t\t\tdisplay: none;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\t// display: block;\r\n\t\t\tmargin: auto;\r\n\t\t\tpadding: 0;\r\n\t\t}\r\n\t}\r\n</style>\r\n\r\n","\r\n<main>\r\n\t<Bar>\r\n\t\t{#each Object.keys(audio_folders).reverse() as audio_folder, i}\r\n\t\t\t<a href={`#${audio_folder}`} on:click={()=>{    \r\n\t\t\t\tscroll_to_view(`#${audio_folder}`)}}\r\n\t\t\t\tclass=\"menu-item\"\r\n\t\t\t>\r\n\t\t\t\t{audio_folder}\r\n\t\t\t</a>\r\n\t\t{/each}\r\n\t</Bar>\r\n\t{#each Object.keys(audio_folders).reverse() as audio_folder_key, k}\r\n\t\t<!-- svelte-ignore a11y-no-static-element-interactions -->\r\n\t\t<div class=\"title-container\" on:click={()=>{audio_folders_toggled[k] = !audio_folders_toggled[k]}}>\r\n\t\t\t<div class=\"title\" id={audio_folder_key}>\r\n\t\t\t\t{audio_folder_key}\r\n\t\t\t</div>\r\n\t\t\t<svg \r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\" height=\"48\" viewBox=\"0 -960 960 960\" width=\"48\"\r\n\t\t\t\tstyle={audio_folders_toggled[k] ? \"\" : \"transform: scaleY(-1);\"}\r\n\t\t\t>\r\n\t\t\t\t<path d=\"M480-360 280-559h400L480-360Z\" />\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t\t<div class=\"tracks\" style={audio_folders_toggled[k] ? `` : `display: none;`}>\r\n\t\t\t<!-- {#each Object.keys(audio_folders[audio_folder_key]) as audio_key, i} -->\r\n\t\t\t{#each audio_folders[audio_folder_key][\"sorted\"] as audio_file, i}\r\n\t\t\t\t\t<div class=\"track\">\r\n\t\t\t\t\t\t<wave-audio-path-player \r\n\t\t\t\t\t\t\tsrc={`${window.LFS_PREPEND}${audio_file.src}`}\r\n\t\t\t\t\t\t\tclass=\"player\"\r\n\t\t\t\t\t\t\twave-width=\"200\" \r\n\t\t\t\t\t\t\twave-height=\"80\" \r\n\t\t\t\t\t\t\tcolor=\"black\" \r\n\t\t\t\t\t\t\twave-slider=\"black\"\r\n\t\t\t\t\t\t\t></wave-audio-path-player>\r\n\t\t\t\t\t\t\t<!-- wave-options={`{\"animation\":true,\"samples\":50}`} -->\r\n\t\t\t\t\t\t<div class=\"track-bottom-bar\">\r\n\t\t\t\t\t\t\t<div class=\"track-name\">\r\n\t\t\t\t\t\t\t{audio_file.name}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"track-date\">\r\n\t\t\t\t\t\t\t{audio_file.creation_date}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t{/each}\r\n\t\t</div>\r\n\t{/each}\r\n\t<Footer />\r\n</main>\r\n\r\n\r\n\r\n<script lang=\"ts\">\r\n\timport {onMount} from 'svelte'\r\n\timport {onDestroy} from 'svelte'\r\n\r\n\timport Bar from \"./utils/NavBar.svelte\"\r\n\r\n\t\r\n\timport Footer from './utils/Footer.svelte'\r\n\t// import 'wave-audio-path-player'\r\n\r\n\tfunction scroll_to_view(selector: string) {\r\n\t\taudio_folders_toggled[Object.keys(audio_folders).indexOf(selector.replace(\"#\",\"\"))] = true\r\n\t\t// image_cat_toggled[image_cat_names.indexOf(selector.replace(\"#\",\"\"))] = false\r\n\t\t// @ts-ignore\r\n\t\tdocument.querySelector(selector).scrollIntoView({\r\n\t\t\tbehavior: 'smooth'\r\n\t\t})\r\n\t}\r\n\r\n\t\r\n\tclass Demo{\r\n\t\tname: string\r\n\t\tgroup: string\r\n\t\tconstructor(name: string, group: string){\r\n\t\t\tthis.name = name\r\n\t\t\tthis.group = group \r\n\r\n\t\t}\r\n\t}\r\n\tconst audio_folders: {[key: string]: string} = RESOURCES[\"public\"][\"audio\"]\r\n\tconst audio_folders_toggled: Array<boolean> = []\r\n\t\r\n\t\r\n\texport let url = \"/favdemos\";\r\n\r\n\tonMount(async () => {\r\n\t\tlet i = 0\r\n\t\tfor(let folder of Object.keys(audio_folders)){\r\n\t\t\taudio_folders_toggled.push(false)\r\n\t\t\ti++\r\n\t\t}\r\n\t})\r\n\r\n\tonDestroy(() => {})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t\r\n\r\n\t.title-container{\r\n\t\tmargin-left: 2rem;\r\n\t\twidth: fit-content;\r\n\t\tcursor: pointer;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tsvg{\r\n\t\t\ttransition: transform 0.1s ease;\r\n\t\t}\r\n\t\t&:active{\r\n\t\t\tfilter: invert(1);\r\n\t\t\tbackground: var(--accent-light);\r\n\t\t}\r\n\t\t.title{\r\n\t\t\tfont-weight: bolder;\r\n\t\t\tfont-size: 2rem;\r\n\t\t\tmargin-bottom: 2rem;\r\n\t\t\tmargin-top: 2rem;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.tracks{\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: space-around;\r\n\t\t.track{\r\n\t\t\tdisplay: flex;\r\n\t\t\twidth: fit-content;\r\n\t\t\tflex-direction: column;\r\n\t\t\t// justify-content: end;\r\n\t\t\talign-items: end;\r\n\t\t\tmargin-bottom: 0.5rem;\r\n\t\t\t.title{\r\n\t\t\t\t// margin-left: auto;\r\n\t\t\t\t// margin-rigt: auto;\r\n\t\t\t}\r\n\t\t\t.track-bottom-bar{\r\n\t\t\t\theight: 2rem;\r\n\t\t\t\t.track-name{\r\n\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\tmargin-left: 1rem;\r\n\t\t\t\t\twidth: 10rem;\r\n\t\t\t\t}\r\n\t\t\t\t.track-date{\r\n\t\t\t\t\tmargin-right: 0.4rem;\r\n\t\t\t\t}\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tmain :global(*) {\r\n\t\tcolor: var(--accent-dark);\r\n\t\tfont-family: 'Petrona';\r\n\t\tfont-weight: 400;\r\n\t\t&::selection {\r\n\t\t\tbackground: var(--accent-dark);\r\n\t\t\tcolor: var(--accent-light);\r\n\t\t}\r\n\t}\r\n\tmain {\r\n\t\twidth: 100%;\r\n\t\tmax-width: 40rem;\r\n\t\tmin-height: 100%;\r\n\t\theight: fit-content;\r\n\t\t// overflow: scroll;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmax-width: var(--main-max-width);\r\n\t}\r\n</style>\r\n\r\n","\r\n<main>\r\n\t<Bar />\r\n\t<div>\r\n\t</div>\r\n\t{#each Object.keys(list).reverse() as year, i}\r\n\t\t<div class=\"year\">\r\n\t\t\t{year}\r\n\t\t</div>\r\n\t\t{#each list[year] as demo, i}\r\n \r\n\t\t\t<a href={demo.link} target=”_blank” class=\"demo\">\r\n\t\t\t\t<div class=\"name\">\r\n\t\t\t\t\t{demo.name} - {demo.group}\r\n\t\t\t\t</div>\r\n\t\t\t\t<img class=\"lozad\"  data-src={demo.img_url} height=\"345.5rem\"/>\r\n\t\t\t</a>\r\n\t\t\t<!-- <a href={demo.link} target=”_blank” on:pointerenter={()=>showImage(demo)} on:pointerleave={()=>hideImage()} class=\"demo\"> -->\r\n\t\t\t\t<!-- <div class=\"name\">\r\n\t\t\t\t\t{demo.name} &nbsp; — &nbsp; {demo.group}\r\n\t\t\t\t</div> -->\r\n\t\t\t\t<!-- <div class=\"name\">\r\n\t\t\t\t\t{demo.name}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"font-weight: 500;\">\r\n\t\t\t\t\t&nbsp; — &nbsp;\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"group\">\r\n\t\t\t\t\t{demo.group}\r\n\t\t\t\t</div> -->\r\n\t\t\t<!-- </a> -->\r\n\t\t{/each}\r\n\t{/each}\r\n\t<img \r\n\t\tclass=\"hover-image\" \r\n\t\tbind:this={hover_image_element} \r\n\t\tstyle={`\r\n\t\t\tbackground:var(--accent-dark);\r\n\t\t\tdisplay:none;\r\n\t\t\tposition: fixed;\r\n\t\t\tpointer-events: none;\r\n\t\t\tposition:fixed;\r\n\t\t\tmin-width: 1rem;\r\n\t\t\tmin-height: 1rem;\r\n\t\t`}\r\n\t/>\r\n\t<Footer />\r\n</main>\r\n\r\n\r\n\r\n<script lang=\"ts\">\r\n\timport {onMount} from 'svelte'\r\n\timport {onDestroy} from 'svelte'\r\n\r\n\timport Bar from \"./utils/NavBar.svelte\"\r\n\r\n\timport Footer from './utils/Footer.svelte'\r\n\t\r\n\tlet hover_image_element: HTMLImageElement\r\n\t\r\n\tfunction showImage(demo: ExeGfx){\r\n\t\thover_image_element.style.display = \"block\"\r\n\t\thover_image_element.src = demo.img_url\r\n\t}\r\n\tfunction hideImage(){\r\n\t\thover_image_element.style.display = \"none\"\r\n\t}\r\n\t\r\n\tclass ExeGfx{\r\n\t\tname: string\r\n\t\tgroup: string\r\n\t\tlink: string\r\n\t\timg_url: string\r\n\t\tconstructor(name: string, group: string, link: string, img_url: string = \"\"){\r\n\t\t\tthis.name = name\r\n\t\t\tthis.group = group \r\n\t\t\tthis.link = link\r\n\t\t\tthis.img_url = img_url\r\n\t\t}\r\n\t}\r\n\tconst list = {\r\n\t\t2024: [\r\n\t\t\tnew ExeGfx(\"Tale Of Aeod\"  ,\"mocoo\", \r\n\t\t\t\"https://demozoo.org/graphics/355407/\", \"https://media.demozoo.org/screens/o/5a/16/e1c0.348961.png\"),\r\n\t\t\tnew ExeGfx(\"Fragments Of Self\"  ,\"yx\", \r\n\t\t\t\"https://demozoo.org/graphics/342289/\", \"https://media.demozoo.org/screens/o/82/79/6b53.342069.png\"),\r\n\t\t],\r\n\t\t2023: [\r\n\t\t\tnew ExeGfx(\"La Chasse Aux œuf (The Egg Hunt)\"  ,\"cce\", \r\n\t\t\t\"https://demozoo.org/graphics/322463/\", \"https://media.demozoo.org/screens/o/ef/e5/f4ce.324546.png\"),\r\n\t\t\tnew ExeGfx(\"RiverScape\"  ,\"Anat\", \r\n\t\t\t\"https://demozoo.org/graphics/322476/\", \"https://media.demozoo.org/screens/o/07/9e/d17a.324400.jpg\"),\r\n\t\t\tnew ExeGfx(\"Bon appetite\"  ,\"kinankomoti\", \r\n\t\t\t\"https://demozoo.org/graphics/331893/\", \"https://media.demozoo.org/screens/o/62/89/4b15.334012.png\"),\r\n\t\t\tnew ExeGfx(\"Porcelain Army: All Fired Up\"  ,\"Sumaleth\", \r\n\t\t\t\"https://demozoo.org/graphics/333957/\", \"https://media.demozoo.org/screens/o/99/bd/25c7.335226.jpg\"),\r\n\t\t\tnew ExeGfx(\"Mentally,\"  ,\"noby\", \r\n\t\t\t\"https://demozoo.org/graphics/322472/\", \"https://media.demozoo.org/screens/o/7e/8a/d5e7.324548.png\"),\r\n\t\t\t// new ExeGfx(\"seven days\"  ,\"61Q0\", \"https://www.pouet.net/prod.php?which=91421\", \"https://content.pouet.net/files/screenshots/00091/00091421.jpg\"),\r\n\t\t\t// new ExeGfx(\"katsumaki\"  ,\"still\", \"https://www.pouet.net/prod.php?which=95242\", \"https://content.pouet.net/files/screenshots/00095/00095242.jpg\"),\r\n\t\t],\r\n \t\t2022: [\r\n\t\t\tnew ExeGfx(\"Grazing\"  ,\"blackle\", \r\n\t\t\t\"https://demozoo.org/graphics/307501/\", \"https://media.demozoo.org/screens/o/7f/9d/5252.307597.jpg\"),\r\n\t\t\tnew ExeGfx(\"Orders of Magnitude\"  ,\"P_Malin\", \r\n\t\t\t\"https://demozoo.org/graphics/308530/\", \"https://media.demozoo.org/screens/o/6c/93/dc05.308560.png\"),\r\n\t\t\tnew ExeGfx(\"Dissecting the Scene Syndrome\"  ,\"Seven\", \r\n\t\t\t\"https://demozoo.org/graphics/308531/\", \"https://media.demozoo.org/screens/o/5e/d0/78ce.314237.png\"),\r\n\t\t\tnew ExeGfx(\"Dreamtime Return\"  ,\"noby\", \r\n\t\t\t\"https://demozoo.org/graphics/307507/\", \"https://media.demozoo.org/screens/o/8c/7f/11a8.307594.png\"),\r\n\t\t],\r\n\t\t2021: [\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Autumn Years\"  ,\"noby\", \r\n\t\t\t\t\"https://demozoo.org/graphics/292423/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/1b/b4/53dc.288794.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"You Are Here\"  ,\"tdhooper\", \r\n\t\t\t\t\"https://demozoo.org/graphics/292426/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/27/76/91e0.288844.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Is This Your Card?\"  ,\"yx\", \r\n\t\t\t\t\"https://demozoo.org/graphics/307508/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/bb/30/a21c.307593.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Submit\"  ,\"yx\", \r\n\t\t\t\t\"https://www.pouet.net/prod.php?which=88577\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/fb/ae/79c2.288758.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Two Triangles\"  ,\"yx\", \r\n\t\t\t\t\"https://demozoo.org/graphics/301325/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/cb/11/e801.299847.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"The Dude abides\"  ,\"abductee\", \r\n\t\t\t\t\"https://www.pouet.net/prod.php?which=88614\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/b8/84/3ca0.288832.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Bull\"  ,\"EvilRyu\", \r\n\t\t\t\t\"https://demozoo.org/graphics/292424/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/cd/51/b9f2.288833.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Making Good Progress\"  ,\"fizzer\", \r\n\t\t\t\t\"https://www.pouet.net/prod.php?which=88581\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/44/ab/f88a.288767.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Watchtower\"  ,\"slerpy\", \r\n\t\t\t\t\"https://demozoo.org/graphics/298069/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/03/6d/3ee4.296665.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Caffeinate\"  ,\"P_Malin\", \r\n\t\t\t\t\"https://demozoo.org/graphics/302080/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/b0/79/6691.300716.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Creative Block\"  ,\"yx\", \r\n\t\t\t\t\"https://demozoo.org/graphics/294426/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/ec/28/14f8.291888.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Kuwaharas Painting (桑原の絵画)\"  ,\"slerpy\", \r\n\t\t\t\t\"https://demozoo.org/graphics/303082/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/a3/e5/936b.301811.png\"),\r\n\t\t],\r\n\t\t2020: [\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"The Engineer\"  ,\"bitnenfer\", \r\n\t\t\t\t\"https://demozoo.org/graphics/280519/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/14/b9/2a7e.273954.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"The Real Party is in Your Pocket\"  ,\"fizzer\", \r\n\t\t\t\t\"https://demozoo.org/graphics/277164/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/4b/2e/dba0.264365.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Enamel Pin\"  ,\"blackle\", \r\n\t\t\t\t\"https://demozoo.org/graphics/280518/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/bb/6f/2244.273889.jpg\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Phyllotaxes\"  ,\"tdhooper\", \r\n\t\t\t\t\"https://demozoo.org/graphics/279419/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/15/3b/22b4.272160.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Hoody\"  ,\"iq\", \r\n\t\t\t\t\"https://demozoo.org/graphics/277165/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/ac/8d/2f24.264364.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Waterfall\"  ,\"nusan\", \r\n\t\t\t\t\"https://demozoo.org/graphics/277163/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/2f/5c/4e0c.264363.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Long Way From Home\"  ,\"yx\", \r\n\t\t\t\t\"https://demozoo.org/graphics/273891/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/15/5b/74b9.259014.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Reconstruction\"  ,\"alia\", \r\n\t\t\t\t\"https://demozoo.org/graphics/281254/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/8a/86/b98d.275066.jpg\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Ice core\"  ,\"alia\", \r\n\t\t\t\t\"https://demozoo.org/graphics/278502/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/76/e7/a695.267018.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Kuu\"  ,\"yx\", \r\n\t\t\t\t\"https://demozoo.org/graphics/275127/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/6a/33/a588.260749.png\"),\r\n\t\t],\r\n\t\t2019: [\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Riftonia by Rail\"  ,\"Rift\", \r\n\t\t\t\t\"https://demozoo.org/graphics/173387/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/d7/d2/bbc6.184662.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"0DAY Cove\"  ,\"Anat\", \r\n\t\t\t\t\"https://www.pouet.net/prod.php?which=81045\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/c2/1b/0f04.184983.jpg\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Penrose Pathtraced\"  ,\"yx\", \r\n\t\t\t\t\"https://demozoo.org/graphics/202726/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/5e/b8/d55a.277194.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Brutal Knowledge\"  ,\"yx\", \r\n\t\t\t\t\"https://www.pouet.net/prod.php?which=83690\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/1d/8c/ed2b.239095.jpg\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"ESCHERWAVE\"  ,\"tdhooper\", \r\n\t\t\t\t\"https://www.pouet.net/prod.php?which=81080\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/df/00/6c97.184834.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"International Shipping\"  ,\"blackle\", \r\n\t\t\t\t\"https://www.pouet.net/prod.php?which=81049\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/92/67/4fcf.184836.jpg\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"A Fish Best Served Cold\"  ,\"fizzer\", \r\n\t\t\t\t\"https://demozoo.org/graphics/202730/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/95/85/c60c.185280.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Veistos/Kulhot\"  ,\"noby\", \r\n\t\t\t\t\"https://www.pouet.net/prod.php?which=81318\", \r\n\t\t\t\t\"https://content.pouet.net/files/screenshots/00081/00081318.jpg\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Devour\"  ,\"noby\", \r\n\t\t\t\t\"https://demozoo.org/graphics/202725/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/21/b8/2f2f.185298.png\"),\r\n\t\t],\r\n\t\t2017: [\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Sunset\"  ,\"Blackwine / Jok / Kiero\", \r\n\t\t\t\t\"https://demozoo.org/graphics/178204/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/c0/9c/3999.147241.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Takochu Kiss\"  ,\"fizzer\", \r\n\t\t\t\t\"https://demozoo.org/graphics/168486/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/8d/81/8d43.126052.png\"),\r\n\t\t],\r\n\t\t2013: [\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Fruxis\"  ,\"iq\", \r\n\t\t\t\t\"https://demozoo.org/graphics/43990/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/aa/4e/3978.pl36134.jpg\"),\r\n\t\t],\r\n\t\t2012: [\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"8 Ball\"  ,\"westlicht\", \r\n\t\t\t\t\"https://www.pouet.net/prod.php?which=61791\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/66/3f/0b7a.35637.png\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Milkdrop\"  ,\"Noobody\", \r\n\t\t\t\t\"https://demozoo.org/graphics/87898/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/1a/2c/2b08.37056.png\"),\r\n\t\t],\r\n\t\t2009: [\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Patter\"  ,\"doomdoom\", \r\n\t\t\t\t\"https://www.pouet.net/prod.php?which=53509\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/08/a8/2c3d.118510.jpg\"),\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\" i felt the earth breathing\"  ,\"unc\", \r\n\t\t\t\t\"https://demozoo.org/graphics/55042/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/c4/03/bbc9.125264.jpg\"),\r\n\t\t],\r\n\t\t2008: [\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"slicesix\"  ,\"iq\", \r\n\t\t\t\t\"https://www.pouet.net/prod.php?which=51074\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/de/5a/8d69.117358.jpg\"),\r\n\t\t],\r\n\t\t2007: [\r\n\t\t\tnew ExeGfx(\r\n\t\t\t\t\"Black Lines\"  ,\"Minas\", \r\n\t\t\t\t\"https://demozoo.org/graphics/58998/\", \r\n\t\t\t\t\"https://media.demozoo.org/screens/o/de/e4/ddc0.pl100230.png\"),\r\n\t\t],\r\n\r\n/*\r\n\t\t2015: [\r\n\t\t\tnew ExeGfx(\"hold-and-modify\", \"flt & cncd\", \"https://www.pouet.net/prod.php?which=66097\", \"https://content.pouet.net/files/screenshots/00066/00066097.jpg\"),\r\n\t\t\tnew ExeGfx(\"emix\"  ,\"epoch ft. trio tampere\", \"https://www.pouet.net/prod.php?which=66066\", \"https://content.pouet.net/files/screenshots/00066/00066066.jpg\"),\r\n\t\t],\r\n\t\t2014: [\r\n\t\t\tnew ExeGfx(\"black and white lies\"  ,\"one studio off\", \"https://www.pouet.net/prod.php?which=63863\", \"https://content.pouet.net/files/screenshots/00063/00063863.jpg\"),\r\n\t\t\tnew ExeGfx(\"intrinsic gravity\"  ,\"still\", \"https://www.pouet.net/prod.php?which=64756\", \"https://content.pouet.net/files/screenshots/00064/00064756.jpg\"),\r\n\t\t],\r\n\t\t2013: [\r\n\t\t\t\r\n\t\t],\r\n\t\t2012: [\r\n\t\t\t\r\n\t\t],\r\n\t\t2011: [\r\n\t\t\t\r\n\t\t],\r\n\t\t2010: [\r\n\t\t\tnew ExeGfx(\"anoxia redux\"  ,\"asd & minimalartifact\", \"https://www.pouet.net/prod.php?which=55990\", \"https://content.pouet.net/files/screenshots/00055/00055990.png\"),\r\n\t\t],\r\n\t\t2009: [\r\n\t\t\t\r\n\t\t],\r\n\t\t2008: [\r\n\t\t\tnew ExeGfx(\"passing\"  ,\"still\", \"https://www.pouet.net/prod.php?which=51763\", \"https://content.pouet.net/files/screenshots/00051/00051763.jpg\"),\r\n\t\t\tnew ExeGfx(\" hypnoise, part1: chipyxa#6 invitation\"  ,\"quite\", \"https://www.pouet.net/prod.php?which=52020\", \"https://content.pouet.net/files/screenshots/00052/00052020.jpg\"),\r\n\t\t],\r\n\t\t2007: [\r\n\t\t\t\r\n\t\t],\r\n\t\t2006: [\r\n\t\t\tnew ExeGfx(\"fr-055: 828\"  ,\"farbrausch\", \"https://www.pouet.net/prod.php?which=29739\", \"https://content.pouet.net/files/screenshots/00029/00029739.jpg\"),\r\n\t\t],\r\n\t\t2005: [\r\n\t\t\tnew ExeGfx(\"ocean machine\"  ,\"the black lotus\", \"https://www.pouet.net/prod.php?which=16337\", \"https://content.pouet.net/files/screenshots/00016/00016337.jpg\"),\r\n\t\t],\r\n\t\t2004: [\r\n\t\t\t\r\n\t\t],\r\n\t\t2003: [\r\n\t\t\t\r\n\t\t],\r\n\t\t2002: [\r\n\t\t\tnew ExeGfx(\"channel 5 sequence\"  ,\"haujobb\", \"https://www.pouet.net/prod.php?which=5591\", \"https://content.pouet.net/files/screenshots/00005/00005591.jpg\"),\r\n\t\t],\r\n\t\t2001: [\r\n\t\t\tnew ExeGfx(\"energia\"  ,\"sunflower\", \"https://www.pouet.net/prod.php?which=3290\", \"https://content.pouet.net/files/screenshots/00003/00003290.gif\"),\r\n\t\t\tnew ExeGfx(\"gerbera\"  ,\"moppi productions\", \"https://www.pouet.net/prod.php?which=3286\", \"https://content.pouet.net/files/screenshots/00003/00003286.jpg\"),\r\n\t\t],\r\n\t\t2000: [\r\n\t\t\tnew ExeGfx(\"incyber\"  ,\"satori & aural planet\", \"https://www.pouet.net/prod.php?which=1164\", \"https://content.pouet.net/files/screenshots/00001/00001164.jpg\"),\r\n\t\t],\r\n\t\t1999: [\r\n\t\t\tnew ExeGfx(\"codename chinadoll\"  ,\"katastro.fi\", \"https://www.pouet.net/prod.php?which=119\", \"https://content.pouet.net/files/screenshots/00000/00000119.jpg\"),\r\n\t\t\tnew ExeGfx(\"zilog\"  ,\"sunflower\", \"https://www.pouet.net/prod.php?which=294\", \"https://content.pouet.net/files/screenshots/00000/00000294.jpg\"),\r\n\t\t\tnew ExeGfx(\"fall equals winter\"  ,\"replay\", \"https://www.pouet.net/prod.php?which=501\", \"https://content.pouet.net/files/screenshots/00000/00000501.gif\"),\r\n\t\t],\r\n\t\t1998: [\r\n\t\t\tnew ExeGfx(\"te2-rb\" ,\"tpolm\", \"https://www.pouet.net/prod.php?which=117\", \"https://content.pouet.net/files/screenshots/00000/00000117.jpg\"),\r\n\t\t],\r\n\t\t1997: [\r\n\t\t\t\r\n\t\t],\r\n\t\t1996: [\r\n\t\t\t\r\n\t\t] */\r\n\r\n\t}\r\n\t\r\n\t\r\n\texport let url = \"/favdemos\";\r\n\r\n\tonMount(async () => {\r\n\t\tdocument.addEventListener(\"pointermove\", function(event) {\r\n\t\t\thover_image_element.style.left = event.x + \"px\"\r\n\t\t\thover_image_element.style.top = event.y + \"px\"\r\n      // followMouse(image, event)\r\n    });\r\n\r\n\t})\r\n\r\n\tonDestroy(() => {})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.year{\r\n\t\tfont-weight: bolder;\r\n\t\tfont-size: 2rem;\r\n\t\tmargin-bottom: 0.1rem;\r\n\t\tmargin-top: 0.9rem;\r\n\t}\r\n\t.demo{\r\n\t\twidth: fit-content;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\t// align-items: center;\r\n\t\t// align-items: end;\r\n\t\t// text-decoration-style: dashed !important;\r\n\t\t// text-decoration-thickness: 0.2rem !important;\r\n\t\t// text-decoration: underline;\r\n\t\t// outline: bo;\r\n\t\ttext-decoration: none !important;\r\n\r\n\t\t*{\r\n\t\t\tfont-size: 1.0rem;\r\n\t\t}\r\n\t\t.name{\r\n\t\t\t// font-weight: bold;\r\n\t\t\tfont-weight: var(--text-font-weight);\r\n\t\t\tfont-size: 1.5rem !important;\r\n\t\t\tmargin-bottom: 0.5rem;\r\n\t\t\tmargin-top: 0.5rem;\r\n\t\t\t// a {\r\n\t\t\t// \tfont-weight: var(--link-font-weight);\r\n\t\t\t// }\r\n\t\t\t// *{\r\n\t\t\t// \tfont-weight: var(--text-font-weight);\r\n\t\t\t// \tfont-size: 1.0rem;\r\n\t\t\t// }\r\n\t\t}\r\n\t}\r\n\tmain {\r\n\t\twidth: 100%;\r\n\t\tmax-width: 40rem;\r\n\t\tmin-height: 100%;\r\n\t\theight: fit-content;\r\n\t\t// overflow: scroll;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmax-width: var(--main-max-width);\r\n\t\tcanvas {\r\n\t\t\tdisplay: none;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\t// display: block;\r\n\t\t\tmargin: auto;\r\n\t\t\tpadding: 0;\r\n\t\t}\r\n\t}\r\n</style>\r\n\r\n","<img {...$$restProps} />\n","/******************************************************************************\n * Created 2008-08-19.\n *\n * Dijkstra path-finding functions. Adapted from the Dijkstar Python project.\n *\n * Copyright (C) 2008\n *   Wyatt Baldwin <self@wyattbaldwin.com>\n *   All rights reserved\n *\n * Licensed under the MIT license.\n *\n *   http://www.opensource.org/licenses/mit-license.php\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *****************************************************************************/\nexport const dijkstra = {\n  single_source_shortest_paths: function (graph, s, d) {\n    // Predecessor map for each node that has been encountered.\n    // node ID => predecessor node ID\n    var predecessors = {};\n\n    // Costs of shortest paths from s to all nodes encountered.\n    // node ID => cost\n    var costs = {};\n    costs[s] = 0;\n\n    // Costs of shortest paths from s to all nodes encountered; differs from\n    // `costs` in that it provides easy access to the node that currently has\n    // the known shortest path from s.\n    // XXX: Do we actually need both `costs` and `open`?\n    var open = new BinaryHeap(function (x) {\n      return x.cost;\n    });\n    open.push({ value: s, cost: 0 });\n\n    var closest,\n      u,\n      cost_of_s_to_u,\n      adjacent_nodes,\n      cost_of_e,\n      cost_of_s_to_u_plus_cost_of_e,\n      cost_of_s_to_v,\n      first_visit;\n    while (open.size()) {\n      // In the nodes remaining in graph that have a known cost from s,\n      // find the node, u, that currently has the shortest path from s.\n      closest = open.pop();\n      u = closest.value;\n      cost_of_s_to_u = closest.cost;\n\n      // Get nodes adjacent to u...\n      adjacent_nodes = graph(u) || {};\n\n      // ...and explore the edges that connect u to those nodes, updating\n      // the cost of the shortest paths to any or all of those nodes as\n      // necessary. v is the node across the current edge from u.\n      for (var v in adjacent_nodes) {\n        // Get the cost of the edge running from u to v.\n        cost_of_e = adjacent_nodes[v];\n\n        // Cost of s to u plus the cost of u to v across e--this is *a*\n        // cost from s to v that may or may not be less than the current\n        // known cost to v.\n        cost_of_s_to_u_plus_cost_of_e = cost_of_s_to_u + cost_of_e;\n\n        // If we haven't visited v yet OR if the current known cost from s to\n        // v is greater than the new cost we just found (cost of s to u plus\n        // cost of u to v across e), update v's cost in the cost list and\n        // update v's predecessor in the predecessor list (it's now u).\n        cost_of_s_to_v = costs[v];\n        first_visit = typeof costs[v] === 'undefined';\n        if (first_visit || cost_of_s_to_v > cost_of_s_to_u_plus_cost_of_e) {\n          costs[v] = cost_of_s_to_u_plus_cost_of_e;\n          open.push({ value: v, cost: cost_of_s_to_u_plus_cost_of_e });\n          predecessors[v] = u;\n        }\n      }\n    }\n\n    if (typeof costs[d] === 'undefined') {\n      var msg = ['Could not find a path from ', s, ' to ', d, '.'].join('');\n      throw new Error(msg);\n    }\n\n    return predecessors;\n  },\n\n  extract_shortest_path_from_predecessor_list: function (predecessors, d) {\n    var nodes = [];\n    var u = d;\n    var predecessor;\n    while (u) {\n      nodes.push(u);\n      predecessor = predecessors[u];\n      u = predecessors[u];\n    }\n    nodes.reverse();\n    return nodes;\n  },\n\n  find_path: function (graph, s, d) {\n    var predecessors = dijkstra.single_source_shortest_paths(graph, s, d);\n    return dijkstra.extract_shortest_path_from_predecessor_list(\n      predecessors,\n      d\n    );\n  }\n\n  // test: function() {\n  //   // A B C\n  //   // D E F\n  //   // G H I\n  //   graph = function (key) {\n  //     switch (key) {\n  //       case 'a': return {b: 10, d: 1};\n  //       case 'b': return {a: 1, c: 1, e: 1};\n  //       case 'c': return {b: 1, f: 1};\n  //       case 'd': return {a: 1, e: 1, g: 1};\n  //       case 'e': return {b: 1, d: 1, f: 1, h: 1};\n  //       case 'f': return {c: 1, e: 1, i: 1};\n  //       case 'g': return {d: 1, h: 1};\n  //       case 'h': return {e: 1, g: 1, i: 1};\n  //       case 'i': return {f: 1, h: 1};\n  //     }\n  //   };\n  //   var path = dijkstra.find_path(graph, 'a', 'i');\n  //   if (path.join() !== ['a', 'd', 'e', 'f', 'i'].join()) {\n  //     throw new Error('Path finding error!');\n  //   }\n  // }\n};\n\nfunction BinaryHeap(scoreFunction) {\n  this.content = [];\n  this.scoreFunction = scoreFunction;\n}\n\nBinaryHeap.prototype = {\n  push: function (element) {\n    // Add the new element to the end of the array.\n    this.content.push(element);\n    // Allow it to bubble up.\n    this.bubbleUp(this.content.length - 1);\n  },\n\n  pop: function () {\n    // Store the first element so we can return it later.\n    var result = this.content[0];\n    // Get the element at the end of the array.\n    var end = this.content.pop();\n    // If there are any elements left, put the end element at the\n    // start, and let it sink down.\n    if (this.content.length > 0) {\n      this.content[0] = end;\n      this.sinkDown(0);\n    }\n    return result;\n  },\n\n  remove: function (node) {\n    var len = this.content.length;\n    // To remove a value, we must search through the array to find\n    // it.\n    for (var i = 0; i < len; i++) {\n      if (this.content[i] === node) {\n        // When it is found, the process seen in 'pop' is repeated\n        // to fill up the hole.\n        var end = this.content.pop();\n        if (i !== len - 1) {\n          this.content[i] = end;\n          if (this.scoreFunction(end) < this.scoreFunction(node))\n            this.bubbleUp(i);\n          else this.sinkDown(i);\n        }\n        return;\n      }\n    }\n    throw new Error('Node not found.');\n  },\n\n  size: function () {\n    return this.content.length;\n  },\n\n  bubbleUp: function (n) {\n    // Fetch the element that has to be moved.\n    var element = this.content[n];\n    // When at 0, an element can not go up any further.\n    while (n > 0) {\n      // Compute the parent element's index, and fetch it.\n      var parentN = Math.floor((n + 1) / 2) - 1,\n        parent = this.content[parentN];\n      // Swap the elements if the parent is greater.\n      if (this.scoreFunction(element) < this.scoreFunction(parent)) {\n        this.content[parentN] = element;\n        this.content[n] = parent;\n        // Update 'n' to continue at the new position.\n        n = parentN;\n      }\n      // Found a parent that is less, no need to move it further.\n      else {\n        break;\n      }\n    }\n  },\n\n  sinkDown: function (n) {\n    // Look up the target element and its score.\n    var length = this.content.length,\n      element = this.content[n],\n      elemScore = this.scoreFunction(element);\n\n    while (true) {\n      // Compute the indices of the child elements.\n      var child2N = (n + 1) * 2,\n        child1N = child2N - 1;\n      // This is used to store the new position of the element,\n      // if any.\n      var swap = null;\n      // If the first child exists (is inside the array)...\n      if (child1N < length) {\n        // Look it up and compute its score.\n        var child1 = this.content[child1N],\n          child1Score = this.scoreFunction(child1);\n        // If the score is less than our element's, we need to swap.\n        if (child1Score < elemScore) swap = child1N;\n      }\n      // Do the same checks for the other child.\n      if (child2N < length) {\n        var child2 = this.content[child2N],\n          child2Score = this.scoreFunction(child2);\n        if (child2Score < (swap === null ? elemScore : child1Score))\n          swap = child2N;\n      }\n\n      // If the element needs to be moved, swap it, and continue.\n      if (swap != null) {\n        this.content[n] = this.content[swap];\n        this.content[swap] = element;\n        n = swap;\n      }\n      // Otherwise, we are done.\n      else {\n        break;\n      }\n    }\n  }\n};\n","import { dijkstra } from './dijkstra';\n\nexport function round(n) {\n  return Math.round(n * 100 + Number.EPSILON) / 100;\n}\n\nexport function ratio(width, height) {\n  return round(width / height);\n}\n\nexport function scaleHeight(width, ratio) {\n  return round(width / ratio);\n}\n\nexport function scaleWidth(height, ratio) {\n  return round(height * ratio);\n}\n\nfunction getRowHeight(row, containerWidth, gutter) {\n  const rowWidth = containerWidth - (row.length - 1) * gutter;\n  const rowAspectRatio = row.reduce((acc, { ratio }) => acc + ratio, 0);\n  return scaleHeight(rowWidth, rowAspectRatio);\n}\n\nfunction cost(images, start, end, containerWidth, targetHeight, gutter) {\n  const row = images.slice(start, end);\n  const rowHeight = getRowHeight(row, containerWidth, gutter);\n  return Math.pow(Math.abs(rowHeight - targetHeight), 2);\n}\n\nfunction calcSeekLimit(containerWidth, targetRowHeight) {\n  if (containerWidth < 420) {\n    // limit to two nodes if the container is narrow\n    return 2;\n  }\n\n  // find how many 3/4 portrait pictures will fit in an ideal row\n  const count = ratio(containerWidth, targetRowHeight) / 0.75;\n  return Math.round(count * 1.5);\n}\n\nexport default function ({\n  images,\n  containerWidth,\n  targetHeight,\n  gutter = 2,\n  seekLimit = calcSeekLimit,\n  byRow = false\n} = {}) {\n  // clone the images, and set ratio and initial scaled width / height\n  const _images = images.map((image, index) => {\n    return {\n      ...image,\n      index,\n      ratio: ratio(image.width, image.height)\n    };\n  });\n\n  const nodeSeekLimit = seekLimit(containerWidth, targetHeight);\n\n  const graph = (start) => {\n    const results = {};\n    start = +start;\n    results[start] = 0;\n    for (let i = start + 1; i < _images.length + 1; ++i) {\n      if (i - start > nodeSeekLimit) {\n        break;\n      }\n      results['' + i] = cost(\n        _images,\n        start,\n        i,\n        containerWidth,\n        targetHeight,\n        gutter\n      );\n    }\n    return results;\n  };\n\n  const path = dijkstra.find_path(graph, '0', _images.length);\n\n  const rows = [];\n  const scaledImages = [];\n  for (let i = 0; i < path.length; i++) {\n    if (path[i + 1]) {\n      const row = _images.slice(+path[i], +path[i + 1]);\n      const isLastRow = i === path.length - 2;\n\n      // scale row\n      const rowHeight = getRowHeight(row, containerWidth, gutter);\n      row.forEach((image, index) => {\n        image.scaledWidth = scaleWidth(rowHeight, image.ratio); //.toFixed(1);\n        image.scaledHeight = rowHeight;\n        image.scaledWidthPc = round((image.scaledWidth / containerWidth) * 100);\n        if(Number.isNaN(image.scaledWidth)){\n          debugger \n          console.log(image)\n        }\n\n\n        if (index === row.length - 1) {\n          image.isLastInRow = true;\n        }\n        image.isLastRow = isLastRow;\n\n        scaledImages.push(image);\n      });\n      rows.push(row);\n    }\n  }\n\n  if (byRow) {\n    return rows;\n  } else {\n    return scaledImages;\n  }\n}\n","<script lang=\"ts\">\n  import Img from './lib/Img.svelte';\n  import layout from './lib/layout';\n\n  // import play_pause_icon from \"../../public/play_pause.svg\"\n\timport { onMount } from 'svelte'\n\n  export let images: any[] = [];\n  export let rowHeight = 220;\n  export let gutter = 8;\n  export let imageComponent = Img;\n  export let hidden = false\n  export let open_image_callback : (src: string)=>void\n\n  let scaledImages: any[] = [];\n  let width = 0;\n\n  function imgStyle({ scaledWidth, scaledHeight, isLastInRow, isLastRow }) {\n    let marginRight = gutter + 'px',\n      flex = `0 0 ${scaledWidth}px`,\n      marginBottom = isLastRow ? '0' : marginRight;\n\n    if (isLastInRow) {\n      marginRight = '0';\n      flex = `1 1 ${scaledWidth - 4}px`;\n    }\n\n    return `height: ${scaledHeight}px; flex: ${flex}; margin-right: ${marginRight}; margin-bottom: ${marginBottom};`;\n  }\n\n  \n  $: scaledImages = layout({\n    images,\n    containerWidth: width || 1280,\n    targetHeight: rowHeight,\n    gutter\n  });\n  $: console.log(scaledImages)\n  // $: {\n    // for (let img of images){\n    //   console.log(img)\n    // }\n  // }\n  let video_elements: HTMLVideoElement[] = []\n  let video_element_parents: HTMLDivElement[] = []\n\n\tonMount(async () => {\n    // Callback function to handle video intersection\n    function handleVideoIntersection(entries, observer) {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          // Play the video when it enters the viewport\n          entry.target.play();\n        } else {\n          // Pause the video when it exits the viewport\n          entry.target.pause();\n        }\n      });\n    }\n\n    // Create an Intersection Observer instance\n    const observer = new IntersectionObserver(handleVideoIntersection, { threshold: 0.5 });\n\n    // Observe each video element\n    video_elements.forEach(video => {\n      observer.observe(video);\n    });\n\t})\n</script>\n\n<style>\n  .masonry {\n    max-width: 100%;\n  }\n\n  .container {\n    display: flex;\n    flex-wrap: wrap;\n  }\n\n  .image {\n    position: relative;\n    height: 100%;\n  }\n\n  .image > :global(*) {\n    width: 100%;\n    height: 100%;\n  }\n\n  .hidden {\n    visibility: hidden;\n  }\n  .stashed {\n    display: none;\n  }\n\n</style>\n\n<div class=\"masonry\" bind:clientWidth={width} class:stashed={hidden}>\n  <div class=\"container\" style=\"width: {width}px\" class:hidden={!width}>\n    {#each scaledImages as { index, ratio, scaledHeight, scaledWidth, isLastInRow, isLastRow, scaledWidthPc, ...image }, i}\n      <!-- svelte-ignore a11y-no-static-element-interactions -->\n      {#if image['is_video']}\n        <div\n          class=\"image\"\n          style={imgStyle({ scaledHeight, scaledWidth, isLastInRow, isLastRow })}\n          bind:this={video_element_parents[i]}\n        >\n          <!-- on:click={()=>{open_image_callback(window.LFS_PREPEND + image.src)}} -->\n            <slot {index} {image}>\n              <!-- <div class=\"play-button\" style={`\n                  width: 4rem;\n                  height: 4rem;\n                  position: absolute;\n                  top: 50%;\n                  right: 50%;\n                  transform: translate(50%, -50%);\n                  pointer-events: none;\n              `}>\n                {@html play_pause_icon}\n              </div> -->\n              <video \n                bind:this={video_elements[i]}\n                class=\"lozad\" \n                data-src={\n                  ((image['src_thumb'].length > 0) ? image['src_thumb'] : image.src)\n                } \n                on:click={()=>{open_image_callback(image.src)}}\n                loop\n                muted\n                width={image.width} height={image.height}\n              />\n            </slot>\n        </div>\n      {:else}\n        <div\n          class=\"image\"\n          style={imgStyle({ scaledHeight, scaledWidth, isLastInRow, isLastRow })}\n          on:click={()=>{open_image_callback(image.src)}}\n        >\n            <slot {index} {image}>\n              <img class=\"lozad\" data-src={\n                image['src_thumb'] ? image['src_thumb'] : image.src \n              } width={image.width} height={image.height}/>\n            </slot>\n        </div>\n      {/if}\n    {/each}\n  </div>\n</div>\n","export default class Matrix {\r\n  constructor(svg) {\r\n    this.svg = svg || document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\")\r\n\r\n    this.vtm = this.createSVGMatrix()\r\n\r\n    this.x = 0\r\n    this.y = 0\r\n\r\n    this.captureScale = 1\r\n  }\r\n\r\n  clamp(scale, in_x, in_y, ratio) {\r\n    let xx = (window.innerWidth - ratio.width) / 2\r\n    let yy = (window.innerHeight - ratio.height) / 2\r\n\r\n    let limit_max_right_formula = xx * scale + ratio.width * scale - window.innerWidth\r\n\r\n    let same_x = Math.min(this.vtm.e * 1.0, 0)\r\n    let same_y = Math.min(this.vtm.f * 1.0, 0)\r\n\r\n    let value1 = in_x > 0 ? same_x : -(xx * scale)\r\n    let value2 = in_x > 0 ? same_x : -limit_max_right_formula\r\n\r\n    let limit_x_axis = this.vtm.e\r\n    limit_x_axis = Math.max(value2, this.vtm.e)\r\n    limit_x_axis = Math.min(value1, limit_x_axis)\r\n\r\n    let limit_max_bottom_formula = yy * scale + ratio.height * scale - window.innerHeight\r\n    let limit_max_top = in_y > 0 ? same_y : -(yy * scale)\r\n    let limit_max_bottom = in_y > 0 ? same_y : -limit_max_bottom_formula\r\n\r\n    let limit_y_axis = this.vtm.f\r\n    limit_y_axis = Math.min(limit_max_top, limit_y_axis)\r\n    limit_y_axis = Math.max(limit_y_axis, limit_max_bottom)\r\n\r\n    this.vtm = this.createSVGMatrix().translate(limit_x_axis, limit_y_axis).scale(Math.max(this.vtm.a, 1))\r\n  }\r\n\r\n  createSVGMatrix() {\r\n    return this.svg.createSVGMatrix()\r\n  }\r\n\r\n  move(x, y, in_x, in_y, ratio) {\r\n    this.vtm = this.createSVGMatrix()\r\n      .translate(this.x - x, this.y - y)\r\n      .scale(this.vtm.a)\r\n\r\n    this.clamp(this.vtm.a, in_x, in_y, ratio)\r\n    return this.vtm\r\n  }\r\n\r\n  scale(xFactor, yFactor, origin, in_x, in_y, ratio, max, value, dir) {\r\n    if ((value >= max || this.stop) && dir === 1) {\r\n      this.stop = true\r\n      if (!this.deb) {\r\n        this.captureScale = this.vtm.a\r\n        this.vtm = this.createSVGMatrix()\r\n          .translate(origin.x, origin.y)\r\n          .scale(max / this.captureScale)\r\n          .translate(-origin.x, -origin.y)\r\n          .translate(this.vtm.e, this.vtm.f)\r\n          .scale(this.captureScale)\r\n\r\n        this.deb = true\r\n      }\r\n      return this.vtm\r\n    } else {\r\n      this.stop = false\r\n    }\r\n\r\n    this.vtm = this.createSVGMatrix()\r\n      .translate(origin.x, origin.y)\r\n      .scale(xFactor, yFactor)\r\n      .translate(-origin.x, -origin.y)\r\n      .multiply(this.vtm)\r\n\r\n    let pre_scale = Math.min(Math.max(1, this.vtm.a), max)\r\n\r\n    this.clamp(pre_scale, in_x, in_y, ratio)\r\n\r\n    return this.vtm\r\n  }\r\n}\r\n","export default class MultiTouchVelocity {\r\n  constructor() {\r\n    this.touchA = {\r\n      clientX: 0,\r\n      clientY: 0,\r\n      t: 0,\r\n      velocity: 1,\r\n    }\r\n    this.touchB = {\r\n      clientX: 0,\r\n      clientY: 0,\r\n      t: 0,\r\n      velocity: 1,\r\n    }\r\n  }\r\n  down(touchA, touchB) {\r\n    this.touchA = { clientX: touchA.clientX, clientY: touchA.clientY, t: Date.now(), velocity: 0 }\r\n    this.touchB = { clientX: touchB.clientX, clientY: touchB.clientY, t: Date.now(), veloctiy: 0 }\r\n  }\r\n  calc(touch, ins) {\r\n    var new_x = touch.clientX,\r\n      new_y = touch.clientY,\r\n      new_t = Date.now()\r\n\r\n    var x_dist = new_x - ins.clientX,\r\n      y_dist = new_y - ins.clientY,\r\n      interval = new_t - ins.t\r\n    var velocity = Math.sqrt(x_dist * x_dist + y_dist * y_dist) / interval\r\n    ins.velocity = velocity\r\n    // update values:\r\n    ins.clientX = new_x\r\n    ins.clientY = new_y\r\n    ins.t = new_t\r\n  }\r\n  getVelocity(touchA, touchB) {\r\n    this.calc(touchA, this.touchA)\r\n    this.calc(touchB, this.touchB)\r\n    return this.touchA.velocity + this.touchB.velocity\r\n  }\r\n}\r\n","function calculateAspectRatioFit(srcWidth, srcHeight, maxWidth, maxHeight) {\r\n  var ratio = Math.min(maxWidth / srcWidth, maxHeight / srcHeight)\r\n\r\n  return { width: srcWidth * ratio, height: srcHeight * ratio, ratio }\r\n}\r\n\r\nfunction getDistance(touchA, touchB) {\r\n  return Math.hypot(touchA.pageX - touchB.pageX, touchA.pageY - touchB.pageY)\r\n}\r\n\r\nexport { calculateAspectRatioFit, getDistance }\r\n","<svelte:options accessors />\r\n\r\n<div class=\"container\" bind:this={container_element} class:hidden={!opened}>\r\n\t<!-- svelte-ignore a11y-no-static-element-interactions -->\r\n\t<div\r\n\t\tclass=\"close-button\"\r\n\t\ton:click={() => {\r\n\t\t\topened = false\r\n\t\t}}>\r\n\t\t{@html ForbidIcon}\r\n\t</div>\r\n  {#if is_video}\r\n\t<video\r\n    loop\r\n    autoplay\r\n\t\tclass=\"c-svelteZoom\"\r\n\t\tclass:c-svelteZoom--contain={contain}\r\n\t\tclass:c-svelteZoom--no-contain={!contain}\r\n\t\tclass:c-svelteZoom--transition={smooth}\r\n\t\tclass:c-svelteZoom--visible={contain}\r\n\t\tclass:c-svelteZoom--hidden={contain === null}\r\n\t\tclass:c-svelteZoom--willChange={willChange}\r\n    on:click={()=>{\r\n      const mouse_vec_x = mouse[0] - start_mouse[0]\r\n      const mouse_vec_y = mouse[1] - start_mouse[1]\r\n      const mouse_vec_len = Math.sqrt(mouse_vec_x*mouse_vec_x + mouse_vec_y*mouse_vec_y)\r\n      const mouse_vec_len_relative_to_screen = mouse_vec_len / Math.min(container_element.clientWidth, container_element.clientHeight)\r\n      if(mouse_vec_len_relative_to_screen < 0.02){\r\n        // @ts-ignore\r\n        if(img.paused){\r\n          // @ts-ignore\r\n          img.play()\r\n        } else {\r\n          // @ts-ignore\r\n          img.pause()\r\n        }\r\n      }\r\n    }}\r\n\t\tbind:this={img}\r\n\t\ton:mousedown={mousedown}\r\n\t\ton:touchstart={touchstart}\r\n\t\ton:load={onLoad}\r\n\t\t{...$$props}\r\n\t\tsrc={src} />\r\n  {:else}\r\n\t<img\r\n\t\talt={alt}\r\n\t\tclass=\"c-svelteZoom\"\r\n\t\tclass:c-svelteZoom--contain={contain}\r\n\t\tclass:c-svelteZoom--no-contain={!contain}\r\n\t\tclass:c-svelteZoom--transition={smooth}\r\n\t\tclass:c-svelteZoom--visible={contain}\r\n\t\tclass:c-svelteZoom--hidden={contain === null}\r\n\t\tclass:c-svelteZoom--willChange={willChange}\r\n\t\tbind:this={img}\r\n\t\ton:mousedown={mousedown}\r\n\t\ton:touchstart={touchstart}\r\n\t\ton:load={onLoad}\r\n\t\t{...$$props}\r\n\t\tsrc={src} />\r\n  {/if}\r\n</div>\r\n\r\n<script lang=\"ts\">\r\n\texport let alt\r\n\timport Matrix from './matrix'\r\n\timport MultiTouchVelocity from './velocity'\r\n\r\n\timport ForbidIcon from '/../public/forbid.svg'\r\n\r\n\timport {calculateAspectRatioFit, getDistance} from './other'\r\n\r\n\timport {onMount} from 'svelte'\r\n\r\n\tlet smooth = true\r\n\tlet touchScreen = false\r\n\tlet container_element: HTMLDivElement\r\n\tlet opened: boolean = false\r\n\tlet src: string = './dummy.png'\r\n  // let is_video: boolean = false\r\n  $: is_video = src.endsWith(\"mp4\") || src.endsWith(\"webm\")\r\n  \r\n  window.addEventListener(\"keydown\", (e)=>{\r\n    if(e.key === 'Escape'){\r\n      opened = false\r\n    }\r\n  })\r\n\r\n\tlet prev_mouse = [0, 0]\r\n\tlet start_mouse = [0, 0]\r\n\tlet mouse = [0, 0]\r\n\tlet offs = [0, 0]\r\n\r\n\tlet xY = {\r\n\t\tinitX: 0,\r\n\t\tinitY: 0,\r\n\t\tnewX: 0,\r\n\t\tnewY: 0,\r\n\t}\r\n\r\n\tlet ratio\r\n  let img: HTMLImageElement | HTMLVideoElement\r\n\r\n\tlet matrix\r\n\tlet contain = null\r\n\tlet willChange = true\r\n\r\n\tlet velocity = new MultiTouchVelocity()\r\n\r\n\tlet lastTap = {\r\n\t\ttime: 0,\r\n\t\tx: 0,\r\n\t\ty: 0,\r\n\t}\r\n\r\n\tlet scale = {\r\n\t\tscaling: false,\r\n\t\tx1: 0,\r\n\t\tx2: 0,\r\n\t\ty1: 0,\r\n\t\ty2: 0,\r\n\t\tlastHypo: 0,\r\n\t\toriginX: 0,\r\n\t\toriginY: 0,\r\n\t\tvalue: 1.0,\r\n\t\tmax: 1,\r\n\t}\r\n\r\n\texport const open_image = (_src: string) => {\r\n\t\topened = true\r\n\t\tsrc = _src\r\n\t\toffs[0] = 0\r\n\t\toffs[1] = 1\r\n\t\tscale.value = 1\r\n\r\n\t\tlet zoom = Math.pow(2, Math.log2(scale.value))\r\n\t\timg.style.transform = `translate(${offs[0]}px, ${offs[1]}px) scale(${zoom})`\r\n\t\timg.style['transform-origin'] = `${0}px ${0}px`\r\n    \r\n    img.addEventListener('load', () => {\r\n      const w = img.width\r\n      const h = img.height\r\n      // const canv\r\n    })\r\n\t}\r\n\r\n\tfunction fireDown(x, y) {\r\n\t\txY.initX = x\r\n\t\txY.initY = y\r\n\r\n\t\tmatrix.x = matrix.vtm.e\r\n\t\tmatrix.y = matrix.vtm.f\r\n\r\n\t\twillChange = true\r\n\t}\r\n\r\n\tfunction fireMove(x, y) {\r\n\t\tif (scale.scaling) return\r\n\r\n\t\tlet delta_mouse = [x - prev_mouse[0], y - prev_mouse[1]]\r\n\r\n\t\toffs[0] += delta_mouse[0]\r\n\t\toffs[1] += delta_mouse[1]\r\n\r\n\t\t// let img_aspect = img.width / img.height\r\n\t\t// let viewport_aspect = container_element.clientWidth/container_element.clientHeight\r\n\r\n\t\tlet zoom = Math.pow(2, Math.log2(scale.value))\r\n\r\n\t\timg.style.transform = `translate(${offs[0]}px, ${offs[1]}px) scale(${zoom})`\r\n\t\timg.style['transform-origin'] = `${0}px ${0}px`\r\n\t}\r\n\r\n\tfunction fireUp() {\r\n\t\tmatrix.x -= xY.newX\r\n\t\tmatrix.y -= xY.newY\r\n\r\n\t\tscale.scaling = false\r\n\t\tscale.lastHypo = 0\r\n\t\tsmooth = true\r\n\t\twillChange = false\r\n\t}\r\n\r\n\tfunction fireScale(touchA, touchB) {\r\n\t\tconst xTouch = [Math.min(touchA.pageX, touchB.pageX), Math.max(touchA.pageX, touchB.pageX)]\r\n\r\n\t\tconst yTouch = [Math.min(touchA.pageY, touchB.pageY), Math.max(touchA.pageY, touchB.pageY)]\r\n\r\n\t\tconst W = xTouch[1] - xTouch[0]\r\n\t\tconst centerX = W / 2 + xTouch[0]\r\n\r\n\t\tconst H = yTouch[1] - yTouch[0]\r\n\t\tconst centerY = H / 2 + yTouch[0]\r\n\r\n\t\tscale.originX = centerX\r\n\t\tscale.originY = centerY\r\n\t\tscale.lastHypo = Math.trunc(getDistance(touchA, touchB))\r\n\t\tsmooth = false\r\n\t}\r\n\r\n\tfunction fireTapScale(x, y) {\r\n\t\tlet scaleVtm = matrix.vtm.a\r\n\t\tlet scale_value = scaleVtm > 1 ? scaleVtm - 1 : scale.max / 2.5\r\n\t\tlet scale_factor = scaleVtm > 1 ? -1 : 1\r\n\r\n\t\tconst xFactor = 1 + scale_value * scale_factor\r\n\t\tconst yFactor = (xFactor * window.innerHeight) / window.innerWidth\r\n\r\n\t\tlet in_x = (window.innerWidth - ratio.width * Math.max(xFactor * scaleVtm, 1)) / 2\r\n\t\tlet in_y = (window.innerHeight - ratio.height * Math.max(xFactor * scaleVtm, 1)) / 2\r\n\r\n\t\tconst origin = {\r\n\t\t\tx: in_x > 0 ? window.innerWidth / 2 : x,\r\n\t\t\ty: in_y > 0 ? window.innerHeight / 2 : y,\r\n\t\t}\r\n\r\n\t\tconst mat = matrix.scale(xFactor, yFactor, origin, in_x, in_y, ratio, scale.max, scale.value * xFactor, scale_factor)\r\n\r\n\t\tscale.value = mat.d\r\n\t\timg.style.transform = `translate(${mat.e}px, ${mat.f}px) scale(${mat.d})`\r\n\t}\r\n\r\n\tfunction fireScaleMove(touchA, touchB, e) {\r\n\t\tconst hypo = getDistance(touchA, touchB)\r\n\r\n\t\tlet f = hypo / scale.lastHypo\r\n\r\n\t\tf = f >= 1 ? 1 : -1\r\n\r\n\t\tconst ff = velocity.getVelocity(touchA, touchB) || 1\r\n\r\n\t\tconst xFactor = 1 + 0.1 * ff * f\r\n\r\n\t\tconst yFactor = (xFactor * window.innerHeight) / window.innerWidth\r\n\r\n\t\tlet in_x = (window.innerWidth - ratio.width * matrix.vtm.a) / 2\r\n\t\tlet in_y = (window.innerHeight - ratio.height * matrix.vtm.a) / 2\r\n\r\n\t\tconst origin = {\r\n\t\t\tx: in_x > 0 ? window.innerWidth / 2 : scale.originX,\r\n\t\t\ty: in_y > 0 ? window.innerHeight / 2 : scale.originY,\r\n\t\t}\r\n\r\n\t\tconst mat = matrix.scale(xFactor, yFactor, origin, in_x, in_y, ratio, scale.max, scale.value * xFactor, f)\r\n\r\n\t\timg.style.transform = `translate(${mat.e}px, ${mat.f}px) scale(${mat.d})`\r\n\r\n\t\tscale.value = mat.d\r\n\r\n\t\tscale.lastHypo = hypo\r\n\t\tscale.scaling = true\r\n\t}\r\n\r\n\tfunction fireManualZoom(dir) {\r\n\t\tconst xFactor = 1 + 0.2 * dir\r\n\t\tconst yFactor = (xFactor * window.innerHeight) / window.innerWidth\r\n\r\n\t\tlet in_x = (window.innerWidth - ratio.width * matrix.vtm.a) / 2\r\n\t\tlet in_y = (window.innerHeight - ratio.height * matrix.vtm.a) / 2\r\n\r\n\t\tconst origin = {\r\n\t\t\tx: window.innerWidth / 2,\r\n\t\t\ty: window.innerHeight / 2,\r\n\t\t}\r\n\r\n\t\tconst mat = matrix.scale(xFactor, yFactor, origin, in_x, in_y, ratio, scale.max, scale.value * xFactor, dir)\r\n\t\timg.style.transform = `translate(${mat.e}px,${mat.f}px) scale(${mat.d})`\r\n\t\tscale.value = mat.d\r\n\t}\r\n\r\n\texport const zoomIn = () => fireManualZoom(1)\r\n\r\n\texport const zoomOut = () => fireManualZoom(-1)\r\n\r\n\tfunction onResize() {\r\n\t\tonLoad()\r\n\t\tfireDown(0, 0)\r\n\t\tfireMove(0, 0)\r\n\t\tfireUp()\r\n\t}\r\n\r\n\tfunction onWheel(e: WheelEvent) {\r\n\t\te.preventDefault()\r\n\t\tconst dir = e.deltaY < 0 ? 1 : -1\r\n\r\n\t\tlet prev = Math.pow(2, Math.log2(scale.value))\r\n\r\n\t\tif (dir > 0) {\r\n\t\t\tscale.value *= 1.2\r\n\t\t} else {\r\n\t\t\tscale.value /= 1.2\r\n\t\t}\r\n\t\tlet zoom = Math.pow(2, Math.log2(scale.value))\r\n\t\tconst ratio = 1 - zoom / prev\r\n\r\n\t\tlet img_aspect = img.width / img.height\r\n\t\tlet viewport_aspect = container_element.clientWidth / container_element.clientHeight\r\n\t\tlet mouse_pos = [e.clientX, e.clientY]\r\n\r\n\t\toffs[0] += (e.clientX - offs[0]) * ratio\r\n\t\toffs[1] += (e.clientY - offs[1]) * ratio\r\n\r\n\t\timg.style.transform = `translate(${offs[0]}px, ${offs[1]}px) scale(${zoom})`\r\n\t\timg.style['transform-origin'] = `${0}px ${0}px`\r\n\t}\r\n\r\n\tfunction onLoad() {\r\n\t\t// const {naturalWidth, naturalHeight} = img\r\n    let naturalHeight: number\r\n    let naturalWidth: number\r\n    if(is_video){\r\n      naturalWidth = (img as HTMLVideoElement).videoWidth;\r\n      naturalHeight = (img as HTMLVideoElement).videoHeight;\r\n      // img.addEventListener('load', () => {\r\n      (img as HTMLVideoElement).play()\r\n      // })\r\n    } else {\r\n      naturalWidth = (img as HTMLImageElement).naturalWidth\r\n      naturalHeight = (img as HTMLImageElement).naturalHeight\r\n    }\r\n    // let vid = img as HTMLVideoElement\r\n\r\n\t\tcontain = naturalWidth > window.innerWidth || naturalHeight > window.innerHeight\r\n\r\n\t\tscale.max =\r\n\t\t\tnaturalWidth > naturalHeight\r\n\t\t\t\t? Math.max(naturalWidth / window.innerWidth, 1)\r\n\t\t\t\t: Math.max(naturalHeight / window.innerHeight, 1)\r\n\t\tratio = calculateAspectRatioFit(naturalWidth, naturalHeight, window.innerWidth, window.innerHeight)\r\n\t}\r\n\r\n\tonMount(() => {\r\n\t\tmatrix = new Matrix()\r\n\t\tcontainer_element.addEventListener('wheel', onWheel, {passive: false})\r\n\t\tcontainer_element.addEventListener('resize', onResize)\r\n\t\treturn () => {\r\n\t\t\tcontainer_element.removeEventListener('wheel', onWheel)\r\n\t\t\tcontainer_element.removeEventListener('resize', onResize)\r\n\t\t}\r\n\t})\r\n\r\n\tfunction onTouchStart(e) {\r\n\t\ttouchScreen = true\r\n\t\twillChange = true\r\n\t\tconst isMultiTouch = e.touches.length === 2\r\n\t\tconst [touchA, touchB] = e.touches\r\n\r\n\t\tscale.scaling = isMultiTouch\r\n\r\n\t\tsmooth = false\r\n\t\tif (isMultiTouch) {\r\n\t\t\tfireScale(touchA, touchB)\r\n\r\n\t\t\tvelocity.down(touchA, touchB)\r\n\t\t} else {\r\n\t\t\tconst {pageX, pageY} = touchA\r\n\t\t\tvar now = new Date().getTime()\r\n\t\t\tif (now - lastTap.time < 250 && Math.hypot(lastTap.x - pageX, lastTap.y - pageY) <= 20) {\r\n\t\t\t\tsmooth = true\r\n\t\t\t\tfireTapScale(pageX, pageY)\r\n\t\t\t} else {\r\n\t\t\t\tfireDown(pageX, pageY)\r\n\t\t\t}\r\n\r\n\t\t\tlastTap = {\r\n\t\t\t\ttime: now,\r\n\t\t\t\tx: pageX,\r\n\t\t\t\ty: pageY,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twindow.removeEventListener('touchmove', onTouchMove)\r\n\t\twindow.removeEventListener('touchend', onTouchEnd)\r\n\t\twindow.addEventListener('touchmove', onTouchMove)\r\n\t\twindow.addEventListener('touchend', onTouchEnd)\r\n\t}\r\n\r\n\tfunction onTouchMove(e) {\r\n\t\tif (scale.scaling) {\r\n\t\t\tconst [touchA, touchB] = e.touches\r\n\t\t\tfireScaleMove(touchA, touchB)\r\n\t\t} else {\r\n\t\t\tfireMove(e.touches[0].pageX, e.touches[0].pageY)\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onTouchEnd(e) {\r\n\t\tfireUp()\r\n\t\twindow.removeEventListener('touchmove', onTouchMove)\r\n\t\twindow.removeEventListener('touchend', onTouchEnd)\r\n\t\twindow.removeEventListener('touchcancel', onTouchEnd)\r\n\t}\r\n\r\n\tfunction onMouseDown({clientX, clientY}) {\r\n    start_mouse = [clientX, clientY]\r\n\t\tprev_mouse = [clientX, clientY]\r\n    mouse = [clientX, clientY]\r\n\t\tif (touchScreen) return\r\n\t\tfireDown(clientX, clientY)\r\n\r\n\t\tsmooth = false\r\n\r\n\t\twindow.addEventListener('mousemove', onMouseMove)\r\n\t\twindow.addEventListener('mouseup', onMouseUp)\r\n\t}\r\n\r\n\tfunction onMouseMove({clientX, clientY}) {\r\n\t\tfireMove(clientX, clientY)\r\n\t\tprev_mouse = [clientX, clientY]\r\n    mouse[0] = clientX\r\n    mouse[1] = clientY\r\n\t}\r\n\r\n\tfunction onMouseUp() {\r\n\t\twindow.removeEventListener('mousemove', onMouseMove)\r\n\t\tfireUp()\r\n\t}\r\n\r\n\tconst mousedown = onMouseDown\r\n\tconst touchstart = onTouchStart\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.container {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: fixed;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n    margin-left: 0;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tz-index: 100;\r\n\t\tbackground: var(--accent-light);\r\n\t}\r\n\t.c-svelteZoom {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: absolute;\r\n\t\ttransform-origin: 0 0;\r\n\t\tbackface-visibility: hidden;\r\n\t\t-webkit-backface-visibility: hidden;\r\n\t\t-moz-backface-visibility: hidden;\r\n\t\t-o-backface-visibility: hidden;\r\n\t\t-ms-backface-visibility: hidden;\r\n\t\t-webkit-user-drag: none;\r\n\t\t-moz-user-drag: none;\r\n\t\t-o-user-drag: none;\r\n\t\tuser-drag: none;\r\n\t\ttouch-action: none;\r\n\t\t// pointer-events: none;\r\n\t}\r\n\r\n\t.c-svelteZoom--contain {\r\n\t\tobject-fit: contain;\r\n\t}\r\n\r\n\t.c-svelteZoom--no-contain {\r\n\t\tobject-fit: contain;\r\n\t}\r\n\r\n\t.c-svelteZoom--transition {\r\n\t\ttransition: transform 0.2s;\r\n\t}\r\n\r\n\t.c-svelteZoom--visible {\r\n\t\tvisibility: visible;\r\n\t}\r\n\r\n\t.c-svelteZoom--hidden {\r\n\t\tvisibility: hidden;\r\n\t}\r\n\r\n\t.c-svelteZoom--willChange {\r\n\t\twill-change: transform;\r\n\t}\r\n\r\n\t.close-button {\r\n\t\tz-index: 1;\r\n\t\tbackground: var(--accent-light);\r\n\t\tposition: absolute;\r\n\t\tright: 1rem;\r\n\t\tcursor: pointer;\r\n\t\t&:hover {\r\n\t\t\tfilter: invert(1);\r\n\t\t}\r\n\t\t:global(svg) {\r\n\t\t\tfill: var(--accent-dark);\r\n\t\t\tstroke: var(--accent-dark);\r\n\t\t\taspect-ratio: 1/1;\r\n\t\t\twidth: 6rem;\r\n\t\t}\r\n\t}\r\n\t.hidden {\r\n\t\tdisplay: none;\r\n\t}\r\n</style>\r\n","<!-- OpenGraph description: Artworks by wrighter -->\r\n<!-- OpenGraph type: article -->\r\n\r\n<main>\r\n\t<Bar>\r\n\t</Bar>\r\n\t<ImageViewer src=\"\" alt=\"...\" bind:this={image_viewer} />\r\n\t{#each image_cats as image_cat, i}\r\n\t\t<!-- svelte-ignore a11y-no-static-element-interactions -->\r\n\t\t<div class=\"title-container\" on:click={()=>{image_cat_toggled[i] = !image_cat_toggled[i]}}>\r\n\t\t\t<div class=\"title\" id={image_cat_names[i]}>\r\n\t\t\t\t{image_cat_names[i]}\r\n\t\t\t</div>\r\n\t\t\t<svg \r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\" height=\"48\" viewBox=\"0 -960 960 960\" width=\"48\"\r\n\t\t\t\tstyle={image_cat_toggled[i] ? \"\" : \"transform: scaleY(-1);\"}\r\n\t\t\t>\r\n\t\t\t\t<path d=\"M480-360 280-559h400L480-360Z\" />\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t\t<Gallery \r\n\t\t\timages={image_cat} \r\n\t\t\thidden={image_cat_toggled[i]}\r\n\t\t\topen_image_callback={\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\t(src)=>{image_viewer.open_image(src)}\r\n\t\t\t}\r\n\t\t\t/>\r\n\t{/each}\r\n\t<!-- {#each Object.keys(image_folders) as image_folder, i}\r\n\t\t{#if typeof image_folders[image_folder] === \"object\"}\r\n\t\t\t<div class=\"year\">\r\n\t\t\t\t{image_folder}\r\n\t\t\t</div> -->\r\n\t\t\t<!-- <Masonry colWidth=\"10.5rem;\">\r\n\t\t\t\t{#each Object.keys(image_folders[image_folder]) as image, k}\r\n\t\t\t\t\t<img src={image_folders[image_folder][image]} />\r\n\t\t\t\t{/each}\r\n\t\t\t</Masonry> -->\r\n\t\t<!-- {/if}\r\n\t{/each} -->\r\n\t<Footer />\r\n</main>\r\n\r\n\r\n\r\n<script lang=\"ts\">\r\n\timport {onMount} from 'svelte'\r\n\timport {onDestroy} from 'svelte'\r\n\r\n\timport Bar from \"./utils/NavBar.svelte\"\r\n\r\n\timport Gallery from './utils/Gallery.svelte';\r\n\timport Footer from './utils/Footer.svelte'\r\n\r\n\timport ImageViewer from \"./utils/svelte-zoom/ImageViewer.svelte\"\r\n\t\r\n\tlet image_viewer: ImageViewer\r\n\t\r\n  \r\n\t\r\n\tfunction scroll_to_view(selector: string) {\r\n\t\timage_cat_toggled[image_cat_names.indexOf(selector.replace(\"#\",\"\"))] = false\r\n\t\t// @ts-ignore\r\n\t\tdocument.querySelector(selector).scrollIntoView({\r\n\t\t\tbehavior: 'smooth'\r\n\t\t})\r\n\t}\r\n\t\r\n\t// import 'wave-audio-path-player'\r\n\r\n\t\r\n\tconst image_folders: {\r\n\t\t[key: string]: {\r\n\t\t\t[key: string]: string | number\r\n\t\t}\r\n\t} = RESOURCES[\"public\"][\"images\"]\r\n\t\r\n\tconst image_cats: Array<Array<any>> = []\r\n\tconst image_cat_names: Array<string> = []\r\n\tconst image_cat_toggled: Array<boolean> = []\r\n\t\r\n\tfor (let image_folder_name of Object.keys(image_folders)){\r\n\t\tif(typeof image_folders[image_folder_name] === \"object\" && !image_folders[image_folder_name][\"src\"]){\r\n\t\t\tlet folder: Array<any> = []\r\n\t\t\tlet image_keys = Object.keys(image_folders[image_folder_name])\r\n\t\t\timage_cats.push(folder)\r\n\t\t\tif(image_keys.length > 0) { \r\n\t\t\t\timage_cat_names.push(image_folder_name) \r\n\t\t\t\timage_cat_toggled.push(true) \r\n\t\t\t}\r\n\t\t\tfor(let image_key of image_keys){\r\n\t\t\t\tlet image = image_folders[image_folder_name][image_key]\r\n\r\n\t\t\t\tconst is_video = image[\"is_video\"]\r\n\t\t\t\tconst has_thumb = !!image[\"src_thumb\"]\r\n\t\t\t\t// window.LFS_PREPEND + image['src_thumb'] ? image['src_thumb'] : image.src \r\n\t\t\t\tif(image[\"src\"]){\r\n\t\t\t\t\tfolder.push({\r\n\t\t\t\t\t\tsrc: window.LFS_PREPEND + image[\"src\"],\r\n\t\t\t\t\t\tsrc_thumb: has_thumb ? window.LFS_PREPEND + image[\"src_thumb\"] : false,\r\n\t\t\t\t\t\tis_video: is_video,\r\n\t\t\t\t\t\twidth: image[\"width\"],\r\n\t\t\t\t\t\theight: image[\"height\"],\r\n\t\t\t\t\t\t// width: 400,\r\n\t\t\t\t\t\t// height: 400,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tconsole.log(\"CAAAAAAAAAAAAAAAAAAAAATS\")\r\n\tconsole.log(image_cats)\r\n\t\r\n\t\r\n\texport let url = \"/favdemos\";\r\n\r\n\tonMount(async () => {\r\n\t\tconst hash = window.location.hash;\r\n\t\tsetTimeout(()=>{\r\n\t\t\ttry{\r\n\t\t\t\tscroll_to_view(hash)\r\n\t\t\t} catch(e){\r\n\r\n\t\t\t}\r\n\t\t}, 200)\r\n\t})\r\n\r\n\tonDestroy(() => {})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tmain :global(*) {\r\n\t\tcolor: var(--accent-dark);\r\n\t\tfont-family: 'Petrona';\r\n\t\tfont-weight: 400;\r\n\t\t&::selection {\r\n\t\t\tbackground: var(--accent-dark);\r\n\t\t\tcolor: var(--accent-light);\r\n\t\t}\r\n\t}\r\n\t.title-container{\r\n\t\tmargin-left: 1rem;\r\n\t\twidth: fit-content;\r\n\t\tcursor: pointer;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tsvg{\r\n\t\t\ttransition: transform 0.1s ease;\r\n\t\t}\r\n\t\t&:active{\r\n\t\t\tfilter: invert(1);\r\n\t\t\tbackground: var(--accent-light);\r\n\t\t}\r\n\t\t.title{\r\n\t\t\tfont-weight: bolder;\r\n\t\t\tfont-size: 2rem;\r\n\t\t\tmargin-bottom: 2rem;\r\n\t\t\tmargin-top: 2rem;\r\n\t\t}\r\n\t}\r\n\t.demo{\r\n\t\twidth: fit-content;\r\n\t\tdisplay: flex;\r\n\t\t// align-items: center;\r\n\t\t// align-items: end;\r\n\t\t// text-decoration-style: dashed !important;\r\n\t\t// text-decoration-thickness: 0.2rem !important;\r\n\t\t// text-decoration: underline;\r\n\t\t// outline: bo;\r\n\r\n\t\t*{\r\n\t\t\tfont-size: 1.0rem;\r\n\t\t}\r\n\t\t.name{\r\n\t\t\tfont-weight: bold;\r\n\t\t}\r\n\t}\r\n\tmain {\r\n\t\twidth: 100%;\r\n\t\tmax-width: 40rem;\r\n\t\tmin-height: 100%;\r\n\t\theight: fit-content;\r\n\t\t// overflow: scroll;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmax-width: var(--main-max-width);\r\n\t\tcanvas {\r\n\t\t\tdisplay: none;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\t// display: block;\r\n\t\t\tmargin: auto;\r\n\t\t\tpadding: 0;\r\n\t\t}\r\n\t}\r\n\t.hidden{\r\n\t\tdisplay: none;\r\n\t}\r\n</style>\r\n\r\n","\r\n<main>\r\n\t<Bar />\r\n\t\t<div class=\"name\">\r\n\t\t\tSplunge\r\n\t\t</div>\r\n\t\t<div class=\"description\">\r\n\t\t\t<div>\r\n\t\t\t\t<a href=\"https://github.com/wrightwriter/splunge\" target=\"_blank\">Splunge</a> is a painting software inspired by the lovely app <a href=\"https://www.heavypaint.com\"  target=\"_blank\">HeavyPaint</a>. \r\n\t\t\t</div>\r\n\t\t\t<wbr />\r\n\t\t\t<div>\r\n\t\t\t\tThe UI has common actions like brush size and HSV adjustments as gestures, triggered by the pen button. \r\n\t\t\t\tFeatures include user gallery and infinite undo.  \r\n\t\t\t\tI wrote it using <a href=\"https://svelte.dev/\"  target=\"_blank\" >Svelte</a> and <a href=\"https://www.youtube.com/watch?v=3lOptjAeA2w\"  target=\"_blank\" >WebGL</a>, targeting my budget Galaxy Tab S6 Lite tablet. \r\n\t\t\t\tThis created the need of a lot of micro optimizations and profiling, but ended up running nicely! \r\n\t\t\t</div>\r\n\t\t\t<wbr />\r\n\t\t\t<div>\r\n\t\t\t\tHere are some paintings I made with it:\r\n\t\t\t</div>\r\n\t\t\t<wbr />\r\n\t\t</div>\r\n\t\t<div class=\"gallery\">\r\n\t\t\t<img src={window.LFS_PREPEND + \"./images/paintings/adsg.png\"} height=\"345.5rem\"/>\r\n\t\t\t<img src={window.LFS_PREPEND + \"./images/paintings/1689957895824_2 (1).png\"} height=\"345.5rem\" />\r\n\t\t\t<img src={window.LFS_PREPEND + \"./images/paintings/1690037672960_1 (1).png\"} height=\"290.5rem\"  />\r\n\t\t\t<img src={window.LFS_PREPEND + \"./images/paintings/1690102042507_1[1].png\"} height=\"290.5rem\"  />\r\n\t\t</div>\r\n\t\t<Footer />\r\n</main>\r\n\r\n\r\n\r\n<script lang=\"ts\">\r\n\timport {onMount} from 'svelte'\r\n\timport {onDestroy} from 'svelte'\r\n\r\n\timport Bar from \"./utils/NavBar.svelte\"\r\n\timport Footer from './utils/Footer.svelte'\r\n\r\n\t\r\n\tonDestroy(() => {})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.name{\r\n\t\tfont-weight: bolder;\r\n\t\tfont-size: 2rem;\r\n\t\tmargin-bottom: 1.0rem;\r\n\t\tmargin-top: 0.9rem;\r\n\t}\r\n\t.gallery{\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\twbr{\r\n\t\t// display: block;\r\n\t\t// height: 0.02rem !important;\r\n\t\t// margin: none;\r\n\t}\r\n\t.description{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tfont-weight: var(--text-font-weight);\r\n\t\ta {\r\n\t\t\tfont-weight: var(--link-font-weight);\r\n\t\t}\r\n\t\t*{\r\n\t\t\tfont-weight: var(--text-font-weight);\r\n\t\t\tfont-size: 1.0rem;\r\n\t\t}\r\n\t}\r\n\tmain {\r\n\t\twidth: 100%;\r\n\t\tmax-width: 40rem;\r\n\t\tmin-height: 100%;\r\n\t\theight: fit-content;\r\n\t\t// overflow: scroll;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmax-width: var(--main-max-width);\r\n\t\tcanvas {\r\n\t\t\tdisplay: none;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\t// display: block;\r\n\t\t\tmargin: auto;\r\n\t\t\tpadding: 0;\r\n\t\t}\r\n\t}\r\n</style>\r\n\r\n","<!-- OpenGraph description: about -->\r\n\r\n<main>\r\n\t<Bar />\r\n\t\t<div class=\"description\">\r\n\t\t\t<div>\r\n\t\t\t\tHey, I’m Pètar. I'm a musician, coder and visual artist.\r\n\t\t\t</div>\r\n\t\t\t<wbr />\r\n\t\t\t\r\n\t\t\t<wbr />\r\n\t\t\t<div>\r\n\t\t\t\tFeel free to hit me up on discord/email.\r\n\t\t\t\tYou can find me at:\r\n\t\t\t</div>\r\n\t\t\t<wbr />\r\n\t\t\t<div>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tpetar.guglev — at gee mail\r\n\t\t\t\t</p>\r\n\t\t\t\t<gbr/>\r\n\t\t\t\t<p>\r\n\t\t\t\t\trita.wighter — discord\r\n\t\t\t\t</p>\r\n\t\t\t\t<gbr/>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<a href=\"https://twitter.com/wrightwrighter\">\r\n\t\t\t\t\t\twrightwrighter — twitter\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</p>\r\n\t\t\t\t<gbr/>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<a href=\"https://github.com/wrightwriter\">\r\n\t\t\t\t\t\twrightwriter — github\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</p>\r\n\t\t\t\t<gbr/>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<a href=\"https://www.shadertoy.com/user/jeyko/sort=newest\">\r\n\t\t\t\t\t\tjeyko — shadertoy\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t\t<Footer />\r\n</main>\r\n\r\n\r\n\r\n<script lang=\"ts\">\r\n\timport {onMount} from 'svelte'\r\n\timport {onDestroy} from 'svelte'\r\n\r\n\timport Bar from \"./utils/NavBar.svelte\"\r\n\timport Footer from './utils/Footer.svelte'\r\n\r\n\t\r\n\tonDestroy(() => {})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tgbr {\r\n\t\theight: 1rem !important;\r\n\t\tline-height: 5rem !important;\r\n\t}\r\n\t.name{\r\n\t\tfont-weight: bolder;\r\n\t\tfont-size: 2rem;\r\n\t\tmargin-bottom: 1.0rem;\r\n\t\tmargin-top: 0.9rem;\r\n\t}\r\n\t.gallery{\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\t.description{\r\n\t\tmargin-top: 3rem;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tfont-weight: var(--text-font-weight);\r\n\t\ta {\r\n\t\t\tfont-weight: var(--link-font-weight);\r\n\t\t}\r\n\t\t*{\r\n\t\t\tfont-weight: var(--text-font-weight);\r\n\t\t\tfont-size: 1.0rem;\r\n\t\t}\r\n\t}\r\n\tmain {\r\n\t\twidth: 100%;\r\n\t\tmax-width: 40rem;\r\n\t\tmin-height: 100%;\r\n\t\theight: fit-content;\r\n\t\t// overflow: scroll;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmax-width: var(--main-max-width);\r\n\t\tcanvas {\r\n\t\t\tdisplay: none;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\t// display: block;\r\n\t\t\tmargin: auto;\r\n\t\t\tpadding: 0;\r\n\t\t}\r\n\t}\r\n</style>\r\n\r\n\r\n","// yoinked from https://stackoverflow.com/questions/1344500/efficient-way-to-insert-a-number-into-a-sorted-array-of-numbers\n\n/**\n * Look for an index from a sorted list using binary search.\n *\n * If you don't provide a compare function, it will look for **the first same value** it can find.\n * If it cannot find an exactly matching value, it can return N where the length of given array is N.\n *\n * @param array A sorted array\n * @param compare Make this function return `false` if you want to point right side of given element, `true` if you want to point left side of given element.\n * @returns An index found\n */\nexport function binarySearch<T>( array: ArrayLike<T>, element: T ): number;\nexport function binarySearch<T>( array: ArrayLike<T>, compare: ( element: T ) => boolean ): number;\nexport function binarySearch<T>(\n  array: ArrayLike<T>,\n  elementOrCompare: T | ( ( element: T ) => boolean ),\n): number {\n  if ( typeof elementOrCompare !== 'function' ) {\n    return binarySearch( array, ( element ) => ( element < elementOrCompare ) );\n  }\n  const compare = elementOrCompare as ( element: T ) => boolean;\n\n  let start = 0;\n  let end = array.length;\n\n  while ( start < end ) {\n    const center = ( start + end ) >> 1;\n    const centerElement = array[ center ];\n\n    const compareResult = compare( centerElement );\n\n    if ( compareResult ) {\n      start = center + 1;\n    } else {\n      end = center;\n    }\n  }\n\n  return start;\n}\n","/**\n * Generic traverse function.\n *\n * It performs Depth-First Search.\n *\n * The `traverser` function will be executed for each descendants.\n * You need to return their \"children\" in an array.\n * If you want to stop the traversal, return `false` instead.\n *\n * @example\n * ```js\n * // replicate Three.js traverse for no reason\n * const meshes = [];\n * traverse( object3DRoot, ( object ) => {\n *   if ( object.isMesh ) {\n *     meshes.push( object );\n *   }\n *   return object3DRoot.children;\n * } );\n * ```\n *\n * @param root The \"root\" node\n * @param traverser The traverse function. If the node has \"children\" return them in an array.\n */\nexport function traverse<TNode>(\n  root: TNode,\n  traverser: ( node: TNode ) => TNode[] | false,\n): void {\n  const nodesNeedProcess: TNode[] = [ root ];\n  const nodesSeen = new Set<TNode>( nodesNeedProcess );\n\n  while ( nodesNeedProcess.length > 0 ) {\n    const currentNode = nodesNeedProcess.shift()!;\n\n    const children = traverser( currentNode );\n\n    if ( !children ) {\n      break;\n    }\n\n    const nodesFound = children.filter( ( node ) => !nodesSeen.has( node ) );\n    nodesNeedProcess.unshift( ...nodesFound );\n    nodesFound.map( ( node ) => nodesSeen.add( node ) );\n  }\n}\n","export function arrayRange( start: number, end: number, step?: number ): number[] {\n  let current = start;\n  const ret: number[] = [];\n\n  if ( start < end ) {\n    step = step ?? 1;\n    while ( current < end ) {\n      ret.push( current );\n      current += step;\n    }\n  } else {\n    step = step ?? -1;\n    while ( current > end ) {\n      ret.push( current );\n      current += step;\n    }\n  }\n\n  return ret;\n}\n\n","export const arraySerial = ( count: number ): number[] => (\n  [ ...Array( count ) ].map( ( _, i ) => i )\n);\n","export function arraySetDelete<T>( array: Array<T>, value: T ): boolean {\n  const index = array.indexOf( value );\n  if ( index === -1 ) { return false; }\n\n  array.splice( index, 1 );\n  return true;\n}\n\nexport function arraySetHas<T>( array: Array<T>, value: T ): boolean {\n  return array.indexOf( value ) !== -1;\n}\n\nexport function arraySetAdd<T>( array: Array<T>, value: T ): boolean {\n  const index = array.indexOf( value );\n  if ( index !== -1 ) { return false; }\n\n  array.push( value );\n  return true;\n}\n\nexport function arraySetUnion<T>( a: Array<T>, b: Array<T> ): Array<T> {\n  const out = [ ...a ];\n  b.forEach( ( v ) => {\n    if ( !arraySetHas( out, v ) ) {\n      out.push( v );\n    }\n  } );\n  return out;\n}\n\nexport function arraySetDiff<T>( from: Array<T>, diff: Array<T> ): Array<T> {\n  const out = [ ...from ];\n  diff.forEach( ( v ) => {\n    arraySetDelete( out, v );\n  } );\n  return out;\n}\n","/**\n * `[ -1, -1, 1, -1, -1, 1, 1, 1 ]`\n */\nexport const TRIANGLE_STRIP_QUAD = [ -1, -1, 1, -1, -1, 1, 1, 1 ];\n\n/**\n * `[ -1, -1, 0, 1, -1, 0, -1, 1, 0, 1, 1, 0 ]`\n */\nexport const TRIANGLE_STRIP_QUAD_3D = [ -1, -1, 0, 1, -1, 0, -1, 1, 0, 1, 1, 0 ];\n\n/**\n * `[ 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1 ]`\n */\nexport const TRIANGLE_STRIP_QUAD_NORMAL = [ 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1 ];\n\n/**\n * `[ 0, 0, 1, 0, 0, 1, 1, 1 ]`\n */\nexport const TRIANGLE_STRIP_QUAD_UV = [ 0, 0, 1, 0, 0, 1, 1, 1 ];\n","/**\n * Shuffle given `array` using given `dice` RNG. **Destructive**.\n */\nexport function shuffleArray<T>( array: T[], dice?: () => number ): T[] {\n  const f = dice ? dice : () => Math.random();\n  for ( let i = 0; i < array.length - 1; i ++ ) {\n    const ir = i + Math.floor( f() * ( array.length - i ) );\n    const temp = array[ ir ];\n    array[ ir ] = array[ i ];\n    array[ i ] = temp;\n  }\n  return array;\n}\n\n/**\n * I like wireframe\n *\n * `triIndexToLineIndex( [ 0, 1, 2, 5, 6, 7 ] )` -> `[ 0, 1, 1, 2, 2, 0, 5, 6, 6, 7, 7, 5 ]`\n */\nexport function triIndexToLineIndex<T>( array: T[] ): T[] {\n  const ret: T[] = [];\n  for ( let i = 0; i < array.length / 3; i ++ ) {\n    const head = i * 3;\n    ret.push(\n      array[ head     ], array[ head + 1 ],\n      array[ head + 1 ], array[ head + 2 ],\n      array[ head + 2 ], array[ head     ]\n    );\n  }\n  return ret;\n}\n\n/**\n * `matrix2d( 3, 2 )` -> `[ 0, 0, 0, 1, 0, 2, 1, 0, 1, 1, 1, 2 ]`\n */\nexport function matrix2d( w: number, h: number ): number[] {\n  const arr: number[] = [];\n  for ( let iy = 0; iy < h; iy ++ ) {\n    for ( let ix = 0; ix < w; ix ++ ) {\n      arr.push( ix, iy );\n    }\n  }\n  return arr;\n}\n\n/**\n * See also: {@link matrix2d}\n */\nexport function matrix3d( w: number, h: number, d: number ): number[] {\n  const arr: number[] = [];\n  for ( let iz = 0; iz < d; iz ++ ) {\n    for ( let iy = 0; iy < h; iy ++ ) {\n      for ( let ix = 0; ix < w; ix ++ ) {\n        arr.push( ix, iy, iz );\n      }\n    }\n  }\n  return arr;\n}\n","/**\n * Critically Damped Spring\n *\n * Shoutouts to Keijiro Takahashi\n */\nexport class CDS {\n  public factor = 100.0;\n  public ratio = 1.0;\n  public velocity = 0.0;\n  public value = 0.0;\n  public target = 0.0;\n\n  public update( deltaTime: number ): number {\n    this.velocity += (\n      -this.factor * ( this.value - this.target )\n      - 2.0 * this.velocity * Math.sqrt( this.factor ) * this.ratio\n    ) * deltaTime;\n    this.value += this.velocity * deltaTime;\n    return this.value;\n  }\n}\n","/**\n * Class that deals with time.\n * In this base class, you need to set time manually from `Automaton.update()`.\n * Best for sync with external clock stuff.\n */\nexport class Clock {\n  /**\n   * Its current time.\n   */\n  protected __time = 0.0;\n\n  /**\n   * Its deltaTime of last update.\n   */\n  protected __deltaTime = 0.0;\n\n  /**\n   * Whether its currently playing or not.\n   */\n  protected __isPlaying = false;\n\n  /**\n   * Its current time.\n   */\n  public get time(): number { return this.__time; }\n\n  /**\n   * Its deltaTime of last update.\n   */\n  public get deltaTime(): number { return this.__deltaTime; }\n\n  /**\n   * Whether its currently playing or not.\n   */\n  public get isPlaying(): boolean { return this.__isPlaying; }\n\n  /**\n   * Update the clock.\n   * @param time Time. You need to set manually when you are using manual Clock\n   */\n  public update( time?: number ): void {\n    const prevTime = this.__time;\n    this.__time = time || 0.0;\n    this.__deltaTime = this.__time - prevTime;\n  }\n\n  /**\n   * Start the clock.\n   */\n  public play(): void {\n    this.__isPlaying = true;\n  }\n\n  /**\n   * Stop the clock.\n   */\n  public pause(): void {\n    this.__isPlaying = false;\n  }\n\n  /**\n   * Set the time manually.\n   * @param time Time\n   */\n  public setTime( time: number ): void {\n    this.__time = time;\n  }\n}\n","import { Clock } from './Clock';\n\n/**\n * Class that deals with time.\n * This is \"frame\" type clock, the frame increases every {@link ClockFrame#update} call.\n * @param fps Frames per second\n */\nexport class ClockFrame extends Clock {\n  /**\n   * Its current frame.\n   */\n  private __frame = 0;\n\n  /**\n   * Its fps.\n   */\n  private __fps: number;\n\n  public constructor( fps = 60 ) {\n    super();\n    this.__fps = fps;\n  }\n\n  /**\n   * Its current frame.\n   */\n  public get frame(): number { return this.__frame; }\n\n  /**\n   * Its fps.\n   */\n  public get fps(): number { return this.__fps; }\n\n  /**\n   * Update the clock. It will increase the frame by 1.\n   */\n  public update(): void {\n    if ( this.__isPlaying ) {\n      this.__time = this.__frame / this.__fps;\n      this.__deltaTime = 1.0 / this.__fps;\n      this.__frame ++;\n    } else {\n      this.__deltaTime = 0.0;\n    }\n  }\n\n  /**\n   * Set the time manually.\n   * The set time will be converted into internal frame count, so the time will not be exactly same as set one.\n   * @param time Time\n   */\n  public setTime( time: number ): void {\n    this.__frame = Math.floor( this.__fps * time );\n    this.__time = this.__frame / this.__fps;\n  }\n}\n","import { Clock } from './Clock';\n\n/**\n * Class that deals with time.\n * This is \"realtime\" type clock, the time goes on as real world.\n */\nexport class ClockRealtime extends Clock {\n  /**\n   * \"You set the time manually to `__rtTime` when it's `__rtDate`.\"\n   */\n  private __rtTime = 0.0;\n\n  /**\n   * \"You set the time manually to `__rtTime` when it's `__rtDate`.\"\n   */\n  private __rtDate: number = performance.now();\n\n  /**\n   * The clock is realtime. yeah.\n   */\n  public get isRealtime(): boolean { return true; }\n\n  /**\n   * Update the clock. Time is calculated based on time in real world.\n   */\n  public update(): void {\n    const now = performance.now();\n\n    if ( this.__isPlaying ) {\n      const prevTime = this.__time;\n      const deltaDate = ( now - this.__rtDate );\n      this.__time = this.__rtTime + deltaDate / 1000.0;\n      this.__deltaTime = this.time - prevTime;\n    } else {\n      this.__rtTime = this.time;\n      this.__rtDate = now;\n      this.__deltaTime = 0.0;\n    }\n  }\n\n  /**\n   * Set the time manually.\n   * @param time Time\n   */\n  public setTime( time: number ): void {\n    this.__time = time;\n    this.__rtTime = this.time;\n    this.__rtDate = performance.now();\n  }\n}\n","import type { RawRGB } from './RawRGB';\n\n/**\n * Converts the input color in Atari-ST color palette format to a {@link RawRGB}.\n *\n * @param stColor A color in Atari-ST format\n */\nexport function colorFromAtariST( stColor: number ): RawRGB {\n  return [\n    ( stColor >> 8 & 7 ) / 7.0,\n    ( stColor >> 4 & 7 ) / 7.0,\n    ( stColor & 7 ) / 7.0,\n  ];\n}\n","/**\n * `lerp`, or `mix`\n */\nexport function lerp( a: number, b: number, x: number ): number {\n  return a + ( b - a ) * x;\n}\n\n/**\n * `clamp`\n */\nexport function clamp( x: number, l: number, h: number ): number {\n  return Math.min( Math.max( x, l ), h );\n}\n\n/**\n * `clamp( x, 0.0, 1.0 )`\n */\nexport function saturate( x: number ): number {\n  return clamp( x, 0.0, 1.0 );\n}\n\n/**\n * Transform a value from input range to output range.\n */\nexport function range( x: number, x0: number, x1: number, y0: number, y1: number ): number {\n  return ( ( x - x0 ) * ( y1 - y0 ) / ( x1 - x0 ) + y0 );\n}\n\n/**\n * `smoothstep` but not smooth\n */\nexport function linearstep( a: number, b: number, x: number ): number {\n  return saturate( ( x - a ) / ( b - a ) );\n}\n\n/**\n * world famous `smoothstep` function\n */\nexport function smoothstep( a: number, b: number, x: number ): number {\n  const t = linearstep( a, b, x );\n  return t * t * ( 3.0 - 2.0 * t );\n}\n\n/**\n * `smoothstep` but more smooth\n */\nexport function smootherstep( a: number, b: number, x: number ): number {\n  const t = linearstep( a, b, x );\n  return t * t * t * ( t * ( t * 6.0 - 15.0 ) + 10.0 );\n}\n\n/**\n * `smoothstep` but WAY more smooth\n */\nexport function smootheststep( a: number, b: number, x: number ): number {\n  const t = linearstep( a, b, x );\n  return t * t * t * t * ( t * ( t * ( -20.0 * t + 70.0 ) - 84.0 ) + 35.0 );\n}\n","import { RawRGB } from './RawRGB';\nimport { lerp } from '../math/utils';\n\n/**\n * Convert a color from HSV to RGB.\n * Each component of the HSV must be given in [0 - 1] range.\n *\n * Ref: https://en.wikipedia.org/wiki/HSV_color_space\n */\nexport function colorHSV2RGB( [ h, s, v ]: [ number, number, number ] ): RawRGB {\n  const ht = h % 1.0 * 6.0;\n\n  return [ 0.0, 4.0, 2.0 ].map( ( p ) => {\n    const colH = Math.min( Math.max( (\n      Math.abs( ( ht + p ) % 6.0 - 3.0 ) - 1.0\n    ), 0.0 ), 1.0 );\n    const colS = lerp( 1.0, colH, s );\n    return v * colS;\n  } ) as RawRGB;\n}\n","import { saturate } from '../math/utils';\nimport type { RawRGB } from './RawRGB';\n\n/**\n * Converts the input color to hex representation (e.g. #7f7f7f)\n * @param color color in {@link RawRGB}\n */\nexport function colorToHex( color: RawRGB ): string {\n  return '#' + color.map( ( v ) => (\n    ( '0' + ( Math.round( saturate( v ) * 255.0 ) ).toString( 16 ) ).slice( -2 )\n  ) ).join( '' );\n}\n","/**\n * Return a dot product of given two vectors.\n */\nexport function vecDot<T extends number[]>( vecA: T, vecB: T ): number {\n  return vecA.reduce( ( sum, v, i ) => sum + v * vecB[ i ], 0.0 );\n}\n","/*!\n * Turbo colormap\n *\n * Copyright 2019 Google LLC. (Apache-2.0)\n *\n * https://gist.github.com/mikhailov-work/0d177465a8151eb6ede1768d51d476c7\n */\n\nimport { RawRGB } from './RawRGB';\nimport { saturate } from '../math/utils';\nimport { vecDot } from '../math/vec/vecDot';\n\n/**\n * Generate a turbo gradient.\n *\n * Ref: https://gist.github.com/mikhailov-work/0d177465a8151eb6ede1768d51d476c7\n */\nexport function colorTurbo( x: number ): RawRGB {\n  const kr = [\n    0.13572138, 4.61539260, -42.66032258,\n    132.13108234, -152.94239396, 59.28637943,\n  ];\n  const kg = [\n    0.09140261, 2.19418839, 4.84296658,\n    -14.18503333, 4.27729857, 2.82956604,\n  ];\n  const kb = [\n    0.10667330, 12.64194608, -60.58204836,\n    110.36276771, -89.90310912, 27.34824973,\n  ];\n\n  const xt = saturate( x );\n  const xv = [\n    1.0,\n    xt,\n    xt * xt,\n    xt * xt * xt,\n    xt * xt * xt * xt,\n    xt * xt * xt * xt * xt,\n  ];\n\n  const col = [\n    saturate( vecDot( kr, xv ) ),\n    saturate( vecDot( kg, xv ) ),\n    saturate( vecDot( kb, xv ) ),\n  ];\n\n  return col as RawRGB;\n}\n","import type { RawRGB } from './RawRGB';\n\n/**\n * EOTF of Rec.709 a.k.a. sRGB-to-Linear\n */\nexport function eotfRec709( value: RawRGB ): RawRGB {\n  return value.map( ( v ) => (\n    v < 0.081\n      ? v / 4.5\n      : Math.pow( ( v + 0.099 ) / 1.099, 1.0 / 0.45 )\n  ) ) as RawRGB;\n}\n","import type { RawRGB } from './RawRGB';\n\n/**\n * OETF of Rec.709 a.k.a. Linear-to-sRGB\n */\nexport function oetfRec709( luminance: RawRGB ): RawRGB {\n  return luminance.map( ( l ) => (\n    l < 0.018\n      ? 4.5 * l\n      : 1.099 * Math.pow( l, 0.45 ) - 0.099\n  ) ) as RawRGB;\n}\n","import { RawDagEdge } from './RawDagEdge';\n\n/**\n * Return all parent sources the specified destination has.\n * @param edges An array of dag edge\n * @param destination The target destination\n *\n * See also: {@link dagEdgesChildren}\n */\nexport function dagEdgesParents<T>( edges: RawDagEdge<T>[], destination: T ): T[] {\n  return edges\n    .filter( ( edge ) => edge[ 1 ] === destination )\n    .map( ( edge ) => edge[ 0 ] );\n}\n","import { dagEdgesParents } from './dagEdgesParents';\nimport { traverse } from '../algorithm/traverse';\nimport type { RawDagEdge } from './RawDagEdge';\n\n/**\n * Return all ancestor sources the specified destination has.\n * @param edges An array of dag edge\n * @param destination The target destination\n *\n * See also: {@link dagEdgesChildren}\n */\nexport function dagEdgesAncestors<T>( edges: RawDagEdge<T>[], destination: T ): T[] {\n  const ancestors = new Set<T>();\n\n  traverse( destination, ( node ) => {\n    const parents = dagEdgesParents( edges, node );\n    parents.map( ( parent ) => ancestors.add( parent ) );\n    return parents;\n  } );\n\n  return Array.from( ancestors );\n}\n","import { RawDagEdge } from './RawDagEdge';\n\n/**\n * Return all children destinations the specified source has.\n * @param edges An array of dag edge\n * @param source The target source\n *\n * See also: {@link dagEdgesDescendant}\n */\nexport function dagEdgesChildren<T>( edges: RawDagEdge<T>[], source: T ): T[] {\n  return edges\n    .filter( ( edge ) => edge[ 0 ] === source )\n    .map( ( edge ) => edge[ 1 ] );\n}\n","import { dagEdgesChildren } from './dagEdgesChildren';\nimport { traverse } from '../algorithm/traverse';\nimport type { RawDagEdge } from './RawDagEdge';\n\n/**\n * Return all descendant destinations the specified source has.\n * @param edges An array of dag edge\n * @param source The target source\n *\n * See also: {@link dagEdgesChildren}\n */\nexport function dagEdgesDescendants<T>( edges: RawDagEdge<T>[], source: T ): T[] {\n  const descendants = new Set<T>();\n\n  traverse( source, ( node ) => {\n    const children = dagEdgesChildren( edges, node );\n    children.map( ( child ) => descendants.add( child ) );\n    return children;\n  } );\n\n  return Array.from( descendants );\n}\n","import { RawDagEdge } from './RawDagEdge';\n\n/**\n * Return first parent source the specified destination has.\n * If it can't find a parent, it will return `null` instead.\n *\n * @param edges An array of dag edge\n * @param destination The target destination\n *\n * See also: {@link dagEdgesParents}\n */\nexport function dagEdgesParent<T>( edges: RawDagEdge<T>[], destination: T ): T | null {\n  return edges.find( ( edge ) => edge[ 1 ] === destination )?.[ 0 ] ?? null;\n}\n","import { RawDagEdge } from './RawDagEdge';\nimport { dagEdgesParent } from './dagEdgesParent';\n\n/**\n * Resolve dag dependency relationship and give you a correct order.\n *\n * @param edges An array of dag edges\n * @param nodes An array of dag nodes\n */\nexport function dagEdgesResolve<T>( edges: RawDagEdge<T>[], nodes: T[] ): T[] {\n  const order: T[] = [];\n\n  const nodeSet = new Set( nodes );\n  let tempEdges = edges.concat();\n\n  while ( tempEdges.length > 0 ) {\n    nodeSet.forEach( ( node ) => {\n      // is this an entrypoint?\n      const hasParents = dagEdgesParent( tempEdges, node ) != null;\n\n      if ( !hasParents ) {\n        nodeSet.delete( node );\n        order.push( node );\n\n        // delete the structure of tempEdges from entrypoint side\n        tempEdges = tempEdges.filter( ( [ src ] ) => ( src !== node ) );\n      }\n    } );\n  }\n\n  return order.concat( Array.from( nodeSet ) );\n  //                   ^^^^^^^^^^^^^^^^^^^^^ terminator nodes\n}\n","// yoinked from https://github.com/mapbox/tiny-sdf (BSD 2-Clause)\n// implements http://people.cs.uchicago.edu/~pff/papers/dt.pdf\n\n/**\n * Compute a one dimensional edt from the source data.\n * Returning distance will be squared.\n * Intended to be used internally in {@link edt2d}.\n *\n * @param data Data of the source\n * @param offset Offset of the source from beginning\n * @param stride Stride of the source\n * @param length Length of the source\n */\nexport function edt1d(\n  data: Float32Array,\n  offset: number,\n  stride: number,\n  length: number\n): void {\n  // index of rightmost parabola in lower envelope\n  let k = 0;\n\n  // locations of parabolas in lower envelope\n  const v = new Float32Array( length );\n  v[ 0 ] = 0.0;\n\n  // locations of boundaries between parabolas\n  const z = new Float32Array( length + 1 );\n  z[ 0 ] = -Infinity;\n  z[ 1 ] = Infinity;\n\n  // create a straight array of input data\n  const f = new Float32Array( length );\n  for ( let q = 0; q < length; q ++ ) {\n    f[ q ] = data[ offset + q * stride ];\n  }\n\n  // compute lower envelope\n  for ( let q = 1; q < length; q ++ ) {\n    let s = 0.0;\n\n    while ( 0 <= k ) {\n      s = ( f[ q ] + q * q - f[ v[ k ] ] - v[ k ] * v[ k ] ) / ( 2.0 * q - 2.0 * v[ k ] );\n      if ( s <= z[ k ] ) {\n        k --;\n      } else {\n        break;\n      }\n    }\n\n    k ++;\n    v[ k ] = q;\n    z[ k ] = s;\n    z[ k + 1 ] = Infinity;\n  }\n\n  k = 0;\n\n  // fill in values of distance transform\n  for ( let q = 0; q < length; q ++ ) {\n    while ( z[ k + 1 ] < q ) { k ++; }\n    const qSubVK = q - v[ k ];\n    data[ offset + q * stride ] = f[ v[ k ] ] + qSubVK * qSubVK;\n  }\n}\n\n/**\n * Compute a two dimensional edt from the source data.\n * Returning distance will be squared.\n *\n * @param data Data of the source.\n * @param width Width of the source.\n * @param height Height of the source.\n */\nexport function edt2d(\n  data: Float32Array,\n  width: number,\n  height: number\n): void {\n  for ( let x = 0; x < width; x ++ ) {\n    edt1d( data, x, width, height );\n  }\n\n  for ( let y = 0; y < height; y ++ ) {\n    edt1d( data, y * width, 1, width );\n  }\n}\n","import { lerp } from '../math/utils';\n\n/**\n * Do exp smoothing\n */\nexport class ExpSmooth {\n  public factor = 10.0;\n  public target = 0.0;\n  public value = 0.0;\n\n  public update( deltaTime: number ): number {\n    this.value = lerp( this.target, this.value, Math.exp( -this.factor * deltaTime ) );\n    return this.value;\n  }\n}\n","export class Pool<T> {\n  public array: T[];\n\n  public index = 0;\n\n  public get current(): T {\n    return this.array[ this.index ];\n  }\n\n  public constructor( array: T[] ) {\n    this.array = array;\n  }\n\n  public next(): T {\n    this.index = ( this.index + 1 ) % this.array.length;\n    return this.current;\n  }\n}\n","import { Pool } from '../Pool/Pool';\n\nexport class GPUTimer {\n  public queries: Pool<WebGLQuery>;\n  public stack: Promise<number>[];\n  public ext: any;\n  public readonly gl: WebGL2RenderingContext;\n\n  private __loopTasks: Set<() => void>;\n\n  public static isSupported( gl: WebGLRenderingContext | WebGL2RenderingContext ): boolean {\n    return new Set( gl.getSupportedExtensions() ).has( 'EXT_disjoint_timer_query_webgl2' );\n  }\n\n  public constructor( gl: WebGL2RenderingContext ) {\n    this.gl = gl;\n\n    const queries = new Array( 1024 ).fill( 1 ).map( () => gl.createQuery()! );\n    this.queries = new Pool( queries );\n\n    this.stack = [];\n\n    this.ext = gl.getExtension( 'EXT_disjoint_timer_query_webgl2' );\n\n    this.__loopTasks = new Set();\n\n    // loop\n    const update = (): void => {\n      this.update();\n      requestAnimationFrame( update );\n    };\n    update();\n  }\n\n  public update(): void {\n    Array.from( this.__loopTasks ).forEach( ( task ) => task() );\n  }\n\n  public async measure( func: () => void ): Promise<number> {\n    const { gl } = this;\n\n    if ( this.stack.length !== 0 ) {\n      gl.endQuery( this.ext.TIME_ELAPSED_EXT );\n      const promiseFinishingPrev = this.check( this.queries.current );\n\n      this.stack = this.stack.map( async ( promiseAccum ) => {\n        return ( await promiseAccum ) + ( await promiseFinishingPrev );\n      } );\n    }\n\n    this.stack.push( Promise.resolve( 0.0 ) );\n\n    gl.beginQuery( this.ext.TIME_ELAPSED_EXT, this.queries.next() );\n\n    func();\n\n    gl.endQuery( this.ext.TIME_ELAPSED_EXT );\n\n    const promiseAccum = this.stack.pop()!;\n    const promiseThis = this.check( this.queries.current );\n\n    if ( this.stack.length !== 0 ) {\n      this.stack = this.stack.map( async ( promiseAccum ) => {\n        return ( await promiseAccum ) + ( await promiseThis );\n      } );\n\n      gl.beginQuery( this.ext.TIME_ELAPSED_EXT, this.queries.next() );\n    }\n\n    return ( await promiseAccum ) + ( await promiseThis );\n  }\n\n  public check( query: WebGLQuery ): Promise<number> {\n    const { gl } = this;\n\n    return new Promise( ( resolve ) => {\n      const task = (): void => {\n        const isAvailable = gl.getQueryParameter( query, gl.QUERY_RESULT_AVAILABLE );\n\n        if ( isAvailable ) {\n          this.__loopTasks.delete( task );\n          resolve( gl.getQueryParameter( query, gl.QUERY_RESULT ) * 0.001 * 0.001 );\n        }\n      };\n\n      this.__loopTasks.add( task );\n    } );\n  }\n}\n","/**\n * Useful for tap tempo\n * See also: {@link HistoryMeanCalculator}\n */\nexport class HistoryMeanCalculator {\n  private __recalcForEach = 0;\n  private __countUntilRecalc = 0;\n  private __history: number[] = [];\n  private __index = 0;\n  private __length: number;\n  private __count = 0;\n  private __cache = 0;\n\n  public constructor( length: number ) {\n    this.__length = length;\n    this.__recalcForEach = length;\n    for ( let i = 0; i < length; i ++ ) {\n      this.__history[ i ] = 0;\n    }\n  }\n\n  public get mean(): number {\n    const count = Math.min( this.__count, this.__length );\n    return count === 0 ? 0.0 : this.__cache / count;\n  }\n\n  public get recalcForEach(): number {\n    return this.__recalcForEach;\n  }\n\n  public set recalcForEach( value: number ) {\n    const delta = value - this.__recalcForEach;\n    this.__recalcForEach = value;\n    this.__countUntilRecalc = Math.max( 0, this.__countUntilRecalc + delta );\n  }\n\n  public reset(): void {\n    this.__index = 0;\n    this.__count = 0;\n    this.__cache = 0;\n    this.__countUntilRecalc = 0;\n    for ( let i = 0; i < this.__length; i ++ ) {\n      this.__history[ i ] = 0;\n    }\n  }\n\n  public push( value: number ): void {\n    const prev = this.__history[ this.__index ];\n    this.__history[ this.__index ] = value;\n    this.__count ++;\n    this.__index = ( this.__index + 1 ) % this.__length;\n\n    if ( this.__countUntilRecalc === 0 ) {\n      this.recalc();\n    } else {\n      this.__countUntilRecalc --;\n      this.__cache -= prev;\n      this.__cache += value;\n    }\n  }\n\n  public recalc(): void {\n    this.__countUntilRecalc = this.__recalcForEach;\n    const sum = this.__history\n      .slice( 0, Math.min( this.__count, this.__length ) )\n      .reduce( ( sum, v ) => sum + v, 0 );\n    this.__cache = sum;\n  }\n}\n","import { binarySearch } from '../algorithm/binarySearch';\n\n/**\n * Useful for fps calc\n * See also: {@link HistoryMeanCalculator}\n */\nexport class HistoryPercentileCalculator {\n  private __history: number[] = [];\n  private __sorted: number[] = [];\n  private __index = 0;\n  private readonly __length: number;\n\n  public constructor( length: number ) {\n    this.__length = length;\n  }\n\n  public get median(): number {\n    return this.percentile( 50.0 );\n  }\n\n  public percentile( percentile: number ): number {\n    if ( this.__history.length === 0 ) { return 0.0; }\n    return this.__sorted[ Math.round( percentile * 0.01 * ( this.__history.length - 1 ) ) ];\n  }\n\n  public reset(): void {\n    this.__index = 0;\n    this.__history = [];\n    this.__sorted = [];\n  }\n\n  public push( value: number ): void {\n    const prev = this.__history[ this.__index ];\n    this.__history[ this.__index ] = value;\n    this.__index = ( this.__index + 1 ) % this.__length;\n\n    // remove the prev from sorted array\n    if ( this.__sorted.length === this.__length ) {\n      const prevIndex = binarySearch( this.__sorted, prev );\n      this.__sorted.splice( prevIndex, 1 );\n    }\n\n    const index = binarySearch( this.__sorted, value );\n    this.__sorted.splice( index, 0, value );\n  }\n}\n","import { HistoryPercentileCalculator } from './HistoryPercentileCalculator';\n\n/**\n * @deprecated It's actually just a special case of {@link HistoryPercentileCalculator}\n */\nexport class HistoryMedianCalculator extends HistoryPercentileCalculator {\n  public constructor( length: number ) {\n    super( length );\n    console.warn( 'HistoryMedianCalculator: Deprecated. Use HistoryPercentileCalculator instead' );\n  }\n}\n","export class MapOfSet<K, V> {\n  public readonly map: Map<K, Set<V>>;\n\n  public constructor() {\n    this.map = new Map();\n  }\n\n  public get( key: K ): Set<V> {\n    return this.map.get( key ) ?? new Set();\n  }\n\n  public add( key: K, value: V ): void {\n    let set = this.map.get( key );\n    if ( set == null ) {\n      set = new Set();\n      this.map.set( key, set );\n    }\n    set.add( value );\n  }\n}\n","/**\n * Return a vector with the absolute of each component of the given vector.\n */\nexport function vecAbs<T extends number[]>( vec: T ): T {\n  return vec.map( ( v ) => Math.abs( v ) ) as T;\n}\n","/**\n * Return a sum of vectors.\n */\nexport function vecAdd<T extends number[]>( ...vecs: T[] ): T {\n  if ( vecs.length < 2 ) {\n    return vecs[ 0 ];\n  }\n\n  const a = vecs.shift()!;\n  const b = vecAdd( ...vecs );\n\n  return a.map( ( v, i ) => v + b[ i ] ) as T;\n}\n","/**\n * Divide a vector by a vector.\n */\nexport function vecDivide<T extends number[]>( vecA: T, vecB: T ): T {\n  return vecA.map( ( v, i ) => v / vecB[ i ] ) as T;\n}\n","/**\n * Return an euclidean length of given vector.\n */\nexport function vecLength<T extends number[]>( vec: T ): number {\n  return Math.sqrt( vec.reduce( ( sum, v ) => sum + v * v, 0.0 ) );\n}\n","/**\n * Return an squared euclidean length of given vector.\n */\nexport function vecLengthSq<T extends number[]>( vec: T ): number {\n  return vec.reduce( ( sum, v ) => sum + v * v, 0.0 );\n}\n","/**\n * Return a manhattan length of given vector.\n */\nexport function vecManhattanLength<T extends number[]>( vec: T ): number {\n  return vec.reduce( ( sum, v ) => sum + Math.abs( v ), 0.0 );\n}\n","/**\n * Return a product of vectors.\n */\nexport function vecMultiply<T extends number[]>( ...vecs: T[] ): T {\n  if ( vecs.length < 2 ) {\n    return vecs[ 0 ];\n  }\n\n  const a = vecs.shift()!;\n  const b = vecMultiply( ...vecs );\n\n  return a.map( ( v, i ) => v * b[ i ] ) as T;\n}\n","/**\n * Negate a vector.\n */\nexport function vecNeg<T extends number[]>( vec: T ): T {\n  return vec.map( ( v ) => -v ) as T;\n}\n","/**\n * Scale the given vector by a scalar.\n */\nexport function vecScale<T extends number[]>( vec: T, scalar: number ): T {\n  return vec.map( ( v ) => v * scalar ) as T;\n}\n","import { vecLength } from './vecLength';\nimport { vecScale } from './vecScale';\n\n/**\n * Normalize given vector.\n * If the length of given vector is 0.0, it will return a zero vector instead.\n */\nexport function vecNormalize<T extends number[]>( vec: T ): T {\n  const len = vecLength( vec );\n  const invLen = len === 0.0 ? 0.0 : 1.0 / len;\n  return vecScale( vec, invLen );\n}\n","/**\n * Subtract a vector from a vector.\n */\nexport function vecSub<T extends number[]>( vecA: T, vecB: T ): T {\n  return vecA.map( ( v, i ) => v - vecB[ i ] ) as T;\n}\n","import { vecAbs } from './vecAbs';\nimport { vecAdd } from './vecAdd';\nimport { vecDivide } from './vecDivide';\nimport { vecDot } from './vecDot';\nimport { vecLength } from './vecLength';\nimport { vecLengthSq } from './vecLengthSq';\nimport { vecManhattanLength } from './vecManhattanLength';\nimport { vecMultiply } from './vecMultiply';\nimport { vecNeg } from './vecNeg';\nimport { vecNormalize } from './vecNormalize';\nimport { vecScale } from './vecScale';\nimport { vecSub } from './vecSub';\n\n/**\n * A Vector.\n */\nexport abstract class Vector<T extends Vector<T>> {\n  public abstract elements: number[];\n\n  /**\n   * The length of this.\n   * a.k.a. `magnitude`\n   */\n  public get length(): number {\n    return vecLength( this.elements );\n  }\n\n  /**\n   * The squared length of this.\n   */\n  public get lengthSq(): number {\n    return vecLengthSq( this.elements );\n  }\n\n  /**\n   * The manhattan length of this.\n   */\n  public get manhattanLength(): number {\n    return vecManhattanLength( this.elements );\n  }\n\n  /**\n   * A normalized Vector3 of this.\n   */\n  public get normalized(): T {\n    return this.__new( vecNormalize( this.elements ) );\n  }\n\n  /**\n   * This but negated.\n   */\n  public get negated(): T {\n    return this.__new( vecNeg( this.elements ) );\n  }\n\n  /**\n   * This but each component is the absolute.\n   */\n  public get abs(): T {\n    return this.__new( vecAbs( this.elements ) );\n  }\n\n  /**\n   * Clone this.\n   */\n  public clone(): T {\n    return this.__new( this.elements.concat() );\n  }\n\n  /**\n   * Add one or more Vector into this.\n   * @param vectors Other Vectors\n   */\n  public add( ...vectors: T[] ): T {\n    return this.__new( vecAdd( this.elements, ...vectors.map( ( v ) => v.elements ) ) );\n  }\n\n  /**\n   * Substract this from another Vector.\n   * @param v Another vector\n   */\n  public sub( vector: T ): T {\n    return this.__new( vecSub( this.elements, vector.elements ) );\n  }\n\n  /**\n   * Multiply one or more Vector with this.\n   * @param vectors Other Vectors\n   */\n  public multiply( ...vectors: T[] ): T {\n    return this.__new( vecMultiply( this.elements, ...vectors.map( ( v ) => v.elements ) ) );\n  }\n\n  /**\n   * Divide this from another Vector.\n   * @param vector Another Vector\n   */\n  public divide( vector: T ): T {\n    return this.__new( vecDivide( this.elements, vector.elements ) );\n  }\n\n  /**\n   * Scale this by scalar.\n   * a.k.a. `multiplyScalar`\n   * @param scalar A scalar\n   */\n  public scale( scalar: number ): T {\n    return this.__new( vecScale( this.elements, scalar ) );\n  }\n\n  /**\n   * Dot two Vectors.\n   * @param vector Another vector\n   */\n  public dot( vector: T ): number {\n    return vecDot( this.elements, vector.elements );\n  }\n\n  protected abstract __new( v: number[] ): T;\n}\n","import type { RawMatrix4 } from '../mat4';\nimport type { RawVector4 } from './RawVector4';\n\n/**\n * Multiply a vec4 by a mat4.\n */\nexport function vec4ApplyMatrix4( v: RawVector4, m: RawMatrix4 ): RawVector4 {\n  return [\n    m[ 0 ] * v[ 0 ] + m[ 4 ] * v[ 1 ] + m[ 8 ] * v[ 2 ] + m[ 12 ] * v[ 3 ],\n    m[ 1 ] * v[ 0 ] + m[ 5 ] * v[ 1 ] + m[ 9 ] * v[ 2 ] + m[ 13 ] * v[ 3 ],\n    m[ 2 ] * v[ 0 ] + m[ 6 ] * v[ 1 ] + m[ 10 ] * v[ 2 ] + m[ 14 ] * v[ 3 ],\n    m[ 3 ] * v[ 0 ] + m[ 7 ] * v[ 1 ] + m[ 11 ] * v[ 2 ] + m[ 15 ] * v[ 3 ],\n  ];\n}\n","import { vec4ApplyMatrix4 } from '../vec4/vec4ApplyMatrix4';\nimport { vecScale } from '../vec/vecScale';\nimport type { RawMatrix4 } from '../mat4/RawMatrix4';\nimport type { RawVector3 } from './RawVector3';\n\n/**\n * Apply a vec3 (with an implicit 1 in the 4th dimension) a mat4.\n */\nexport function vec3ApplyMatrix4( v: RawVector3, m: RawMatrix4 ): RawVector3 {\n  const vec4 = vec4ApplyMatrix4( [ ...v, 1 ], m );\n  const xyz: RawVector3 = [ vec4[ 0 ], vec4[ 1 ], vec4[ 2 ] ];\n  const w = vec4[ 3 ];\n  return vecScale( xyz, 1.0 / w );\n}\n","import type { RawQuaternion } from './RawQuaternion';\n\n/**\n * Return an inverse of a quaternion.\n */\nexport function quatInverse( quat: RawQuaternion ): RawQuaternion {\n  return [ -quat[ 0 ], -quat[ 1 ], -quat[ 2 ], quat[ 3 ] ];\n}\n","import type { RawQuaternion } from './RawQuaternion';\n\n/**\n * Return a multiplication result of quaternions.\n */\nexport function quatMultiply( ...quats: RawQuaternion[] ): RawQuaternion {\n  if ( quats.length < 2 ) {\n    return quats[ 0 ];\n  }\n\n  const a = quats.shift()!;\n  const b = quatMultiply( ...quats );\n\n  return [\n    a[ 3 ] * b[ 0 ] + a[ 0 ] * b[ 3 ] + a[ 1 ] * b[ 2 ] - a[ 2 ] * b[ 1 ],\n    a[ 3 ] * b[ 1 ] - a[ 0 ] * b[ 2 ] + a[ 1 ] * b[ 3 ] + a[ 2 ] * b[ 0 ],\n    a[ 3 ] * b[ 2 ] + a[ 0 ] * b[ 1 ] - a[ 1 ] * b[ 0 ] + a[ 2 ] * b[ 3 ],\n    a[ 3 ] * b[ 3 ] - a[ 0 ] * b[ 0 ] - a[ 1 ] * b[ 1 ] - a[ 2 ] * b[ 2 ],\n  ];\n}\n","import { quatInverse } from '../quat/quatInverse';\nimport { quatMultiply } from '../quat/quatMultiply';\nimport type { RawQuaternion } from '../quat/RawQuaternion';\nimport type { RawVector3 } from './RawVector3';\n\n/**\n * Apply a vec3 (with an implicit 1 in the 4th dimension) a quaternion.\n */\nexport function vec3ApplyQuaternion( vec: RawVector3, quat: RawQuaternion ): RawVector3 {\n  const p: RawQuaternion = [ ...vec, 0.0 ];\n  const r = quatInverse( quat );\n  const res = quatMultiply( quat, p, r );\n  res.pop();\n  return res as unknown as RawVector3;\n}\n","import type { RawVector3 } from './RawVector3';\n\n/**\n * Return a cross product of two vec3s.\n */\nexport function vec3Cross( vecA: RawVector3, vecB: RawVector3 ): RawVector3 {\n  return [\n    vecA[ 1 ] * vecB[ 2 ] - vecA[ 2 ] * vecB[ 1 ],\n    vecA[ 2 ] * vecB[ 0 ] - vecA[ 0 ] * vecB[ 2 ],\n    vecA[ 0 ] * vecB[ 1 ] - vecA[ 1 ] * vecB[ 0 ],\n  ];\n}\n","import { vec3Cross } from './vec3Cross';\nimport { vecDot } from '../vec/vecDot';\nimport { vecNeg } from '../vec/vecNeg';\nimport { vecNormalize } from '../vec/vecNormalize';\nimport { vecScale } from '../vec/vecScale';\nimport { vecSub } from '../vec/vecSub';\nimport type { RawVector3 } from './RawVector3';\n\n/**\n * Return a tangent which is orthogonal to normal.\n * If binormal is specified, it is also returned and it's orthogonal to both normal and tangent.\n */\nexport function vec3OrthoNormalize(\n  normal: RawVector3,\n  tangent: RawVector3 = [ 0.0, 1.0, 0.0 ],\n  binormal?: RawVector3,\n): {\n    normal: RawVector3,\n    tangent: RawVector3,\n    binormal: RawVector3,\n  } {\n  const n = vecNormalize( normal );\n  let t = vecNormalize( tangent );\n\n  let dotNT = vecDot( n, t );\n\n  if ( dotNT === 1.0 ) {\n    if ( Math.abs( n[ 1 ] ) > Math.abs( n[ 2 ] ) ) {\n      t = [ 0.0, 0.0, 1.0 ];\n    } else {\n      t = [ 0.0, 1.0, 0.0 ];\n    }\n    dotNT = vecDot( n, t );\n  }\n\n  t = vecNormalize( vecSub( t, vecScale( n, dotNT ) ) );\n\n  let b = vec3Cross( t, n );\n  if ( binormal && vecDot( b, binormal ) < 0.0 ) {\n    b = vecNeg( b );\n  }\n\n  return {\n    normal: n,\n    tangent: t,\n    binormal: b,\n  };\n}\n","import { Matrix4 } from '../mat4/Matrix4';\nimport { Quaternion } from '../quat/Quaternion';\nimport { Vector } from '../vec/Vector';\nimport { vec3ApplyMatrix4 } from './vec3ApplyMatrix4';\nimport { vec3ApplyQuaternion } from './vec3ApplyQuaternion';\nimport { vec3Cross } from './vec3Cross';\nimport { vec3OrthoNormalize } from './vec3OrthoNormalize';\nimport type { RawVector3 } from './RawVector3';\n\n/**\n * A Vector3.\n */\nexport class Vector3 extends Vector<Vector3> {\n  public elements: RawVector3;\n\n  public constructor( v: RawVector3 = [ 0.0, 0.0, 0.0 ] ) {\n    super();\n    this.elements = v;\n  }\n\n  /**\n   * An x component of this.\n   */\n  public get x(): number {\n    return this.elements[ 0 ];\n  }\n\n  public set x( x: number ) {\n    this.elements[ 0 ] = x;\n  }\n\n  /**\n   * An y component of this.\n   */\n  public get y(): number {\n    return this.elements[ 1 ];\n  }\n\n  public set y( y: number ) {\n    this.elements[ 1 ] = y;\n  }\n\n  /**\n   * An z component of this.\n   */\n  public get z(): number {\n    return this.elements[ 2 ];\n  }\n\n  public set z( z: number ) {\n    this.elements[ 2 ] = z;\n  }\n\n  public toString(): string {\n    return `Vector3( ${ this.x.toFixed( 3 ) }, ${ this.y.toFixed( 3 ) }, ${ this.z.toFixed( 3 ) } )`;\n  }\n\n  /**\n   * Return a cross of this and another Vector3.\n   * @param vector Another vector\n   */\n  public cross( vector: Vector3 ): Vector3 {\n    return new Vector3( vec3Cross( this.elements, vector.elements ) );\n  }\n\n  /**\n   * Rotate this vector using a Quaternion.\n   * @param quaternion A quaternion\n   */\n  public applyQuaternion( quaternion: Quaternion ): Vector3 {\n    return new Vector3( vec3ApplyQuaternion( this.elements, quaternion.elements ) );\n  }\n\n  /**\n   * Multiply this vector (with an implicit 1 in the 4th dimension) by m.\n   */\n  public applyMatrix4( matrix: Matrix4 ): Vector3 {\n    return new Vector3( vec3ApplyMatrix4( this.elements, matrix.elements ) );\n  }\n\n  protected __new( v: RawVector3 ): Vector3 {\n    return new Vector3( v );\n  }\n\n  /**\n   * Vector3( 0.0, 0.0, 0.0 )\n   */\n  public static get zero(): Vector3 {\n    return new Vector3( [ 0.0, 0.0, 0.0 ] );\n  }\n\n  /**\n   * Vector3( 1.0, 0.0, 0.0 )\n   */\n  public static get px(): Vector3 {\n    return new Vector3( [ 1.0, 0.0, 0.0 ] );\n  }\n\n  /**\n   * Vector3( -1.0, 0.0, 0.0 )\n   */\n  public static get nx(): Vector3 {\n    return new Vector3( [ -1.0, 0.0, 0.0 ] );\n  }\n\n  /**\n   * Vector3( 0.0, 1.0, 0.0 )\n   */\n  public static get py(): Vector3 {\n    return new Vector3( [ 0.0, 1.0, 0.0 ] );\n  }\n\n  /**\n   * Vector3( 0.0, -1.0, 0.0 )\n   */\n  public static get ny(): Vector3 {\n    return new Vector3( [ 0.0, -1.0, 0.0 ] );\n  }\n\n  /**\n   * Vector3( 0.0, 0.0, 1.0 )\n   */\n  public static get pz(): Vector3 {\n    return new Vector3( [ 0.0, 0.0, 1.0 ] );\n  }\n\n  /**\n   * Vector3( 0.0, 0.0, -1.0 )\n   */\n  public static get nz(): Vector3 {\n    return new Vector3( [ 0.0, 0.0, -1.0 ] );\n  }\n\n  /**\n   * Vector3( 1.0, 1.0, 1.0 )\n   */\n  public static get one(): Vector3 {\n    return new Vector3( [ 1.0, 1.0, 1.0 ] );\n  }\n\n  /**\n   * Return a tangent which is orthogonal to normal.\n   * If binormal is specified, it is also returned and it's orthogonal to both normal and tangent.\n   */\n  public static orthoNormalize( normal: Vector3, tangent: Vector3, binormal: Vector3 ): {\n    normal: Vector3,\n    tangent: Vector3,\n    binormal: Vector3,\n  } {\n    const result = vec3OrthoNormalize( normal.elements, tangent.elements, binormal.elements );\n    return {\n      normal: new Vector3( result.normal ),\n      tangent: new Vector3( result.tangent ),\n      binormal: new Vector3( result.binormal ),\n    };\n  }\n}\n","import type { RawBox3 } from './RawBox3';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Test if given point is contained in given box or not.\n * @param box A box\n * @param point A point\n */\nexport function box3ContainsPoint( box: RawBox3, point: RawVector3 ): boolean {\n  return (\n    box[ 0 ][ 0 ] <= point[ 0 ] &&\n    box[ 1 ][ 0 ] >= point[ 0 ] &&\n    box[ 0 ][ 1 ] <= point[ 1 ] &&\n    box[ 1 ][ 1 ] >= point[ 1 ] &&\n    box[ 0 ][ 2 ] <= point[ 2 ] &&\n    box[ 1 ][ 2 ] >= point[ 2 ]\n  );\n}\n","import { Vector3 } from '../vec3/Vector3';\nimport { box3ContainsPoint } from './box3ContainsPoint';\nimport type { RawBox3 } from './RawBox3';\n\n/**\n * A 3D box.\n */\nexport class Box3 {\n  public min: Vector3;\n  public max: Vector3;\n\n  public constructor( min: Vector3 = Vector3.zero, max: Vector3 = Vector3.zero ) {\n    this.min = min;\n    this.max = max;\n  }\n\n  /**\n   * Itself but {@link RawBox3} form.\n   */\n  public get raw(): RawBox3 {\n    return [ this.min.elements, this.max.elements ];\n  }\n\n  /**\n   * Test if given point is contained in the box or not.\n   *\n   * @param point A point\n   */\n  public containsPoint( point: Vector3 ): boolean {\n    return box3ContainsPoint( this.raw, point.elements );\n  }\n\n  /**\n   * Convert {@link RawBox3} to class form.\n   * @param box A {@link RawBox3}\n   */\n  public static fromRaw( box: RawBox3 ): Box3 {\n    return new Box3( new Vector3( box[ 0 ] ), new Vector3( box[ 1 ] ) );\n  }\n}\n","import type { RawMatrix3 } from './RawMatrix3';\nimport type { RawMatrix4 } from '../mat4/RawMatrix4';\n\n/**\n * Who needs this?\n *\n * Intended to be used by {@link mat3CreateNormalMatrix}.\n */\nexport function mat3FromMat4Transpose(\n  source: RawMatrix4,\n): RawMatrix3 {\n  return [\n    source[ 0 ], source[ 4 ], source[ 8 ],\n    source[ 1 ], source[ 5 ], source[ 9 ],\n    source[ 2 ], source[ 6 ], source[ 10 ],\n  ];\n}\n","import { vecScale } from '../vec/vecScale';\nimport type { RawMatrix3 } from './RawMatrix3';\n\n/**\n * Return an inverse of given mat3.\n *\n * Yoinked from Three.js\n */\nexport function mat3Inverse( m: RawMatrix3 ): RawMatrix3 {\n  const\n    n11 = m[ 0 ], n21 = m[ 1 ], n31 = m[ 2 ],\n    n12 = m[ 3 ], n22 = m[ 4 ], n32 = m[ 5 ],\n    n13 = m[ 6 ], n23 = m[ 7 ], n33 = m[ 8 ],\n    t11 = n33 * n22 - n32 * n23,\n    t12 = n32 * n13 - n33 * n12,\n    t13 = n23 * n12 - n22 * n13,\n    det = n11 * t11 + n21 * t12 + n31 * t13;\n\n  if ( det === 0.0 ) { return vecScale( m, 0.0 ); }\n\n  return vecScale( [\n    t11,\n    n31 * n23 - n33 * n21,\n    n32 * n21 - n31 * n22,\n    t12,\n    n33 * n11 - n31 * n13,\n    n31 * n12 - n32 * n11,\n    t13,\n    n21 * n13 - n23 * n11,\n    n22 * n11 - n21 * n12,\n  ], 1.0 / det );\n}\n","import { mat3FromMat4Transpose } from './mat3FromMat4Transpose';\nimport { mat3Inverse } from './mat3Inverse';\nimport type { RawMatrix3 } from './RawMatrix3';\nimport type { RawMatrix4 } from '../mat4/RawMatrix4';\n\n/**\n * Create a normal matrix out of a matrix4.\n *\n * @param matrix A matrix4\n */\nexport function mat3CreateNormalMatrix( m: RawMatrix4 ): RawMatrix3 {\n  return mat3Inverse( mat3FromMat4Transpose( m ) );\n}\n","import type { RawMatrix3 } from './RawMatrix3';\n\nexport function mat3Determinant( m: RawMatrix3 ): number {\n  const\n    n11 = m[ 0 ], n21 = m[ 1 ], n31 = m[ 2 ],\n    n12 = m[ 3 ], n22 = m[ 4 ], n32 = m[ 5 ],\n    n13 = m[ 6 ], n23 = m[ 7 ], n33 = m[ 8 ],\n    t11 = n33 * n22 - n32 * n23,\n    t12 = n32 * n13 - n33 * n12,\n    t13 = n23 * n12 - n22 * n13;\n\n  return n11 * t11 + n21 * t12 + n31 * t13;\n}\n","import type { RawMatrix3 } from './RawMatrix3';\nimport type { RawMatrix4 } from '../mat4/RawMatrix4';\n\n/**\n * Create a matrix3 from matrix4.\n */\nexport function mat3FromMat4(\n  source: RawMatrix4,\n): RawMatrix3 {\n  return [\n    source[ 0 ], source[ 1 ], source[ 2 ],\n    source[ 4 ], source[ 5 ], source[ 6 ],\n    source[ 8 ], source[ 9 ], source[ 10 ],\n  ];\n}\n","import type { RawMatrix3 } from './RawMatrix3';\nimport type { RawQuaternion } from '../quat/RawQuaternion';\n\n/**\n * Convert a quaternion into a matrix3.\n *\n * Yoinked from Three.js.\n *\n * See: https://threejs.org/docs/#api/en/math/Matrix4.makeRotationFromQuaternion\n */\nexport function mat3FromQuaternion( quat: RawQuaternion ): RawMatrix3 {\n  const x = quat[ 0 ];\n  const y = quat[ 1 ];\n  const z = quat[ 2 ];\n  const w = quat[ 3 ];\n\n  return [\n    1.0 - 2.0 * y * y - 2.0 * z * z, 2.0 * x * y + 2.0 * z * w, 2.0 * x * z - 2.0 * y * w,\n    2.0 * x * y - 2.0 * z * w, 1.0 - 2.0 * x * x - 2.0 * z * z, 2.0 * y * z + 2.0 * x * w,\n    2.0 * x * z + 2.0 * y * w, 2.0 * y * z - 2.0 * x * w, 1.0 - 2.0 * x * x - 2.0 * y * y,\n  ];\n}\n","import type { RawMatrix3 } from './RawMatrix3';\n\n/**\n * Return a multiplication result of matrices.\n */\nexport function mat3Multiply( ...mats: RawMatrix3[] ): RawMatrix3 {\n  if ( mats.length < 2 ) {\n    return mats[ 0 ];\n  }\n\n  const a = mats.shift()!;\n  const b = mat3Multiply( ...mats );\n  const\n    a00 = a[ 0 ], a01 = a[ 1 ], a02 = a[ 2 ],\n    a10 = a[ 3 ], a11 = a[ 4 ], a12 = a[ 5 ],\n    a20 = a[ 6 ], a21 = a[ 7 ], a22 = a[ 8 ],\n    b00 = b[ 0 ], b01 = b[ 1 ], b02 = b[ 2 ],\n    b10 = b[ 3 ], b11 = b[ 4 ], b12 = b[ 5 ],\n    b20 = b[ 6 ], b21 = b[ 7 ], b22 = b[ 8 ];\n\n  return [\n    a00 * b00 + a10 * b01 + a20 * b02,\n    a01 * b00 + a11 * b01 + a21 * b02,\n    a02 * b00 + a12 * b01 + a22 * b02,\n\n    a00 * b10 + a10 * b11 + a20 * b12,\n    a01 * b10 + a11 * b11 + a21 * b12,\n    a02 * b10 + a12 * b11 + a22 * b12,\n\n    a00 * b20 + a10 * b21 + a20 * b22,\n    a01 * b20 + a11 * b21 + a21 * b22,\n    a02 * b20 + a12 * b21 + a22 * b22,\n  ];\n}\n","import type { RawMatrix3 } from './RawMatrix3';\n\n/**\n * Transpose a mat3.\n */\nexport function mat3Transpose(\n  source: RawMatrix3,\n): RawMatrix3 {\n  return [\n    source[ 0 ], source[ 3 ], source[ 6 ],\n    source[ 1 ], source[ 4 ], source[ 7 ],\n    source[ 2 ], source[ 5 ], source[ 8 ],\n  ];\n}\n","import { Matrix4 } from '../mat4/Matrix4';\nimport { Quaternion } from '../quat/Quaternion';\nimport { mat3CreateNormalMatrix } from './mat3CreateNormalMatrix';\nimport { mat3Determinant } from './mat3Determinant';\nimport { mat3FromMat4 } from './mat3FromMat4';\nimport { mat3FromQuaternion } from './mat3FromQuaternion';\nimport { mat3Inverse } from './mat3Inverse';\nimport { mat3Multiply } from './mat3Multiply';\nimport { mat3Transpose } from './mat3Transpose';\nimport { vecScale } from '../vec/vecScale';\nimport type { RawMatrix3 } from './RawMatrix3';\n\nconst rawIdentityMatrix3: RawMatrix3 = [\n  1.0, 0.0, 0.0,\n  0.0, 1.0, 0.0,\n  0.0, 0.0, 1.0,\n];\n\n/**\n * A Matrix3.\n */\nexport class Matrix3 {\n  public elements: RawMatrix3;\n\n  public constructor( v: RawMatrix3 = rawIdentityMatrix3 ) {\n    this.elements = v;\n  }\n\n  /**\n   * Itself but transposed.\n   */\n  public get transpose(): Matrix3 {\n    return new Matrix3( mat3Transpose( this.elements ) );\n  }\n\n  /**\n   * Its determinant.\n   */\n  public get determinant(): number {\n    return mat3Determinant( this.elements );\n  }\n\n  /**\n   * Itself but inverted.\n   */\n  public get inverse(): Matrix3 {\n    return new Matrix3( mat3Inverse( this.elements ) );\n  }\n\n  /**\n   * Itself but matrix4.\n   */\n  public get matrix4(): Matrix4 {\n    return Matrix4.fromMatrix3( this );\n  }\n\n  public toString(): string {\n    const m = this.elements.map( ( v ) => v.toFixed( 3 ) );\n    return `Matrix3( ${ m[ 0 ] }, ${ m[ 3 ] }, ${ m[ 6 ] }; ${ m[ 1 ] }, ${ m[ 4 ] }, ${ m[ 7 ] }; ${ m[ 2 ] }, ${ m[ 5 ] }, ${ m[ 8 ] } )`;\n  }\n\n  /**\n   * Clone this.\n   */\n  public clone(): Matrix3 {\n    return new Matrix3( this.elements.concat() as RawMatrix3 );\n  }\n\n  /**\n   * Multiply this Matrix3 by one or more Matrix3s.\n   */\n  public multiply( ...matrices: Matrix3[] ): Matrix3 {\n    return Matrix3.multiply( this, ...matrices );\n  }\n\n  /**\n   * Multiply this Matrix3 by a scalar.\n   */\n  public scaleScalar( scalar: number ): Matrix3 {\n    return new Matrix3( vecScale( this.elements, scalar ) );\n  }\n\n  /**\n   * An identity Matrix4.\n   */\n  public static get identity(): Matrix3 {\n    return new Matrix3( rawIdentityMatrix3 );\n  }\n\n  /**\n   * Multiply two or more matrices.\n   * @param matrices Matrices\n   */\n  public static multiply( ...matrices: Matrix3[] ): Matrix3 {\n    if ( matrices.length === 0 ) {\n      return Matrix3.identity;\n    } else {\n      return new Matrix3( mat3Multiply( ...matrices.map( ( m ) => m.elements ) ) );\n    }\n  }\n\n  /**\n   * Create a normal matrix out of matrix4.\n   * @param matrix4 A matrix4\n   */\n  public static createNormalMatrix( matrix4: Matrix4 ): Matrix3 {\n    return new Matrix3( mat3CreateNormalMatrix( matrix4.elements ) );\n  }\n\n  /**\n   * Cast a {@link Matrix4} into a Matrix3.\n   * @param matrix4 A matrix4\n   */\n  public static fromMatrix4( matrix4: Matrix4 ): Matrix3 {\n    return new Matrix3( mat3FromMat4( matrix4.elements ) );\n  }\n\n  /**\n   * Create a matrix out of a {@link Quaternion}.\n   * @param quaternion A quaternion\n   */\n  public static fromQuaternion( quaternion: Quaternion ): Matrix3 {\n    return new Matrix3( mat3FromQuaternion( quaternion.elements ) );\n  }\n}\n","import type { RawMatrix4 } from '.';\nimport type { RawQuaternion } from '../quat/RawQuaternion';\n\n/**\n * Convert a quaternion into a matrix4.\n *\n * Yoinked from Three.js.\n *\n * See: https://threejs.org/docs/#api/en/math/Matrix4.makeRotationFromQuaternion\n */\nexport function mat4FromQuaternion( quat: RawQuaternion ): RawMatrix4 {\n  const x = quat[ 0 ];\n  const y = quat[ 1 ];\n  const z = quat[ 2 ];\n  const w = quat[ 3 ];\n\n  return [\n    1.0 - 2.0 * y * y - 2.0 * z * z, 2.0 * x * y + 2.0 * z * w, 2.0 * x * z - 2.0 * y * w, 0.0,\n    2.0 * x * y - 2.0 * z * w, 1.0 - 2.0 * x * x - 2.0 * z * z, 2.0 * y * z + 2.0 * x * w, 0.0,\n    2.0 * x * z + 2.0 * y * w, 2.0 * y * z - 2.0 * x * w, 1.0 - 2.0 * x * x - 2.0 * y * y, 0.0,\n    0.0, 0.0, 0.0, 1.0,\n  ];\n}\n","import { mat4FromQuaternion } from './mat4FromQuaternion';\nimport type { RawMatrix4 } from './RawMatrix4';\nimport type { RawQuaternion } from '../quat/RawQuaternion';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Compose a matrix out of position, scale, and rotation.\n * Yoinked from Three.js.\n */\nexport function mat4Compose(\n  position: RawVector3,\n  rotation: RawQuaternion,\n  scale: RawVector3,\n): RawMatrix4 {\n  const matRot = mat4FromQuaternion( rotation );\n\n  const sx = scale[ 0 ], sy = scale[ 1 ], sz = scale[ 2 ];\n\n  return [\n    matRot[ 0 ] * sx,\n    matRot[ 1 ] * sx,\n    matRot[ 2 ] * sx,\n    0.0,\n\n    matRot[ 4 ] * sy,\n    matRot[ 5 ] * sy,\n    matRot[ 6 ] * sy,\n    0.0,\n\n    matRot[ 8 ] * sz,\n    matRot[ 9 ] * sz,\n    matRot[ 10 ] * sz,\n    0.0,\n\n    position[ 0 ],\n    position[ 1 ],\n    position[ 2 ],\n    1.0\n  ];\n}\n","import type { RawMatrix4 } from './RawMatrix4';\n\n/**\n * Return a determinant of given mat4.\n */\nexport function mat4Determinant( m: RawMatrix4 ): number {\n  const\n    a00 = m[  0 ], a01 = m[  1 ], a02 = m[  2 ], a03 = m[  3 ],\n    a10 = m[  4 ], a11 = m[  5 ], a12 = m[  6 ], a13 = m[  7 ],\n    a20 = m[  8 ], a21 = m[  9 ], a22 = m[ 10 ], a23 = m[ 11 ],\n    a30 = m[ 12 ], a31 = m[ 13 ], a32 = m[ 14 ], a33 = m[ 15 ],\n    b00 = a00 * a11 - a01 * a10,  b01 = a00 * a12 - a02 * a10,\n    b02 = a00 * a13 - a03 * a10,  b03 = a01 * a12 - a02 * a11,\n    b04 = a01 * a13 - a03 * a11,  b05 = a02 * a13 - a03 * a12,\n    b06 = a20 * a31 - a21 * a30,  b07 = a20 * a32 - a22 * a30,\n    b08 = a20 * a33 - a23 * a30,  b09 = a21 * a32 - a22 * a31,\n    b10 = a21 * a33 - a23 * a31,  b11 = a22 * a33 - a23 * a32;\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n","import type { RawMatrix3 } from '../mat3/RawMatrix3';\nimport type { RawQuaternion } from './RawQuaternion';\n\n/**\n * Generate a Quaternion out of a rotation matrix.\n * Yoinked from Three.js.\n */\nexport function quatFromMatrix3( m: RawMatrix3 ): RawQuaternion {\n  const m11 = m[ 0 ], m12 = m[ 3 ], m13 = m[ 6 ],\n    m21 = m[ 1 ], m22 = m[ 4 ], m23 = m[ 7 ],\n    m31 = m[ 2 ], m32 = m[ 5 ], m33 = m[ 8 ],\n    trace = m11 + m22 + m33;\n\n  if ( trace > 0 ) {\n    const s = 0.5 / Math.sqrt( trace + 1.0 );\n    return [\n      ( m32 - m23 ) * s,\n      ( m13 - m31 ) * s,\n      ( m21 - m12 ) * s,\n      0.25 / s\n    ];\n  } else if ( m11 > m22 && m11 > m33 ) {\n    const s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n    return [\n      0.25 * s,\n      ( m12 + m21 ) / s,\n      ( m13 + m31 ) / s,\n      ( m32 - m23 ) / s\n    ];\n  } else if ( m22 > m33 ) {\n    const s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n    return [\n      ( m12 + m21 ) / s,\n      0.25 * s,\n      ( m23 + m32 ) / s,\n      ( m13 - m31 ) / s\n    ];\n  } else {\n    const s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n    return [\n      ( m13 + m31 ) / s,\n      ( m23 + m32 ) / s,\n      0.25 * s,\n      ( m21 - m12 ) / s\n    ];\n  }\n}\n","import { mat3FromMat4 } from '../mat3/mat3FromMat4';\nimport { quatFromMatrix3 } from './quatFromMatrix3';\nimport type { RawMatrix4 } from '../mat4/RawMatrix4';\nimport type { RawQuaternion } from './RawQuaternion';\n\n/**\n * Generate a Quaternion out of a rotation matrix.\n */\nexport function quatFromMatrix4( m: RawMatrix4 ): RawQuaternion {\n  return quatFromMatrix3( mat3FromMat4( m ) );\n}\n","import { mat4Determinant } from './mat4Determinant';\nimport { quatFromMatrix4 } from '../quat/quatFromMatrix4';\nimport { vecLength } from '../vec/vecLength';\nimport type { RawMatrix4 } from './RawMatrix4';\nimport type { RawQuaternion } from '../quat/RawQuaternion';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Decompose a matrix into a position, a scale, and a rotation.\n * Yoinked from Three.js.\n */\nexport function mat4Decompose( m: RawMatrix4 ): {\n  position: RawVector3;\n  scale: RawVector3;\n  rotation: RawQuaternion;\n} {\n  let sx = vecLength( [ m[ 0 ], m[ 1 ], m[ 2 ] ] );\n  const sy = vecLength( [ m[ 4 ], m[ 5 ], m[ 6 ] ] );\n  const sz = vecLength( [ m[ 8 ], m[ 9 ], m[ 10 ] ] );\n\n  // if determinant is negative, we need to invert one scale\n  const det = mat4Determinant( m );\n  if ( det < 0 ) { sx = -sx; }\n\n  const invSx = 1.0 / sx;\n  const invSy = 1.0 / sy;\n  const invSz = 1.0 / sz;\n\n  const rotationMatrix = m.concat() as RawMatrix4;\n\n  rotationMatrix[ 0 ] *= invSx;\n  rotationMatrix[ 1 ] *= invSx;\n  rotationMatrix[ 2 ] *= invSx;\n\n  rotationMatrix[ 4 ] *= invSy;\n  rotationMatrix[ 5 ] *= invSy;\n  rotationMatrix[ 6 ] *= invSy;\n\n  rotationMatrix[ 8 ] *= invSz;\n  rotationMatrix[ 9 ] *= invSz;\n  rotationMatrix[ 10 ] *= invSz;\n\n  return {\n    position: [ m[ 12 ], m[ 13 ], m[ 14 ] ],\n    scale: [ sx, sy, sz ],\n    rotation: quatFromMatrix4( rotationMatrix ),\n  };\n}\n","import type { RawMatrix3 } from '../mat3/RawMatrix3';\nimport type { RawMatrix4 } from './RawMatrix4';\n\n/**\n * Create a matrix4 from matrix3.\n */\nexport function mat4FromMat3(\n  source: RawMatrix3,\n): RawMatrix4 {\n  return [\n    source[ 0 ], source[ 1 ], source[ 2 ], 0.0,\n    source[ 3 ], source[ 4 ], source[ 5 ], 0.0,\n    source[ 6 ], source[ 7 ], source[ 8 ], 0.0,\n    0.0, 0.0, 0.0, 1.0,\n  ];\n}\n","import { vecScale } from '../vec/vecScale';\nimport type { RawMatrix4 } from './RawMatrix4';\n\n/**\n *  an inverse of given mat4.\n */\nexport function mat4Inverse( m: RawMatrix4 ): RawMatrix4 {\n  const\n    a00 = m[  0 ], a01 = m[  1 ], a02 = m[  2 ], a03 = m[  3 ],\n    a10 = m[  4 ], a11 = m[  5 ], a12 = m[  6 ], a13 = m[  7 ],\n    a20 = m[  8 ], a21 = m[  9 ], a22 = m[ 10 ], a23 = m[ 11 ],\n    a30 = m[ 12 ], a31 = m[ 13 ], a32 = m[ 14 ], a33 = m[ 15 ],\n    b00 = a00 * a11 - a01 * a10,  b01 = a00 * a12 - a02 * a10,\n    b02 = a00 * a13 - a03 * a10,  b03 = a01 * a12 - a02 * a11,\n    b04 = a01 * a13 - a03 * a11,  b05 = a02 * a13 - a03 * a12,\n    b06 = a20 * a31 - a21 * a30,  b07 = a20 * a32 - a22 * a30,\n    b08 = a20 * a33 - a23 * a30,  b09 = a21 * a32 - a22 * a31,\n    b10 = a21 * a33 - a23 * a31,  b11 = a22 * a33 - a23 * a32;\n\n  const det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if ( det === 0.0 ) { return vecScale( m, 0.0 ); }\n\n  return vecScale( [\n    a11 * b11 - a12 * b10 + a13 * b09,\n    a02 * b10 - a01 * b11 - a03 * b09,\n    a31 * b05 - a32 * b04 + a33 * b03,\n    a22 * b04 - a21 * b05 - a23 * b03,\n    a12 * b08 - a10 * b11 - a13 * b07,\n    a00 * b11 - a02 * b08 + a03 * b07,\n    a32 * b02 - a30 * b05 - a33 * b01,\n    a20 * b05 - a22 * b02 + a23 * b01,\n    a10 * b10 - a11 * b08 + a13 * b06,\n    a01 * b08 - a00 * b10 - a03 * b06,\n    a30 * b04 - a31 * b02 + a33 * b00,\n    a21 * b02 - a20 * b04 - a23 * b00,\n    a11 * b07 - a10 * b09 - a12 * b06,\n    a00 * b09 - a01 * b07 + a02 * b06,\n    a31 * b01 - a30 * b03 - a32 * b00,\n    a20 * b03 - a21 * b01 + a22 * b00,\n  ], 1.0 / det );\n}\n","import { vec3Cross } from '../vec3/vec3Cross';\nimport { vecAdd } from '../vec/vecAdd';\nimport { vecNormalize } from '../vec/vecNormalize';\nimport { vecScale } from '../vec/vecScale';\nimport { vecSub } from '../vec/vecSub';\nimport type { RawMatrix4 } from './RawMatrix4';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Generate a \"LookAt\" matrix.\n *\n * See also: {@link mat4LookAtInverse}\n */\nexport function mat4LookAt(\n  position: RawVector3,\n  target: RawVector3 = [ 0.0, 0.0, 0.0 ],\n  up: RawVector3 = [ 0.0, 1.0, 0.0 ],\n  roll = 0.0,\n): RawMatrix4 {\n  const dir = vecNormalize( vecSub( position, target ) );\n\n  let sid = vecNormalize( vec3Cross( up, dir ) );\n\n  if ( roll !== 0.0 ) {\n    sid = vecAdd(\n      vecScale( sid, Math.cos( roll ) ),\n      vecScale( vec3Cross( dir, sid ), Math.sin( roll ) ),\n    );\n  }\n\n  const top = vec3Cross( dir, sid );\n\n  return [\n    sid[ 0 ], sid[ 1 ], sid[ 2 ], 0.0,\n    top[ 0 ], top[ 1 ], top[ 2 ], 0.0,\n    dir[ 0 ], dir[ 1 ], dir[ 2 ], 0.0,\n    position[ 0 ], position[ 1 ], position[ 2 ], 1.0\n  ];\n}\n","import { vec3Cross } from '../vec3/vec3Cross';\nimport { vecAdd } from '../vec/vecAdd';\nimport { vecDot } from '../vec/vecDot';\nimport { vecNormalize } from '../vec/vecNormalize';\nimport { vecScale } from '../vec/vecScale';\nimport { vecSub } from '../vec/vecSub';\nimport type { RawMatrix4 } from './RawMatrix4';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Generate an inverse of \"LookAt\" matrix. Good for creating a view matrix.\n *\n * See also: {@link mat4LookAt}\n */\nexport function mat4LookAtInverse(\n  position: RawVector3,\n  target: RawVector3 = [ 0.0, 0.0, 0.0 ],\n  up: RawVector3 = [ 0.0, 1.0, 0.0 ],\n  roll = 0.0,\n): RawMatrix4 {\n  const dir = vecNormalize( vecSub( position, target ) );\n\n  let sid = vecNormalize( vec3Cross( up, dir ) );\n\n  if ( roll !== 0.0 ) {\n    sid = vecAdd(\n      vecScale( sid, Math.cos( roll ) ),\n      vecScale( vec3Cross( dir, sid ), Math.sin( roll ) ),\n    );\n  }\n\n  const top = vec3Cross( dir, sid );\n\n  return [\n    sid[ 0 ], top[ 0 ], dir[ 0 ], 0.0,\n    sid[ 1 ], top[ 1 ], dir[ 1 ], 0.0,\n    sid[ 2 ], top[ 2 ], dir[ 2 ], 0.0,\n    -vecDot( sid, position ),\n    -vecDot( top, position ),\n    -vecDot( dir, position ),\n    1.0,\n  ];\n}\n","import type { RawMatrix4 } from './RawMatrix4';\n\n/**\n * Return a multiplication result of matrices.\n */\nexport function mat4Multiply( ...mats: RawMatrix4[] ): RawMatrix4 {\n  if ( mats.length < 2 ) {\n    return mats[ 0 ];\n  }\n\n  const a = mats.shift()!;\n  const b = mat4Multiply( ...mats );\n  const\n    a00 = a[  0 ], a01 = a[  1 ], a02 = a[  2 ], a03 = a[  3 ],\n    a10 = a[  4 ], a11 = a[  5 ], a12 = a[  6 ], a13 = a[  7 ],\n    a20 = a[  8 ], a21 = a[  9 ], a22 = a[ 10 ], a23 = a[ 11 ],\n    a30 = a[ 12 ], a31 = a[ 13 ], a32 = a[ 14 ], a33 = a[ 15 ],\n    b00 = b[  0 ], b01 = b[  1 ], b02 = b[  2 ], b03 = b[  3 ],\n    b10 = b[  4 ], b11 = b[  5 ], b12 = b[  6 ], b13 = b[  7 ],\n    b20 = b[  8 ], b21 = b[  9 ], b22 = b[ 10 ], b23 = b[ 11 ],\n    b30 = b[ 12 ], b31 = b[ 13 ], b32 = b[ 14 ], b33 = b[ 15 ];\n\n  return [\n    a00 * b00 + a10 * b01 + a20 * b02 + a30 * b03,\n    a01 * b00 + a11 * b01 + a21 * b02 + a31 * b03,\n    a02 * b00 + a12 * b01 + a22 * b02 + a32 * b03,\n    a03 * b00 + a13 * b01 + a23 * b02 + a33 * b03,\n\n    a00 * b10 + a10 * b11 + a20 * b12 + a30 * b13,\n    a01 * b10 + a11 * b11 + a21 * b12 + a31 * b13,\n    a02 * b10 + a12 * b11 + a22 * b12 + a32 * b13,\n    a03 * b10 + a13 * b11 + a23 * b12 + a33 * b13,\n\n    a00 * b20 + a10 * b21 + a20 * b22 + a30 * b23,\n    a01 * b20 + a11 * b21 + a21 * b22 + a31 * b23,\n    a02 * b20 + a12 * b21 + a22 * b22 + a32 * b23,\n    a03 * b20 + a13 * b21 + a23 * b22 + a33 * b23,\n\n    a00 * b30 + a10 * b31 + a20 * b32 + a30 * b33,\n    a01 * b30 + a11 * b31 + a21 * b32 + a31 * b33,\n    a02 * b30 + a12 * b31 + a22 * b32 + a32 * b33,\n    a03 * b30 + a13 * b31 + a23 * b32 + a33 * b33,\n  ];\n}\n","import type { RawMatrix4 } from './RawMatrix4';\n\n/**\n * Generate a \"Perspective\" projection matrix.\n *\n * @param fov Field of View Y, **IN DEGREES**\n * @param near Near clip plane\n * @param far Far clip plane\n * @param aspect Aspect ratio. **`1.0` BY DEFAULT**\n */\nexport function mat4Perspective(\n  fov = 45.0,\n  near = 0.01,\n  far = 100.0,\n  aspect = 1.0,\n): RawMatrix4 {\n  const p = 1.0 / Math.tan( fov * Math.PI / 360.0 );\n  const d = ( far - near );\n  return [\n    p / aspect, 0.0, 0.0, 0.0,\n    0.0, p, 0.0, 0.0,\n    0.0, 0.0, -( far + near ) / d, -1.0,\n    0.0, 0.0, -2 * far * near / d, 0.0\n  ];\n}\n","import type { RawMatrix4 } from './RawMatrix4';\n\n/**\n * Generate a 3d rotation matrix, rotates around x axis.\n */\nexport function mat4RotationX( theta: number ): RawMatrix4 {\n  const c = Math.cos( theta );\n  const s = Math.sin( theta );\n\n  return [\n    1, 0, 0, 0,\n    0, c, -s, 0,\n    0, s, c, 0,\n    0, 0, 0, 1,\n  ];\n}\n","import type { RawMatrix4 } from './RawMatrix4';\n\n/**\n * Generate a 3d rotation matrix, rotates around y axis.\n */\nexport function mat4RotationY( theta: number ): RawMatrix4 {\n  const c = Math.cos( theta );\n  const s = Math.sin( theta );\n\n  return [\n    c, 0, s, 0,\n    0, 1, 0, 0,\n    -s, 0, c, 0,\n    0, 0, 0, 1,\n  ];\n}\n","import type { RawMatrix4 } from './RawMatrix4';\n\n/**\n * Generate a 3d rotation matrix, rotates around z axis.\n */\nexport function mat4RotationZ( theta: number ): RawMatrix4 {\n  const c = Math.cos( theta );\n  const s = Math.sin( theta );\n\n  return [\n    c, -s, 0, 0,\n    s, c, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1,\n  ];\n}\n","import type { RawMatrix4 } from './RawMatrix4';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Generate a 3d scaling matrix.\n */\nexport function mat4Scale( vec: RawVector3 ): RawMatrix4 {\n  return [\n    vec[ 0 ], 0, 0, 0,\n    0, vec[ 1 ], 0, 0,\n    0, 0, vec[ 2 ], 0,\n    0, 0, 0, 1,\n  ];\n}\n","import type { RawMatrix4 } from './RawMatrix4';\n\n/**\n * Generate a 3d scaling matrix by a scalar.\n */\nexport function mat4ScaleScalar( scalar: number ): RawMatrix4 {\n  return [\n    scalar, 0, 0, 0,\n    0, scalar, 0, 0,\n    0, 0, scalar, 0,\n    0, 0, 0, 1,\n  ];\n}\n","import type { RawMatrix4 } from './RawMatrix4';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Generate a translation matrix.\n */\nexport function mat4Translate( vec: RawVector3 ): RawMatrix4 {\n  return [\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    vec[ 0 ], vec[ 1 ], vec[ 2 ], 1\n  ];\n}\n","import type { RawMatrix4 } from './RawMatrix4';\n\n/**\n * Transpose a mat4.\n */\nexport function mat4Transpose( m: RawMatrix4 ): RawMatrix4 {\n  return [\n    m[ 0 ], m[ 4 ], m[ 8 ], m[ 12 ],\n    m[ 1 ], m[ 5 ], m[ 9 ], m[ 13 ],\n    m[ 2 ], m[ 6 ], m[ 10 ], m[ 14 ],\n    m[ 3 ], m[ 7 ], m[ 11 ], m[ 15 ],\n  ];\n}\n","import { Matrix3 } from '../mat3/Matrix3';\nimport { Quaternion } from '../quat/Quaternion';\nimport { Vector3 } from '../vec3/Vector3';\nimport { mat4Compose } from './mat4Compose';\nimport { mat4Decompose } from './mat4Decompose';\nimport { mat4Determinant } from './mat4Determinant';\nimport { mat4FromMat3 } from './mat4FromMat3';\nimport { mat4FromQuaternion } from './mat4FromQuaternion';\nimport { mat4Inverse } from './mat4Inverse';\nimport { mat4LookAt } from './mat4LookAt';\nimport { mat4LookAtInverse } from './mat4LookAtInverse';\nimport { mat4Multiply } from './mat4Multiply';\nimport { mat4Perspective } from './mat4Perspective';\nimport { mat4RotationX } from './mat4RotationX';\nimport { mat4RotationY } from './mat4RotationY';\nimport { mat4RotationZ } from './mat4RotationZ';\nimport { mat4Scale } from './mat4Scale';\nimport { mat4ScaleScalar } from './mat4ScaleScalar';\nimport { mat4Translate } from './mat4Translate';\nimport { mat4Transpose } from './mat4Transpose';\nimport { vecScale } from '../vec/vecScale';\nimport type { RawMatrix4 } from './RawMatrix4';\n\nconst rawIdentityMatrix4: RawMatrix4 = [\n  1.0, 0.0, 0.0, 0.0,\n  0.0, 1.0, 0.0, 0.0,\n  0.0, 0.0, 1.0, 0.0,\n  0.0, 0.0, 0.0, 1.0\n];\n\n/**\n * A Matrix4.\n */\nexport class Matrix4 {\n  public elements: RawMatrix4;\n\n  public constructor( v: RawMatrix4 = rawIdentityMatrix4 ) {\n    this.elements = v;\n  }\n\n  /**\n   * Itself but transposed.\n   */\n  public get transpose(): Matrix4 {\n    return new Matrix4( mat4Transpose( this.elements ) );\n  }\n\n  /**\n   * Its determinant.\n   */\n  public get determinant(): number {\n    return mat4Determinant( this.elements );\n  }\n\n  /**\n   * Itself but inverted.\n   */\n  public get inverse(): Matrix4 {\n    return new Matrix4( mat4Inverse( this.elements ) );\n  }\n\n  /**\n   * Itself but matrix3.\n   */\n  public get matrix3(): Matrix3 {\n    return Matrix3.fromMatrix4( this );\n  }\n\n  /**\n   * Itself but normal matrix.\n   */\n  public get normalMatrix(): Matrix3 {\n    return Matrix3.createNormalMatrix( this );\n  }\n\n  public toString(): string {\n    const m = this.elements.map( ( v ) => v.toFixed( 3 ) );\n    return `Matrix4( ${ m[ 0 ] }, ${ m[ 4 ] }, ${ m[ 8 ] }, ${ m[ 12 ] }; ${ m[ 1 ] }, ${ m[ 5 ] }, ${ m[ 9 ] }, ${ m[ 13 ] }; ${ m[ 2 ] }, ${ m[ 6 ] }, ${ m[ 10 ] }, ${ m[ 14 ] }; ${ m[ 3 ] }, ${ m[ 7 ] }, ${ m[ 11 ] }, ${ m[ 15 ] } )`;\n  }\n\n  /**\n   * Clone this.\n   */\n  public clone(): Matrix4 {\n    return new Matrix4( this.elements.concat() as RawMatrix4 );\n  }\n\n  /**\n   * Multiply this Matrix4 by one or more Matrix4s.\n   */\n  public multiply( ...matrices: Matrix4[] ): Matrix4 {\n    return Matrix4.multiply( this, ...matrices );\n  }\n\n  /**\n   * Multiply this Matrix4 by a scalar.\n   */\n  public scaleScalar( scalar: number ): Matrix4 {\n    return new Matrix4( vecScale( this.elements, scalar ) );\n  }\n\n  /**\n   * Decompose this matrix into a position, a scale, and a rotation.\n   */\n  public decompose(): { position: Vector3; scale: Vector3; rotation: Quaternion } {\n    const { position, scale, rotation } = mat4Decompose( this.elements );\n\n    return {\n      position: new Vector3( position ),\n      scale: new Vector3( scale ),\n      rotation: new Quaternion( rotation ),\n    };\n  }\n\n  /**\n   * An identity Matrix4.\n   */\n  public static get identity(): Matrix4 {\n    return new Matrix4( rawIdentityMatrix4 );\n  }\n\n  /**\n   * Multiply two or more matrices.\n   * @param matrices Matrices\n   */\n  public static multiply( ...matrices: Matrix4[] ): Matrix4 {\n    if ( matrices.length === 0 ) {\n      return Matrix4.identity;\n    } else {\n      return new Matrix4( mat4Multiply( ...matrices.map( ( m ) => m.elements ) ) );\n    }\n  }\n\n  /**\n   * Create a matrix out of a {@link Quaternion}.\n   * @param quaternion A quaternion\n   */\n  public static fromQuaternion( quaternion: Quaternion ): Matrix4 {\n    return new Matrix4( mat4FromQuaternion( quaternion.elements ) );\n  }\n\n  /**\n   * Cast a {@link Matrix3} into a Matrix4.\n   * @param matrix3 A matrix3\n   */\n  public static fromMatrix3( matrix3: Matrix3 ): Matrix4 {\n    return new Matrix4( mat4FromMat3( matrix3.elements ) );\n  }\n\n  /**\n   * Generate a translation matrix.\n   * @param vector Translation\n   */\n  public static translate( vector: Vector3 ): Matrix4 {\n    return new Matrix4( mat4Translate( vector.elements ) );\n  }\n\n  /**\n   * Generate a 3d scaling matrix.\n   * @param vector Scale\n   */\n  public static scale( vector: Vector3 ): Matrix4 {\n    return new Matrix4( mat4Scale( vector.elements ) );\n  }\n\n  /**\n   * Generate a 3d scaling matrix by a scalar.\n   * @param vector Scale\n   */\n  public static scaleScalar( scalar: number ): Matrix4 {\n    return new Matrix4( mat4ScaleScalar( scalar ) );\n  }\n\n  /**\n   * Generate a 3d rotation matrix, rotates around x axis.\n   * @param vector Scale\n   */\n  public static rotationX( theta: number ): Matrix4 {\n    return new Matrix4( mat4RotationX( theta ) );\n  }\n\n  /**\n   * Generate a 3d rotation matrix, rotates around y axis.\n   * @param vector Scale\n   */\n  public static rotationY( theta: number ): Matrix4 {\n    return new Matrix4( mat4RotationY( theta ) );\n  }\n\n  /**\n   * Generate a 3d rotation matrix, rotates around z axis.\n   * @param vector Scale\n   */\n  public static rotationZ( theta: number ): Matrix4 {\n    return new Matrix4( mat4RotationZ( theta ) );\n  }\n\n  /**\n   * Generate a \"LookAt\" matrix.\n   *\n   * See also: {@link lookAtInverse}\n   */\n  public static lookAt(\n    position: Vector3,\n    target = new Vector3( [ 0.0, 0.0, 0.0 ] ),\n    up = new Vector3( [ 0.0, 1.0, 0.0 ] ),\n    roll = 0.0\n  ): Matrix4 {\n    return new Matrix4( mat4LookAt(\n      position.elements,\n      target.elements,\n      up.elements,\n      roll,\n    ) );\n  }\n\n  /**\n   * Generate an inverse of \"LookAt\" matrix. Good for creating a view matrix.\n   *\n   * See also: {@link lookAt}\n   */\n  public static lookAtInverse(\n    position: Vector3,\n    target = new Vector3( [ 0.0, 0.0, 0.0 ] ),\n    up = new Vector3( [ 0.0, 1.0, 0.0 ] ),\n    roll = 0.0\n  ): Matrix4 {\n    return new Matrix4( mat4LookAtInverse(\n      position.elements,\n      target.elements,\n      up.elements,\n      roll,\n    ) );\n  }\n\n  /**\n   * Generate a \"Perspective\" projection matrix.\n   * It won't include aspect!\n   */\n  public static perspective( fov = 45.0, near = 0.01, far = 100.0 ): Matrix4 {\n    return new Matrix4( mat4Perspective( fov, near, far ) );\n  }\n\n  /**\n   * Compose a matrix out of position, scale, and rotation.\n   * Yoinked from Three.js.\n   */\n  public static compose( position: Vector3, rotation: Quaternion, scale: Vector3 ): Matrix4 {\n    return new Matrix4( mat4Compose( position.elements, rotation.elements, scale.elements ) );\n  }\n}\n","import type { RawQuaternion } from './RawQuaternion';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Generate a Quaternion out of axis and angle.\n */\nexport function quatFromAxisAngle( axis: RawVector3, angle: number ): RawQuaternion {\n  const halfAngle = angle / 2.0;\n  const sinHalfAngle = Math.sin( halfAngle );\n  return [\n    axis[ 0 ] * sinHalfAngle,\n    axis[ 1 ] * sinHalfAngle,\n    axis[ 2 ] * sinHalfAngle,\n    Math.cos( halfAngle )\n  ];\n}\n","import { vec3OrthoNormalize } from '../vec3/vec3OrthoNormalize';\nimport type { RawQuaternion } from './RawQuaternion';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Return a quaternion which looks at the direction of `look`.\n */\nexport function quatLookRotation( look: RawVector3, up?: RawVector3 ): RawQuaternion {\n  const { normal, tangent, binormal } = vec3OrthoNormalize( look, up ?? [ 0.0, 1.0, 0.0 ] );\n\n  const w = Math.sqrt( 1.0 + binormal[ 0 ] + tangent[ 1 ] + normal[ 2 ] ) * 0.5;\n  const invW4 = 0.25 / w;\n\n  return [\n    ( tangent[ 2 ] - normal[ 1 ] ) * invW4,\n    ( normal[ 0 ] - binormal[ 2 ] ) * invW4,\n    ( binormal[ 1 ] - tangent[ 0 ] ) * invW4,\n    w,\n  ];\n}\n","import { vecLength } from '../vec/vecLength';\nimport { vecScale } from '../vec/vecScale';\nimport type { RawQuaternion } from './RawQuaternion';\n\n/**\n * Normalize given quaternion.\n *\n * It's almost identical as {@link vecNormalize},\n * but it will return an identity quaternion instead\n * when it recieves a quaternion which length is zero.\n */\nexport function quatNormalize( vec: RawQuaternion ): RawQuaternion {\n  const len = vecLength( vec );\n  if ( len === 0.0 ) {\n    return [ 0.0, 0.0, 0.0, 1.0 ];\n  }\n  return vecScale( vec, 1.0 / len );\n}\n","import type { RawQuaternion } from './RawQuaternion';\n\n/**\n * Generate a quaternion rotates around x axis.\n * @param theta An angle around x axis, in degree\n */\nexport function quatRotationX( theta: number ): RawQuaternion {\n  return [ Math.sin( theta / 2.0 ), 0.0, 0.0, Math.cos( theta / 2.0 ) ];\n}\n","import type { RawQuaternion } from './RawQuaternion';\n\n/**\n * Generate a quaternion rotates around y axis.\n * @param theta An angle around y axis, in degree\n */\nexport function quatRotationY( theta: number ): RawQuaternion {\n  return [ 0.0, Math.sin( theta / 2.0 ), 0.0, Math.cos( theta / 2.0 ) ];\n}\n","import type { RawQuaternion } from './RawQuaternion';\n\n/**\n * Generate a quaternion rotates around z axis.\n * @param theta An angle around z axis, in degree\n */\nexport function quatRotationZ( theta: number ): RawQuaternion {\n  return [ 0.0, 0.0, Math.sin( theta / 2.0 ), Math.cos( theta / 2.0 ) ];\n}\n","import { vecDot, vecNeg, vecNormalize } from '..';\nimport type { RawQuaternion } from './RawQuaternion';\n\n/**\n * Interpolate between two quaternions.\n * @param a \"from\" quaternion\n * @param b \"to\" quaternion\n * @param t How much do we want to rotate the a to b\n */\nexport function quatSlerp( a: RawQuaternion, b: RawQuaternion, t: number ): RawQuaternion {\n  if ( t === 0.0 ) { return a.concat() as RawQuaternion; }\n  if ( t === 1.0 ) { return b.concat() as RawQuaternion; }\n\n  // Ref: https://github.com/mrdoob/three.js/blob/master/src/math/Quaternion.js\n  // Ref: http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n  let cosHalfTheta = vecDot( a, b );\n\n  if ( cosHalfTheta < 0.0 ) {\n    b = vecNeg( b );\n    cosHalfTheta = -cosHalfTheta;\n  }\n\n  // I think you two are same\n  if ( cosHalfTheta >= 1.0 ) {\n    return a.concat() as RawQuaternion;\n  }\n\n  const sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n  // fallback to simple lerp\n  if ( sqrSinHalfTheta <= Number.EPSILON ) {\n    const s = 1.0 - t;\n\n    return vecNormalize( [\n      s * a[ 0 ] + t * b[ 0 ],\n      s * a[ 1 ] + t * b[ 1 ],\n      s * a[ 2 ] + t * b[ 2 ],\n      s * a[ 3 ] + t * b[ 3 ],\n    ] );\n  }\n\n  // welcome\n  const sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n  const halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n  const ratioA = Math.sin( ( 1.0 - t ) * halfTheta ) / sinHalfTheta;\n  const ratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n  return [\n    a[ 0 ] * ratioA + b[ 0 ] * ratioB,\n    a[ 1 ] * ratioA + b[ 1 ] * ratioB,\n    a[ 2 ] * ratioA + b[ 2 ] * ratioB,\n    a[ 3 ] * ratioA + b[ 3 ] * ratioB,\n  ];\n}\n","import { Matrix4 } from '../mat4/Matrix4';\nimport { Vector3 } from '../vec3/Vector3';\nimport { mat4FromQuaternion } from '../mat4/mat4FromQuaternion';\nimport { quatFromAxisAngle } from './quatFromAxisAngle';\nimport { quatFromMatrix4 } from './quatFromMatrix4';\nimport { quatInverse } from './quatInverse';\nimport { quatLookRotation } from './quatLookRotation';\nimport { quatMultiply } from './quatMultiply';\nimport { quatNormalize } from './quatNormalize';\nimport { quatRotationX } from './quatRotationX';\nimport { quatRotationY } from './quatRotationY';\nimport { quatRotationZ } from './quatRotationZ';\nimport { quatSlerp } from './quatSlerp';\nimport { vecLength } from '../vec/vecLength';\nimport { vecLengthSq } from '../vec/vecLengthSq';\nimport type { RawQuaternion } from './RawQuaternion';\n\nconst rawIdentityQuaternion: RawQuaternion = [ 0.0, 0.0, 0.0, 1.0 ];\n\n/**\n * A Quaternion.\n */\nexport class Quaternion {\n  public elements: RawQuaternion; // [ x, y, z; w ]\n\n  public constructor( elements: RawQuaternion = rawIdentityQuaternion ) {\n    this.elements = elements;\n  }\n\n  /**\n   * An x component of this.\n   */\n  public get x(): number {\n    return this.elements[ 0 ];\n  }\n\n  /**\n   * An y component of this.\n   */\n  public get y(): number {\n    return this.elements[ 1 ];\n  }\n\n  /**\n   * An z component of this.\n   */\n  public get z(): number {\n    return this.elements[ 2 ];\n  }\n\n  /**\n   * An w component of this.\n   */\n  public get w(): number {\n    return this.elements[ 3 ];\n  }\n\n  public toString(): string {\n    return `Quaternion( ${ this.x.toFixed( 3 ) }, ${ this.y.toFixed( 3 ) }, ${ this.z.toFixed( 3 ) }, ${ this.w.toFixed( 3 ) } )`;\n  }\n\n  /**\n   * Clone this.\n   */\n  public clone(): Quaternion {\n    return new Quaternion( this.elements.concat() as RawQuaternion );\n  }\n\n  /**\n   * Itself but converted into a Matrix4.\n   */\n  public get matrix4(): Matrix4 {\n    return new Matrix4( mat4FromQuaternion( this.elements ) );\n  }\n\n  /**\n   * An inverse of this.\n   */\n  public get inversed(): Quaternion {\n    return new Quaternion( quatInverse( this.elements ) );\n  }\n\n  /**\n   * The length of this.\n   */\n  public get length(): number {\n    return vecLength( this.elements );\n  }\n\n  /**\n   * The squared length of this.\n   */\n  public get lengthSq(): number {\n    return vecLengthSq( this.elements );\n  }\n\n  /**\n   * A normalized this.\n   */\n  public get normalized(): Quaternion {\n    return new Quaternion( quatNormalize( this.elements ) );\n  }\n\n  /**\n   * Multiply one or more Quaternions with this.\n   * @param quaternions Other Quaternions\n   */\n  public multiply( ...quaternions: Quaternion[] ): Quaternion {\n    return Quaternion.multiply( this, ...quaternions );\n  }\n\n  /**\n   * Interpolate between this and given quaternion.\n   * @param b Another Quaternion\n   * @param t How much do we want to rotate this to b\n   */\n  public slerp( b: Quaternion, t: number ): Quaternion {\n    return Quaternion.slerp( this, b, t );\n  }\n\n  /**\n   * An identity Quaternion.\n   */\n  public static get identity(): Quaternion {\n    return new Quaternion( rawIdentityQuaternion );\n  }\n\n  /**\n   * Multiply two or more matrices.\n   * @param quaternion Quaternions\n   */\n  public static multiply( ...quaternions: Quaternion[] ): Quaternion {\n    if ( quaternions.length === 0 ) {\n      return Quaternion.identity;\n    } else {\n      return new Quaternion( quatMultiply( ...quaternions.map( ( q ) => q.elements ) ) );\n    }\n  }\n\n  /**\n   * Interpolate between two quaternions.\n   * @param a \"from\" quaternion\n   * @param b \"to\" quaternion\n   * @param t How much do we want to rotate the a to b\n   */\n  public static slerp( a: Quaternion, b: Quaternion, t: number ): Quaternion {\n    return new Quaternion( quatSlerp( a.elements, b.elements, t ) );\n  }\n\n  /**\n   * Return a quaternion which rotates around x axis.\n   * @param theta An angle around x axis, in degree\n   */\n  public static rotationX( theta: number ): Quaternion {\n    return new Quaternion( quatRotationX( theta ) );\n  }\n\n  /**\n   * Return a quaternion which rotates around y axis.\n   * @param theta An angle around y axis, in degree\n   */\n  public static rotationY( theta: number ): Quaternion {\n    return new Quaternion( quatRotationY( theta ) );\n  }\n\n  /**\n   * Return a quaternion which rotates around z axis.\n   * @param theta An angle around z axis, in degree\n   */\n  public static rotationZ( theta: number ): Quaternion {\n    return new Quaternion( quatRotationZ( theta ) );\n  }\n\n  /**\n   * Return a quaternion which looks at the direction of `look`.\n   * @param look Position where the quaternion will look at\n   * @param up The \"up vector\"\n   */\n  public static lookRotation( look: Vector3, up: Vector3 ): Quaternion {\n    return new Quaternion( quatLookRotation( look.elements, up.elements ) );\n  }\n\n  /**\n   * Generate a Quaternion out of angle and axis.\n   */\n  public static fromAxisAngle( axis: Vector3, angle: number ): Quaternion {\n    return new Quaternion( quatFromAxisAngle( axis.elements, angle ) );\n  }\n\n  /**\n   * Generate a Quaternion out of a rotation matrix.\n   */\n  public static fromMatrix4( matrix: Matrix4 ): Quaternion {\n    return new Quaternion( quatFromMatrix4( matrix.elements ) );\n  }\n}\n","/**\n * GLSL Style `mod` function.\n * \"compute value of one parameter modulo another\"\n */\nexport function mod( value: number, divisor: number ): number {\n  return value - Math.floor( value / divisor ) * divisor;\n}\n","import { mod } from './mod';\n\n/**\n * Enclose arbitrary angle (in radian) into [-π, π)\n */\nexport function sanitizeAngle( angle: number ): number {\n  return mod( angle + Math.PI, 2.0 * Math.PI ) - Math.PI;\n}\n","import { clamp } from '../utils';\nimport { sanitizeAngle } from '../sanitizeAngle';\nimport { vecManhattanLength } from '../vec/vecManhattanLength';\nimport type { EulerOrder } from './EulerOrder';\nimport type { RawMatrix3 } from '../mat3/RawMatrix3';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Return a euler angles out of a matrix3.\n * Make sure the input matrix is normalized.\n *\n * @param m An input rotation matrix\n * @param order An order of output euler angles. Assume as `XYZ` if not specified\n */\nexport function eulerFromMat3( m: RawMatrix3, order?: EulerOrder ): RawVector3 {\n  const [ i, j, k, sign ] =\n    !order || order === 'XYZ' ? [ 0, 1, 2, 1 ] :\n    order === 'XZY' ? [ 0, 2, 1, -1 ] :\n    order === 'YXZ' ? [ 1, 0, 2, -1 ] :\n    order === 'YZX' ? [ 1, 2, 0, 1 ] :\n    order === 'ZXY' ? [ 2, 0, 1, 1 ] :\n    [ 2, 1, 0, -1 ];\n\n  const result: RawVector3 = [ 0.0, 0.0, 0.0 ];\n\n  const c = m[ k + i * 3 ];\n  result[ j ] = -sign * Math.asin( clamp( c, -1.0, 1.0 ) );\n\n  if ( Math.abs( c ) < 0.999999 ) {\n    result[ i ] = sign * Math.atan2( m[ k + j * 3 ], m[ k * 4 ] );\n    result[ k ] = sign * Math.atan2( m[ j + i * 3 ], m[ i * 4 ] );\n  } else {\n    // \"y is 90deg\" cases\n    result[ i ] = sign * Math.atan2( -m[ j + k * 3 ], m[ j * 4 ] );\n  }\n\n  if ( vecManhattanLength( result ) > 1.5 * Math.PI ) {\n    // \"two big revolutions\" cases\n    result[ i ] = sanitizeAngle( result[ i ] + Math.PI );\n    result[ j ] = sanitizeAngle( Math.PI - result[ j ] );\n    result[ k ] = sanitizeAngle( result[ k ] + Math.PI );\n  }\n\n  return result;\n}\n","import { eulerFromMat3 } from './eulerFromMat3';\nimport { mat3FromMat4 } from '../mat3/mat3FromMat4';\nimport type { EulerOrder } from './EulerOrder';\nimport type { RawMatrix4 } from '../mat4/RawMatrix4';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Return a euler angles out of a matrix4.\n * Make sure the input matrix is normalized.\n *\n * @param m An input rotation matrix\n * @param order An order of output euler angles. Assume as `XYZ` if not specified\n */\nexport function eulerFromMat4( m: RawMatrix4, order?: EulerOrder ): RawVector3 {\n  return eulerFromMat3( mat3FromMat4( m ), order );\n}\n","import { eulerFromMat3 } from './eulerFromMat3';\nimport { mat3FromQuaternion } from '../mat3/mat3FromQuaternion';\nimport type { EulerOrder } from './EulerOrder';\nimport type { RawQuaternion } from '../quat/RawQuaternion';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Return a euler angles out of a quaternion.\n *\n * @param m An input quaternion\n * @param order An order of output euler angles. Assume as `XYZ` if not specified\n */\nexport function eulerFromQuaternion( m: RawQuaternion, order?: EulerOrder ): RawVector3 {\n  return eulerFromMat3( mat3FromQuaternion( m ), order );\n}\n","import type { EulerOrder } from '../euler/EulerOrder';\nimport type { RawQuaternion } from './RawQuaternion';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Generate a Quaternion out of euler angles.\n */\nexport function quatFromEuler( euler: RawVector3, order?: EulerOrder ): RawQuaternion {\n  const [ i, j, k, sign ] =\n    !order || order === 'XYZ' ? [ 0, 1, 2, 1 ] :\n    order === 'XZY' ? [ 0, 2, 1, -1 ] :\n    order === 'YXZ' ? [ 1, 0, 2, -1 ] :\n    order === 'YZX' ? [ 1, 2, 0, 1 ] :\n    order === 'ZXY' ? [ 2, 0, 1, 1 ] :\n    [ 2, 1, 0, -1 ];\n\n  const ti = 0.5 * euler[ i ];\n  const tj = 0.5 * sign * euler[ j ];\n  const tk = 0.5 * euler[ k ];\n\n  const ci = Math.cos( ti );\n  const cj = Math.cos( tj );\n  const ck = Math.cos( tk );\n  const si = Math.sin( ti );\n  const sj = Math.sin( tj );\n  const sk = Math.sin( tk );\n\n  const result: RawQuaternion = [\n    0.0,\n    0.0,\n    0.0,\n    ck * cj * ci + sk * sj * si,\n  ];\n  result[ i ] = ck * cj * si - sk * sj * ci;\n  result[ j ] = sign * ( ck * sj * ci + sk * cj * si );\n  result[ k ] = sk * cj * ci - ck * sj * si;\n\n  return result;\n}\n","import { Matrix3 } from '../mat3/Matrix3';\nimport { Matrix4 } from '../mat4/Matrix4';\nimport { Quaternion } from '../quat/Quaternion';\nimport { eulerFromMat3 } from './eulerFromMat3';\nimport { eulerFromMat4 } from './eulerFromMat4';\nimport { eulerFromQuaternion } from './eulerFromQuaternion';\nimport { quatFromEuler } from '../quat/quatFromEuler';\nimport type { EulerOrder } from './EulerOrder';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * An Euler rotations.\n */\nexport class Euler {\n  public elements: RawVector3; // [ x, y, z ]\n\n  /**\n   * An order of this euler.\n   * 'XYZ' by default.\n   *\n   * Note that this is **extrinsic** rotations (which is same as Blender, Maya, and Unity).\n   * Three.js uses intrinsic rotations so you have to reverse the order if you want to match the behavior with Three.js.\n   */\n  public order: EulerOrder;\n\n  public constructor( elements: RawVector3 = [ 0.0, 0.0, 0.0 ], order: EulerOrder = 'XYZ' ) {\n    this.elements = elements;\n    this.order = order;\n  }\n\n  /**\n   * An x component of this.\n   */\n  public get x(): number {\n    return this.elements[ 0 ];\n  }\n\n  /**\n   * An y component of this.\n   */\n  public get y(): number {\n    return this.elements[ 1 ];\n  }\n\n  /**\n   * An z component of this.\n   */\n  public get z(): number {\n    return this.elements[ 2 ];\n  }\n\n  public toString(): string {\n    return `Euler( ${ this.x.toFixed( 3 ) }, ${ this.y.toFixed( 3 ) }, ${ this.z.toFixed( 3 ) } (${ this.order }) )`;\n  }\n\n  /**\n   * Clone this.\n   */\n  public clone(): Euler {\n    return new Euler( this.elements.concat() as RawVector3, this.order );\n  }\n\n  /**\n   * Itself but converted into a Quaternion.\n   */\n  public get quaternion(): Quaternion {\n    return new Quaternion( quatFromEuler( this.elements, this.order ) );\n  }\n\n  /**\n   * Itself but converted into a Matrix4.\n   */\n  public get matrix4(): Matrix4 {\n    return this.quaternion.matrix4;\n  }\n\n  /**\n   * Generate an Euler out of a matrix3.\n   */\n  public static fromMatrix3( matrix: Matrix3, order: EulerOrder ): Euler {\n    return new Euler( eulerFromMat3( matrix.elements, order ), order );\n  }\n\n  /**\n   * Generate an Euler out of a matrix4.\n   */\n  public static fromMatrix4( matrix: Matrix4, order: EulerOrder ): Euler {\n    return new Euler( eulerFromMat4( matrix.elements, order ), order );\n  }\n\n  /**\n   * Generate an Euler out of a quaternion.\n   */\n  public static fromQuaternion( quaternion: Quaternion, order: EulerOrder ): Euler {\n    return new Euler( eulerFromQuaternion( quaternion.elements, order ), order );\n  }\n}\n","import { vecDot } from '../vec/vecDot';\nimport { vecSub } from '../vec/vecSub';\nimport type { RawRay3 } from './RawRay3';\nimport type { RawSphere3 } from '../sphere3/RawSphere3';\n\n/**\n * Return distances from given ray to sphere.\n *\n * The returning distance can be negative.\n *\n * The first returning value will be the distance of the incident point.\n * If the ray does not intersect with sphere, it will return `null`.\n *\n * @param ray A ray\n * @param sphere A target sphere\n */\nexport function ray3DistanceToSphere(\n  [ ro, rd ]: RawRay3,\n  sphere: RawSphere3,\n): [ number, number ] | null {\n  const v = vecSub( ro, sphere[ 0 ] );\n  const b = vecDot( v, rd );\n  const c = vecDot( v, v ) - sphere[ 1 ];\n  const d = b * b - c;\n\n  if ( d < 0.0 ) { return null; }\n\n  const sqrtD = Math.sqrt( d );\n\n  return [ -b - sqrtD, -b + sqrtD ];\n}\n","import { vecSub } from '../vec/vecSub';\nimport type { RawLine3 } from './RawLine3';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Return a vector that represents delta of given line.\n *\n * @param line A line\n */\nexport function line3Delta( line: RawLine3 ): RawVector3 {\n  return vecSub( line[ 1 ], line[ 0 ] );\n}\n","import { line3Delta } from '../line3/line3Delta';\nimport { vecNormalize } from '../vec/vecNormalize';\nimport type { RawLine3 } from '../line3/RawLine3';\nimport type { RawRay3 } from './RawRay3';\n\n/**\n * Convert the given line to a ray.\n *\n * @param line A line\n */\nexport function ray3FromLine3( line: RawLine3 ): RawRay3 {\n  return [\n    line[ 0 ],\n    vecNormalize( line3Delta( line ) ),\n  ];\n}\n","import { Line3 } from '../line3/Line3';\nimport { Sphere3 } from '../sphere3/Sphere3';\nimport { Vector3 } from '../vec3/Vector3';\nimport { ray3DistanceToSphere } from './ray3DistanceToSphere';\nimport { ray3FromLine3 } from './ray3FromLine3';\nimport type { RawRay3 } from './RawRay3';\n\n/**\n * A 3D ray.\n */\nexport class Ray3 {\n  /**\n   * The origin of the ray.\n   */\n  public origin: Vector3;\n\n  /**\n   * The direction of the ray.\n   * Make sure the direction is normalized.\n   */\n  public direction: Vector3;\n\n  public constructor( start: Vector3 = Vector3.zero, end: Vector3 = Vector3.pz ) {\n    this.origin = start;\n    this.direction = end;\n  }\n\n  /**\n   * Itself but {@link RawRay3} form.\n   */\n  public get raw(): RawRay3 {\n    return [ this.origin.elements, this.direction.elements ];\n  }\n\n  /**\n   * Return distances from given ray to sphere.\n   *\n   * The returning distance can be negative.\n   *\n   * The first returning value will be the distance of the incident point.\n   * If the ray does not intersect with sphere, it will return `null`.\n   *\n   * @param sphere A target sphere\n   */\n  public distanceToSphere( sphere: Sphere3 ): [ number, number ] | null {\n    return ray3DistanceToSphere( this.raw, sphere.raw );\n  }\n\n  /**\n   * Convert {@link RawRay3} to class form.\n   * @param ray A {@link RawRay3}\n   */\n  public static fromRaw( ray: RawRay3 ): Ray3 {\n    return new Ray3( new Vector3( ray[ 0 ] ), new Vector3( ray[ 1 ] ) );\n  }\n\n  /**\n   * Create a ray out of a line.\n   *\n   * @param line A {@link Line3}\n   */\n  public static fromLine3( line: Line3 ): Ray3 {\n    return Ray3.fromRaw( ray3FromLine3( line.raw ) );\n  }\n}\n","import { vec3ApplyMatrix4 } from '../vec3/vec3ApplyMatrix4';\nimport type { RawLine3 } from './RawLine3';\nimport type { RawMatrix4 } from '../mat4/RawMatrix4';\n\n/**\n * Apply given matrix4 to given line.\n *\n * @param line A line\n * @param matrix A matrix4 which will be applied to the line\n */\nexport function line3ApplyMatrix4(\n  [ start, end ]: RawLine3,\n  matrix: RawMatrix4,\n): RawLine3 {\n  return [\n    vec3ApplyMatrix4( start, matrix ),\n    vec3ApplyMatrix4( end, matrix ),\n  ];\n}\n","import { vecAdd } from '../vec/vecAdd';\nimport { vecScale } from '../vec/vecScale';\nimport type { RawLine3 } from './RawLine3';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Return a vector that represents a certain point of given line.\n * Same as start at t = 0, same as end at t = 1.\n *\n * @param line A line\n * @param t A parameter t\n */\nexport function line3At( line: RawLine3, t: number ): RawVector3 {\n  return vecAdd(\n    vecScale( line[ 0 ], 1.0 - t ),\n    vecScale( line[ 1 ], t ),\n  );\n}\n","import { line3At } from './line3At';\nimport { saturate } from '../utils';\nimport { vecDot } from '../vec/vecDot';\nimport { vecSub } from '../vec/vecSub';\nimport type { RawLine3 } from './RawLine3';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Return a point that is on the given line which is closest to the given point.\n *\n * If `segment` is true, it will treat the line as a segment which has start and end.\n * Otherwise it will treat the line is infinite.\n *\n * @param line A line\n * @param point A point\n * @param segment Is the line a segment?\n */\nexport function line3ClosestPointToPoint(\n  line: RawLine3,\n  point: RawVector3,\n  segment?: boolean,\n): RawVector3 {\n  const ap = vecSub( point, line[ 0 ] );\n  const ab = vecSub( line[ 1 ], line[ 0 ] );\n\n  let t = vecDot( ap, ab ) / vecDot( ab, ab );\n  segment && ( t = saturate( t ) );\n\n  return line3At( line, t );\n}\n","import { line3ClosestPointToPoint } from './line3ClosestPointToPoint';\nimport { vecLength } from '../vec/vecLength';\nimport { vecSub } from '../vec/vecSub';\nimport type { RawLine3 } from './RawLine3';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Return a distance from the given line to the given point.\n *\n * If `segment` is true, it will treat the line as a segment which has start and end.\n * Otherwise it will treat the line is infinite.\n *\n * @param line A line\n * @param point A point\n * @param segment Is the line a segment?\n */\nexport function line3DistanceToPoint(\n  line: RawLine3,\n  point: RawVector3,\n  segment?: boolean,\n): number {\n  return vecLength( vecSub(\n    line3ClosestPointToPoint( line, point, segment ),\n    point,\n  ) );\n}\n","import { Matrix4 } from '../mat4/Matrix4';\nimport { Ray3 } from '../ray3/Ray3';\nimport { Vector3 } from '../vec3/Vector3';\nimport { line3ApplyMatrix4 } from './line3ApplyMatrix4';\nimport { line3At } from './line3At';\nimport { line3ClosestPointToPoint } from './line3ClosestPointToPoint';\nimport { line3Delta } from './line3Delta';\nimport { line3DistanceToPoint } from './line3DistanceToPoint';\nimport type { RawLine3 } from './RawLine3';\n\n/**\n * A 3D line.\n */\nexport class Line3 {\n  public start: Vector3;\n  public end: Vector3;\n\n  public constructor( start: Vector3 = Vector3.zero, end: Vector3 = Vector3.zero ) {\n    this.start = start;\n    this.end = end;\n  }\n\n  /**\n   * Itself but {@link RawLine3} form.\n   */\n  public get raw(): RawLine3 {\n    return [ this.start.elements, this.end.elements ];\n  }\n\n  /**\n   * Itself but a ray.\n   */\n  public get ray(): Ray3 {\n    return Ray3.fromLine3( this );\n  }\n\n  /**\n   * A vector that represents delta of the line.\n   */\n  public delta(): Vector3 {\n    return new Vector3( line3Delta( this.raw ) );\n  }\n\n  /**\n   * Its length.\n   */\n  public length(): number {\n    return this.delta.length;\n  }\n\n  /**\n   * Return a vector that represents a certain point of the line.\n   * Same as start at t = 0, same as end at t = 1.\n   *\n   * @param t A parameter t\n   */\n  public at( t: number ): Vector3 {\n    return new Vector3( line3At( this.raw, t ) );\n  }\n\n  /**\n   * Apply given matrix4 to the line.\n   *\n   * @param matrix A matrix4 which will be applied to the line\n   */\n  public applyMatrix4( matrix: Matrix4 ): Line3 {\n    return Line3.fromRaw(\n      line3ApplyMatrix4(\n        this.raw,\n        matrix.elements,\n      )\n    );\n  }\n\n  /**\n   * Return a point that is on the line which is closest to the given point.\n   *\n   * If `segment` is true, it will treat the line as a segment which has start and end.\n   * Otherwise it will treat the line is infinite.\n   *\n   * @param point A point\n   * @param segment Is the line a segment?\n   */\n  public closestPointToPoint( point: Vector3, segment: boolean ): Vector3 {\n    return new Vector3( line3ClosestPointToPoint( this.raw, point.elements, segment ) );\n  }\n\n  /**\n   * Return a distance from the line to the given point.\n   *\n   * If `segment` is true, it will treat the line as a segment which has start and end.\n   * Otherwise it will treat the line is infinite.\n   *\n   * @param point A point\n   * @param segment Is the line a segment?\n   */\n  public distanceToPoint( point: Vector3, segment: boolean ): number {\n    return line3DistanceToPoint( this.raw, point.elements, segment );\n  }\n\n  /**\n   * Convert {@link RawLine3} to class form.\n   * @param line A {@link RawLine3}\n   */\n  public static fromRaw( line: RawLine3 ): Line3 {\n    return new Line3( new Vector3( line[ 0 ] ), new Vector3( line[ 1 ] ) );\n  }\n}\n","import type { RawMatrix2 } from './RawMatrix2';\n\nexport function mat2Determinant( m: RawMatrix2 ): number {\n  return m[ 0 ] * m[ 3 ] - m[ 2 ] * m[ 1 ];\n}\n","import { vecScale } from '../vec/vecScale';\nimport type { RawMatrix2 } from './RawMatrix2';\n\n/**\n * Return an inverse of given matrix.\n */\nexport function mat2Inverse( m: RawMatrix2 ): RawMatrix2 {\n  const\n    n11 = m[ 0 ], n21 = m[ 1 ],\n    n12 = m[ 2 ], n22 = m[ 3 ],\n    det = n11 * n22 - n12 * n21;\n\n  if ( det === 0.0 ) { return vecScale( m, 0.0 ); }\n\n  return vecScale( [\n    n22, -n21,\n    -n12, n11,\n  ], 1.0 / det );\n}\n","import type { RawMatrix2 } from './RawMatrix2';\n\n/**\n * Return a multiplication result of matrices.\n */\nexport function mat2Multiply( ...mats: RawMatrix2[] ): RawMatrix2 {\n  if ( mats.length < 2 ) {\n    return mats[ 0 ];\n  }\n\n  const a = mats.shift()!;\n  const b = mat2Multiply( ...mats );\n  const\n    a00 = a[ 0 ], a01 = a[ 1 ],\n    a10 = a[ 2 ], a11 = a[ 3 ],\n    b00 = b[ 0 ], b01 = b[ 1 ],\n    b10 = b[ 2 ], b11 = b[ 3 ];\n\n  return [\n    a00 * b00 + a10 * b01,\n    a01 * b00 + a11 * b01,\n\n    a00 * b10 + a10 * b11,\n    a01 * b10 + a11 * b11,\n  ];\n}\n","import type { RawMatrix2 } from './RawMatrix2';\n\n/**\n * Transpose a mat2.\n */\nexport function mat2Transpose(\n  source: RawMatrix2,\n): RawMatrix2 {\n  return [\n    source[ 0 ], source[ 2 ],\n    source[ 1 ], source[ 3 ],\n  ];\n}\n","import { mat2Determinant } from './mat2Determinant';\nimport { mat2Inverse } from './mat2Inverse';\nimport { mat2Multiply } from './mat2Multiply';\nimport { mat2Transpose } from './mat2Transpose';\nimport { vecScale } from '../vec/vecScale';\nimport type { RawMatrix2 } from './RawMatrix2';\n\nconst rawIdentityMatrix2: RawMatrix2 = [\n  1.0, 0.0,\n  0.0, 1.0,\n];\n\n/**\n * A Matrix2.\n */\nexport class Matrix2 {\n  public elements: RawMatrix2;\n\n  public constructor( v: RawMatrix2 = rawIdentityMatrix2 ) {\n    this.elements = v;\n  }\n\n  /**\n   * Itself but transposed.\n   */\n  public get transpose(): Matrix2 {\n    return new Matrix2( mat2Transpose( this.elements ) );\n  }\n\n  /**\n   * Its determinant.\n   */\n  public get determinant(): number {\n    return mat2Determinant( this.elements );\n  }\n\n  /**\n   * Itself but inverted.\n   */\n  public get inverse(): Matrix2 {\n    return new Matrix2( mat2Inverse( this.elements ) );\n  }\n\n  public toString(): string {\n    const m = this.elements.map( ( v ) => v.toFixed( 3 ) );\n    return `Matrix2( ${ m[ 0 ] }, ${ m[ 2 ] }; ${ m[ 1 ] }, ${ m[ 3 ] } )`;\n  }\n\n  /**\n   * Clone this.\n   */\n  public clone(): Matrix2 {\n    return new Matrix2( this.elements.concat() as RawMatrix2 );\n  }\n\n  /**\n   * Multiply this Matrix2 by one or more Matrix2s.\n   */\n  public multiply( ...matrices: Matrix2[] ): Matrix2 {\n    return Matrix2.multiply( this, ...matrices );\n  }\n\n  /**\n   * Multiply this Matrix3 by a scalar.\n   */\n  public scaleScalar( scalar: number ): Matrix2 {\n    return new Matrix2( vecScale( this.elements, scalar ) );\n  }\n\n  /**\n   * An identity Matrix4.\n   */\n  public static get identity(): Matrix2 {\n    return new Matrix2( rawIdentityMatrix2 );\n  }\n\n  /**\n   * Multiply two or more matrices.\n   * @param matrices Matrices\n   */\n  public static multiply( ...matrices: Matrix2[] ): Matrix2 {\n    if ( matrices.length === 0 ) {\n      return Matrix2.identity;\n    } else {\n      return new Matrix2( mat2Multiply( ...matrices.map( ( m ) => m.elements ) ) );\n    }\n  }\n}\n","import type { RawMatrix3 } from '../mat3/RawMatrix3';\nimport type { RawVector3 } from './RawVector3';\n\n/**\n * Apply a vec3 a mat3.\n */\nexport function vec3ApplyMatrix3( v: RawVector3, m: RawMatrix3 ): RawVector3 {\n  return [\n    m[ 0 ] * v[ 0 ] + m[ 3 ] * v[ 1 ] + m[ 6 ] * v[ 2 ],\n    m[ 1 ] * v[ 0 ] + m[ 4 ] * v[ 1 ] + m[ 7 ] * v[ 2 ],\n    m[ 2 ] * v[ 0 ] + m[ 5 ] * v[ 1 ] + m[ 8 ] * v[ 2 ],\n  ];\n}\n","import { vec3ApplyMatrix3 } from '../vec3/vec3ApplyMatrix3';\nimport { vec3ApplyMatrix4 } from '../vec3/vec3ApplyMatrix4';\nimport { vecDot } from '../vec/vecDot';\nimport { vecNormalize } from '../vec/vecNormalize';\nimport { vecScale } from '../vec/vecScale';\nimport type { RawMatrix3 } from '../mat3/RawMatrix3';\nimport type { RawMatrix4 } from '../mat4/RawMatrix4';\nimport type { RawPlane3 } from './RawPlane3';\n\n/**\n * Apply given matrix4 to given plane.\n *\n * @param plane A plane\n * @param matrix A matrix4 which will be applied to the plane\n * @param normalMatrix A normalMatrix made out of {@link matrix}\n */\nexport function plane3ApplyMatrix4(\n  [ normal, distance ]: RawPlane3,\n  matrix: RawMatrix4,\n  normalMatrix: RawMatrix3,\n): RawPlane3 {\n  // normalなんだからnormalMatrix当てればヨシ！\n  const newNormal = vecNormalize( vec3ApplyMatrix3( normal, normalMatrix ) );\n\n  // とりあえず一点観測してあとでdot取り直しちゃおうぜ！\n  const coplanar = vecScale( normal, -distance );\n  const refPoint = vec3ApplyMatrix4( coplanar, matrix );\n  const newDistance = -vecDot( refPoint, normal );\n\n  return [ newNormal, newDistance ];\n}\n","import { vecDot } from '../vec/vecDot';\nimport type { RawPlane3 } from './RawPlane3';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Return a signed distance from given plane to the given point.\n * Make sure the `normal` is normalized.\n */\nexport function plane3DistanceToPoint(\n  [ normal, distance ]: RawPlane3,\n  point: RawVector3,\n): number {\n  return vecDot( normal, point ) + distance;\n}\n","import { vecLength } from '../vec/vecLength';\nimport { vecScale } from '../vec/vecScale';\nimport type { RawPlane3 } from './RawPlane3';\n\n/**\n * Normalize a given plane?\n * This normalizes the normal and also divide distance by its original normal length.\n *\n * I don't come up with any use cases other than {@link planesFromProjectionMatrix}.\n *\n * @param plane The plane you want to normalize\n */\nexport function plane3Normalize( [ normal, distance ]: RawPlane3 ): RawPlane3 {\n  const invL = 1.0 / vecLength( normal );\n  return [ vecScale( normal, invL ), distance * invL ];\n}\n","import { Matrix3 } from '../mat3/Matrix3';\nimport { Matrix4 } from '../mat4/Matrix4';\nimport { Vector3 } from '../vec3/Vector3';\nimport { plane3ApplyMatrix4 } from './plane3ApplyMatrix4';\nimport { plane3DistanceToPoint } from './plane3DistanceToPoint';\nimport { plane3Normalize } from './plane3Normalize';\nimport type { RawPlane3 } from './RawPlane3';\n\n/**\n * A 3D plane.\n */\nexport class Plane3 {\n  public normal: Vector3;\n  public distance: number;\n\n  /**\n   * Itself but {@link RawPlane3} form.\n   */\n  public get raw(): RawPlane3 {\n    return [ this.normal.elements, this.distance ];\n  }\n\n  /**\n   * Normalized plane?\n   * This normalizes the normal and also divide distance by its original normal length.\n   */\n  public get normalized(): Plane3 {\n    return Plane3.fromRaw( plane3Normalize( this.raw ) );\n  }\n\n  public constructor( normal: Vector3 = Vector3.pz, distance = 0.0 ) {\n    this.normal = normal;\n    this.distance = distance;\n  }\n\n  /**\n   * Apply given matrix4 to the plane.\n   *\n   * @param matrix A matrix4 which will be applied to the plane\n   * @param normalMatrix A normalMatrix made out of {@link matrix}. Optional\n   */\n  public applyMatrix4( matrix: Matrix4, normalMatrix?: Matrix3 ): Plane3 {\n    return Plane3.fromRaw(\n      plane3ApplyMatrix4(\n        this.raw,\n        matrix.elements,\n        normalMatrix?.elements ?? matrix.normalMatrix.elements,\n      )\n    );\n  }\n\n  /**\n   * Return a signed distance from given plane to the given point.\n   *\n   * @param point A point\n   */\n  public distanceToPoint( point: Vector3 ): number {\n    return plane3DistanceToPoint( this.raw, point.elements );\n  }\n\n  /**\n   * Convert {@link RawPlane3} to class form.\n   * @param plane A {@link RawPlane3}\n   */\n  public static fromRaw( plane: RawPlane3 ): Plane3 {\n    return new Plane3( new Vector3( plane[ 0 ] ), plane[ 1 ] );\n  }\n}\n","import { plane3DistanceToPoint } from './plane3DistanceToPoint';\nimport type { RawPlane3 } from './RawPlane3';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Test if given point is contained in given planes or not.\n *\n * @param planes A list of planes\n * @param point A point\n */\nexport function planes3ContainPoint( planes: RawPlane3[], point: RawVector3 ): boolean {\n  return planes.every( ( plane ) => plane3DistanceToPoint( plane, point ) >= 0.0 );\n}\n","import type { RawBox3 } from '../box3/RawBox3';\nimport type { RawPlane3 } from './RawPlane3';\n\n/**\n * Generate a set of plane3 out of a {@link RawBox3}.\n *\n * @param box A box\n */\nexport function planes3FromBox3( box: RawBox3 ): RawPlane3[] {\n  return [\n    [ [ 1.0, 0.0, 0.0 ], -box[ 0 ][ 0 ] ], // xn\n    [ [ -1.0, 0.0, 0.0 ], box[ 1 ][ 0 ] ], // xp\n    [ [ 0.0, 1.0, 0.0 ], -box[ 0 ][ 1 ] ], // yn\n    [ [ 0.0, -1.0, 0.0 ], box[ 1 ][ 1 ] ], // yp\n    [ [ 0.0, 0.0, 1.0 ], -box[ 0 ][ 2 ] ], // yn\n    [ [ 0.0, 0.0, -1.0 ], box[ 1 ][ 2 ] ], // yp\n  ];\n}\n","import { plane3Normalize } from './plane3Normalize';\nimport type { RawMatrix4 } from '../mat4/RawMatrix4';\nimport type { RawPlane3 } from './RawPlane3';\n\n/**\n * Create frustum planes out of given projection matrix.\n *\n * @param m A projection matrix\n */\nexport function planes3FromProjectionMatrix( m: RawMatrix4 ): RawPlane3[] {\n  const\n    m11 = m[ 0 ], m12 = m[ 4 ], m13 = m[ 8 ], m14 = m[ 12 ],\n    m21 = m[ 1 ], m22 = m[ 5 ], m23 = m[ 9 ], m24 = m[ 13 ],\n    m31 = m[ 2 ], m32 = m[ 6 ], m33 = m[ 10 ], m34 = m[ 14 ],\n    m41 = m[ 3 ], m42 = m[ 7 ], m43 = m[ 11 ], m44 = m[ 15 ];\n\n  return [\n    plane3Normalize( [ [ m41 - m11, m42 - m12, m43 - m13 ], m44 - m14 ] ), // xp\n    plane3Normalize( [ [ m41 + m11, m42 + m12, m43 + m13 ], m44 + m14 ] ), // xn\n    plane3Normalize( [ [ m41 - m21, m42 - m22, m43 - m23 ], m44 - m24 ] ), // yp\n    plane3Normalize( [ [ m41 + m21, m42 + m22, m43 + m23 ], m44 + m24 ] ), // yn\n    plane3Normalize( [ [ m41 - m31, m42 - m32, m43 - m33 ], m44 - m34 ] ), // zn\n    plane3Normalize( [ [ m41 + m31, m42 + m32, m43 + m33 ], m44 + m34 ] ), // zp\n  ];\n}\n","import { plane3DistanceToPoint } from './plane3DistanceToPoint';\nimport type { RawBox3 } from '../box3/RawBox3';\nimport type { RawPlane3 } from './RawPlane3';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Test if given box intersects with planes or not.\n *\n * @param planes A list of planes\n * @param box A box3\n */\nexport function planes3IntersectBox3( planes: RawPlane3[], box: RawBox3 ): boolean {\n  return planes.every( ( plane ) => {\n    const v = plane[ 0 ].map( ( nc, i ) => box[ nc > 0.0 ? 1 : 0 ][ i ] ) as RawVector3;\n    return plane3DistanceToPoint( plane, v ) >= 0.0;\n  } );\n}\n","import { RawSphere3 } from '../sphere3/RawSphere3';\nimport { plane3DistanceToPoint } from './plane3DistanceToPoint';\nimport type { RawPlane3 } from './RawPlane3';\n\n/**\n * Test if given sphere intersects with planes or not.\n *\n * It does not do strict intersection test but still should work well with frustum cull use cases.\n * See the test case for more details.\n *\n * @param planes A list of planes\n * @param sphere A sphere3\n */\nexport function planes3IntersectSphere3( planes: RawPlane3[], sphere: RawSphere3 ): boolean {\n  return planes.every( ( plane ) => (\n    plane3DistanceToPoint( plane, sphere[ 0 ] ) >= -sphere[ 1 ]\n  ) );\n}\n","import { Box3 } from '../box3/Box3';\nimport { Matrix4 } from '../mat4/Matrix4';\nimport { Plane3 } from './Plane3';\nimport { Sphere3 } from '../sphere3/Sphere3';\nimport { Vector3 } from '../vec3/Vector3';\nimport { planes3ContainPoint } from './planes3ContainPoint';\nimport { planes3FromBox3 } from './planes3FromBox3';\nimport { planes3FromProjectionMatrix } from './planes3FromProjectionMatrix';\nimport { planes3IntersectBox3 } from './planes3IntersectBox3';\nimport { planes3IntersectSphere3 } from './planes3IntersectSphere3';\nimport type { RawPlane3 } from './RawPlane3';\n\n/**\n * A set of {@link Plane3}.\n */\nexport class Planes3 {\n  public planes: Plane3[];\n\n  /**\n   * Itself but {@link RawPlane3}[] form.\n   */\n  public get raw(): RawPlane3[] {\n    return this.planes.map( ( plane ) => plane.raw );\n  }\n\n  public constructor( planes: Plane3[] ) {\n    this.planes = planes;\n  }\n\n  /**\n   * Test if given point is contained in the planes or not.\n   *\n   * @param point A point\n   */\n  public containPoint( point: Vector3 ): boolean {\n    return planes3ContainPoint( this.raw, point.elements );\n  }\n\n  /**\n   * Test if given box intersects with the planes or not.\n   *\n   * @param box A box3\n   */\n  public intersectBox3( box: Box3 ): boolean {\n    return planes3IntersectBox3( this.raw, box.raw );\n  }\n\n  /**\n   * Test if given sphere intersects with the planes or not.\n   *\n   * It does not do strict intersection test but still should work well with frustum cull use cases.\n   * See the test case for more details.\n   *\n   * @param sphere A sphere3\n   */\n  public intersectSphere3( sphere: Sphere3 ): boolean {\n    return planes3IntersectSphere3( this.raw, sphere.raw );\n  }\n\n  /**\n   * Convert {@link RawPlane3}[] to class form.\n   *\n   * @param planes A {@link RawPlane3}[]\n   */\n  public static fromRaw( planes: RawPlane3[] ): Planes3 {\n    return new Planes3( planes.map( ( plane ) => Plane3.fromRaw( plane ) ) );\n  }\n\n  /**\n   * Generate a set of plane3 out of a {@link RawBox3}.\n   *\n   * @param box A box\n   */\n  public static fromBox3( box: Box3 ): Planes3 {\n    return Planes3.fromRaw( planes3FromBox3( box.raw ) );\n  }\n\n  /**\n   * Create frustum planes out of given projection matrix.\n   *\n   * @param matrix A projection matrix\n   */\n  public static fromProjectionMatrix( matrix: Matrix4 ): Planes3 {\n    return Planes3.fromRaw( planes3FromProjectionMatrix( matrix.elements ) );\n  }\n}\n","import { vecLengthSq } from '../vec/vecLengthSq';\nimport { vecSub } from '../vec/vecSub';\nimport type { RawSphere3 } from './RawSphere3';\nimport type { RawVector3 } from '../vec3/RawVector3';\n\n/**\n * Test if given point is contained in given sphere or not.\n * @param sphere A sphere\n * @param point A point\n */\nexport function sphere3ContainsPoint( sphere: RawSphere3, point: RawVector3 ): boolean {\n  return vecLengthSq( vecSub( sphere[ 0 ], point ) ) <= sphere[ 1 ] * sphere[ 1 ];\n}\n","import { Vector3 } from '../vec3/Vector3';\nimport { sphere3ContainsPoint } from './sphere3ContainsPoint';\nimport type { RawSphere3 } from './RawSphere3';\n\n/**\n * A 3D sphere.\n */\nexport class Sphere3 {\n  public origin: Vector3;\n  public radius: number;\n\n  public constructor( origin: Vector3 = Vector3.zero, radius: number = 0.0 ) {\n    this.origin = origin;\n    this.radius = radius;\n  }\n\n  /**\n   * Itself but {@link RawSphere3} form.\n   */\n  public get raw(): RawSphere3 {\n    return [ this.origin.elements, this.radius ];\n  }\n\n  /**\n   * Test if given point is contained in the sphere or not.\n   *\n   * @param point A point\n   */\n  public containsPoint( point: Vector3 ): boolean {\n    return sphere3ContainsPoint( this.raw, point.elements );\n  }\n\n  /**\n   * Convert {@link RawSphere3} to class form.\n   * @param sphere A {@link RawSphere3}\n   */\n  public static fromRaw( sphere: RawSphere3 ): Sphere3 {\n    return new Sphere3( new Vector3( sphere[ 0 ] ), sphere[ 1 ] );\n  }\n}\n","import { vec3ApplyMatrix3 } from '../vec3/vec3ApplyMatrix3';\nimport type { RawMatrix3 } from '../mat3/RawMatrix3';\nimport type { RawVector3 } from '../vec3/RawVector3';\nimport type { RawVector4 } from './RawVector4';\n\n/**\n * Apply a vec4 a mat3 (with an implicit 1 on m44).\n */\nexport function vec4ApplyMatrix3( v: RawVector4, m: RawMatrix3 ): RawVector4 {\n  const v3: RawVector3 = [ v[ 0 ], v[ 1 ], v[ 2 ] ];\n  const xyz = vec3ApplyMatrix3( v3, m );\n  const w = v[ 3 ];\n  return [ xyz[ 0 ], xyz[ 1 ], xyz[ 2 ], w ];\n}\n","import { Matrix4 } from '../mat4/Matrix4';\nimport { Vector } from '../vec/Vector';\nimport { vec4ApplyMatrix3 } from './vec4ApplyMatrix3';\nimport { vec4ApplyMatrix4 } from './vec4ApplyMatrix4';\nimport type { Matrix3 } from '../mat3/Matrix3';\nimport type { RawVector4 } from './RawVector4';\n\n/**\n * A Vector3.\n */\nexport class Vector4 extends Vector<Vector4> {\n  public elements: RawVector4;\n\n  public constructor( v: RawVector4 = [ 0.0, 0.0, 0.0, 0.0 ] ) {\n    super();\n    this.elements = v;\n  }\n\n  /**\n   * An x component of this.\n   */\n  public get x(): number {\n    return this.elements[ 0 ];\n  }\n\n  public set x( x: number ) {\n    this.elements[ 0 ] = x;\n  }\n\n  /**\n   * A y component of this.\n   */\n  public get y(): number {\n    return this.elements[ 1 ];\n  }\n\n  public set y( y: number ) {\n    this.elements[ 1 ] = y;\n  }\n\n  /**\n   * A z component of this.\n   */\n  public get z(): number {\n    return this.elements[ 2 ];\n  }\n\n  public set z( z: number ) {\n    this.elements[ 2 ] = z;\n  }\n\n  /**\n   * A w component of this.\n   */\n  public get w(): number {\n    return this.elements[ 3 ];\n  }\n\n  public set w( z: number ) {\n    this.elements[ 3 ] = z;\n  }\n\n  public toString(): string {\n    return `Vector4( ${ this.x.toFixed( 3 ) }, ${ this.y.toFixed( 3 ) }, ${ this.z.toFixed( 3 ) }, ${ this.w.toFixed( 3 ) } )`;\n  }\n\n  /**\n   * Apply this vector a mat3 (with an implicit 1 on m44).\n   */\n  public applyMatrix3( matrix: Matrix3 ): Vector4 {\n    return new Vector4( vec4ApplyMatrix3( this.elements, matrix.elements ) );\n  }\n\n  /**\n   * Multiply this vector by a mat4.\n   */\n  public applyMatrix4( matrix: Matrix4 ): Vector4 {\n    return new Vector4( vec4ApplyMatrix4( this.elements, matrix.elements ) );\n  }\n\n  protected __new( v: RawVector4 ): Vector4 {\n    return new Vector4( v );\n  }\n\n  /**\n   * Vector4( 0.0, 0.0, 0.0, 0.0 )\n   */\n  public static get zero(): Vector4 {\n    return new Vector4( [ 0.0, 0.0, 0.0, 0.0 ] );\n  }\n\n  /**\n   * Vector4( 1.0, 1.0, 1.0, 1.0 )\n   */\n  public static get one(): Vector4 {\n    return new Vector4( [ 1.0, 1.0, 1.0, 1.0 ] );\n  }\n}\n","import { MidiParseResult, MidiParseResultHeader, MidiParseResultTrack } from './MidiParseResult';\nimport { arraySerial } from '../array/arraySerial';\n\nfunction readU8( array: Uint8Array, headBox: [ number ] ): number {\n  return array[ headBox[ 0 ] ++ ];\n}\n\n/**\n * Big endian\n */\nfunction readU16( array: Uint8Array, headBox: [ number ] ): number {\n  return readU8( array, headBox ) * 256 + readU8( array, headBox );\n}\n\n/**\n * Big endian\n */\nfunction readU32( array: Uint8Array, headBox: [ number ] ): number {\n  return readU16( array, headBox ) * 65536 + readU16( array, headBox );\n}\n\nfunction readUVar( array: Uint8Array, headBox: [ number ] ): number {\n  let v = 0;\n  for ( ;; ) {\n    const vv = readU8( array, headBox );\n    v = v * 128 + ( vv & 127 );\n\n    if ( vv < 128 ) {\n      return v;\n    }\n  }\n}\n\nfunction parseHeader( array: Uint8Array, headBox: [ number ] ): MidiParseResultHeader {\n  // skip type and length (4+4)\n  // length has to be 6, there's no need to parse\n  headBox[ 0 ] += 8;\n\n  return [\n    readU16( array, headBox ),\n    readU16( array, headBox ),\n    readU16( array, headBox ),\n  ];\n}\n\nfunction parseTrack( array: Uint8Array, headBox: [ number ] ): MidiParseResultTrack {\n  // skip type (4)\n  headBox[ 0 ] += 4;\n\n  const endOfTrack = headBox[ 0 ] + readU32( array, headBox ) + 4;\n\n  const track: MidiParseResultTrack = [];\n  let type = 0;\n\n  while ( headBox[ 0 ] < endOfTrack ) {\n    const delta = readUVar( array, headBox );\n    const status = readU8( array, headBox );\n    type = status < 128 ? type : status;\n    const data0 = status < 128 ? status : readU8( array, headBox );\n\n    if ( type < 0xc0 ) {\n      // note on (9x), note off (8x), polyphonic key pressure (Ax), control change (Bx)\n\n      track.push( [\n        delta,\n        type,\n        data0, // note or cc number\n        readU8( array, headBox ), // velocity, pressure, or data\n      ] );\n    } else if ( type === 0xff ) {\n      // meta events\n\n      const eventLength = readU8( array, headBox );\n\n      track.push( [\n        delta,\n        type,\n        data0,\n        arraySerial( eventLength ).map( () => readU8( array, headBox ) ),\n      ] );\n\n      if ( data0 === 0x2f ) { // end of track\n        break;\n      }\n    } else {\n      throw new Error( `${ type }` );\n    }\n  }\n\n  return track;\n}\n\nexport function midiParse( buffer: ArrayBuffer ): MidiParseResult {\n  const array = new Uint8Array( buffer );\n  const headBox: [ number ] = [ 0 ];\n\n  const header = parseHeader( array, headBox );\n  const tracks: MidiParseResultTrack[] = [];\n\n  while ( headBox[ 0 ] < array.length ) {\n    tracks.push( parseTrack( array, headBox ) );\n  }\n\n  return [ header, tracks ];\n}\n","import type { PokerRank } from './PokerRank';\n\nexport const pokerRanksByStrength: PokerRank[] = [\n  '2',\n  '3',\n  '4',\n  '5',\n  '6',\n  '7',\n  '8',\n  '9',\n  'T',\n  'J',\n  'Q',\n  'K',\n  'A',\n];\n","import type { PokerSuit } from './PokerSuit';\n\nexport const pokerSuitsByIndex: PokerSuit[] = [\n  'c',\n  'd',\n  'h',\n  's',\n];\n","import { pokerRanksByStrength } from './pokerRanksByStrength';\nimport { pokerSuitsByIndex } from './pokerSuitsByIndex';\nimport type { PokerCard } from './PokerCard';\n\n/**\n * Create a 52-card deck.\n * You might want to use {@link shuffleArray} to shuffle the deck.\n */\nexport function createPokerDeck(): PokerCard[] {\n  const array: PokerCard[] = [];\n\n  pokerSuitsByIndex.map( ( suit ) => (\n    pokerRanksByStrength.map( ( rank ) => (\n      array.push( rank + suit as PokerCard )\n    ) )\n  ) );\n\n  return array;\n}\n","import { PokerHand } from './PokerHand';\n\nexport const pokerHandStrengthMap: { [ hand in PokerHand ]: number } = {\n  'HighCard': 0,\n  'OnePair': 1,\n  'TwoPair': 2,\n  'ThreeOfAKind': 3,\n  'Straight': 4,\n  'Flush': 5,\n  'FullHouse': 6,\n  'FourOfAKind': 7,\n  'StraightFlush': 8,\n};\n","import type { PokerRank } from './PokerRank';\n\nexport const pokerRankStrengthMap: { [ rank in PokerRank ]: number } = {\n  '2': 0,\n  '3': 1,\n  '4': 2,\n  '5': 3,\n  '6': 4,\n  '7': 5,\n  '8': 6,\n  '9': 7,\n  'T': 8,\n  'J': 9,\n  'Q': 10,\n  'K': 11,\n  'A': 12\n};\n","import type { PokerSuit } from './PokerSuit';\n\nexport const pokerSuitIndexMap: { [ suit in PokerSuit ]: number } = {\n  'c': 0,\n  'd': 1,\n  'h': 2,\n  's': 3,\n};\n","import { pokerRankStrengthMap } from './pokerRankStrengthMap';\nimport { pokerSuitIndexMap } from './pokerSuitIndexMap';\nimport type { PokerCard } from './PokerCard';\nimport type { PokerRank } from './PokerRank';\nimport type { PokerSuit } from './PokerSuit';\n\n/**\n * Sort given array of cards in place by rank (and suit).\n */\nexport function sortPokerCardsByRank( cards: PokerCard[] ): PokerCard[] {\n  return cards\n    .sort( ( a, b ) => (\n      pokerSuitIndexMap[ a[ 1 ] as PokerSuit ] - pokerSuitIndexMap[ b[ 1 ] as PokerSuit ]\n    ) )\n    .sort( ( a, b ) => (\n      pokerRankStrengthMap[ a[ 0 ] as PokerRank ] - pokerRankStrengthMap[ b[ 0 ] as PokerRank ]\n    ) );\n}\n","import { MapOfSet } from '../MapOfSet/MapOfSet';\nimport { pokerHandStrengthMap } from './pokerHandStrengthMap';\nimport { pokerRankStrengthMap } from './pokerRankStrengthMap';\nimport { pokerRanksByStrength } from './pokerRanksByStrength';\nimport { sortPokerCardsByRank } from './sortPokerCardsByRank';\nimport type { PokerCard } from './PokerCard';\nimport type { PokerHand } from './PokerHand';\nimport type { PokerRank } from './PokerRank';\nimport type { PokerSuit } from './PokerSuit';\n\nexport interface EvaluatePokerHandResult {\n  hand: PokerHand;\n  strength: number[];\n  cards: [ PokerCard, PokerCard, PokerCard, PokerCard, PokerCard ];\n}\n\nexport function evaluatePokerHand( cards: PokerCard[] ): EvaluatePokerHandResult {\n  // cards mutable edition\n  const cards_ = cards.concat();\n\n  const cardsByRank = new MapOfSet<PokerRank, PokerCard>();\n  const cardsBySuit = new MapOfSet<PokerSuit, PokerCard>();\n\n  cards_.map( ( card ) => {\n    const rank = card[ 0 ] as PokerRank;\n    const suit = card[ 1 ] as PokerSuit;\n    cardsByRank.add( rank, card );\n    cardsBySuit.add( suit, card );\n  } );\n\n  // pairs\n  const fours: PokerRank[] = [];\n  const threes: PokerRank[] = [];\n  const twos: PokerRank[] = [];\n\n  pokerRanksByStrength.map( ( rank ) => {\n    const cards = cardsByRank.get( rank );\n    if ( cards.size > 3 ) {\n      fours.push( rank );\n    } else if ( cards.size > 2 ) {\n      threes.push( rank );\n    } else if ( cards.size > 1 ) {\n      twos.push( rank );\n    }\n  } );\n\n  // straight\n  let straightCards: PokerCard[] | undefined;\n  {\n    let current: PokerCard[] = [];\n\n    // handle steel wheel\n    const a = Array.from( cardsByRank.get( 'A' ) )[ 0 ];\n    if ( a ) {\n      current.push( a );\n    }\n\n    pokerRanksByStrength.map( ( rank ) => {\n      const card = Array.from( cardsByRank.get( rank ) )[ 0 ];\n      if ( card ) {\n        current.push( card );\n\n        if ( current.length > 4 ) {\n          straightCards = current;\n        }\n      } else {\n        current = [];\n      }\n    } );\n  }\n\n  // straight flush\n  if ( straightCards ) {\n    for ( const [ suit, cardsSet ] of cardsBySuit.map ) {\n      if ( cardsSet.size > 0 ) {\n        let straightFlushCards: PokerCard[] | undefined;\n        let current: PokerCard[] = [];\n\n        // handle steel wheel\n        const target = 'A' + suit as PokerCard;\n        const a = cardsSet.has( target );\n        if ( a ) {\n          current.push( target );\n        }\n\n        pokerRanksByStrength.map( ( rank ) => {\n          const target = rank + suit as PokerCard;\n          if ( cardsSet.has( target ) ) {\n            current.push( target );\n\n            if ( current.length > 4 ) {\n              straightFlushCards = current;\n            }\n          } else {\n            current = [];\n          }\n        } );\n\n        if ( straightFlushCards ) {\n          straightFlushCards.splice( 0, straightFlushCards.length - 5 );\n\n          const hand = 'StraightFlush';\n          const strength = [\n            pokerHandStrengthMap[ hand ],\n            pokerRankStrengthMap[ straightFlushCards[ 4 ][ 0 ] as PokerRank ],\n          ];\n\n          return {\n            hand,\n            cards: straightFlushCards as [ PokerCard, PokerCard, PokerCard, PokerCard, PokerCard ],\n            strength,\n          };\n        }\n      }\n    }\n  }\n\n  // four of a kind\n  if ( fours.length > 0 ) {\n    fours.sort( ( a, b ) => pokerRankStrengthMap[ a ] - pokerRankStrengthMap[ b ] );\n    fours.splice( 0, fours.length - 1 );\n\n    // 5s, 5c, Kd, 6d, 9c, 5d, 5h\n\n    const sameCards = Array.from( cardsByRank.get( fours[ 0 ] ) );\n    sameCards.map( ( card ) => (\n      cards_.splice( cards_.indexOf( card ), 1 )\n    ) );\n    // Kd, 6d, 9c\n\n    sortPokerCardsByRank( cards_ ).splice( 0, cards_.length - 1 );\n    // Kd\n\n    const hand = 'FourOfAKind';\n    const strength = [\n      pokerHandStrengthMap[ hand ],\n      pokerRankStrengthMap[ fours[ 0 ] ],\n      pokerRankStrengthMap[ cards_[ 0 ][ 0 ] as PokerRank ],\n    ];\n\n    cards_.push( ...sameCards );\n    sortPokerCardsByRank( cards_ );\n    // 5c, 5d, 5h, 5s, Kd\n\n    return {\n      hand,\n      cards: cards_ as [ PokerCard, PokerCard, PokerCard, PokerCard, PokerCard ],\n      strength,\n    };\n  }\n\n  // full house\n  if ( threes.length > 0 && threes.length + twos.length > 1 ) {\n    threes.sort( ( a, b ) => pokerRankStrengthMap[ a ] - pokerRankStrengthMap[ b ] );\n\n    // tricky part: it is possible to have two or more threes at once\n    // just transfer threes which is not highest\n    // and wish we'll do this right in the rest of the code\n    twos.push( ...threes.splice( 0, threes.length - 1 ) );\n\n    twos.sort( ( a, b ) => pokerRankStrengthMap[ a ] - pokerRankStrengthMap[ b ] );\n    twos.splice( 0, twos.length - 1 );\n\n    // 7d, 7s, Tc, Td, 7h, 9d, Th\n\n    const sameCards = Array.from( cardsByRank.get( threes[ 0 ] ) );\n    sameCards.push( ...Array.from( cardsByRank.get( twos[ 0 ] ) ) );\n    // sameCards: Tc, Td, Th, 7d, 7s, 7h\n\n    sortPokerCardsByRank( sameCards ).splice( 0, sameCards.length - 5 );\n    // sameCards: 7h, 7s, Tc, Td, Th\n\n    const hand = 'FullHouse';\n    const strength = [\n      pokerHandStrengthMap[ hand ],\n      pokerRankStrengthMap[ threes[ 0 ] ],\n      pokerRankStrengthMap[ twos[ 0 ] ],\n    ];\n\n    return {\n      hand,\n      cards: sameCards as [ PokerCard, PokerCard, PokerCard, PokerCard, PokerCard ],\n      strength,\n    };\n  }\n\n  // flush\n  for ( const [ _suit, cardsSet ] of cardsBySuit.map ) {\n    if ( cardsSet.size > 4 ) {\n      const cards = sortPokerCardsByRank( Array.from( cardsSet ) );\n      cards.splice( 0, cards.length - 5 );\n\n      const hand = 'Flush';\n      const strength = [\n        pokerHandStrengthMap[ hand ],\n        ...cards\n          .concat()\n          .reverse()\n          .map( ( card ) => (\n            pokerRankStrengthMap[ card[ 0 ] as PokerRank ]\n          ) ),\n      ];\n\n      return {\n        hand,\n        cards: cards as [ PokerCard, PokerCard, PokerCard, PokerCard, PokerCard ],\n        strength,\n      };\n    }\n  }\n\n  // straight\n  if ( straightCards ) {\n    straightCards.splice( 0, straightCards.length - 5 );\n\n    const hand = 'Straight';\n    const strength = [\n      pokerHandStrengthMap[ hand ],\n      pokerRankStrengthMap[ straightCards[ 4 ][ 0 ] as PokerRank ],\n    ];\n\n    return {\n      hand,\n      cards: straightCards as [ PokerCard, PokerCard, PokerCard, PokerCard, PokerCard ],\n      strength,\n    };\n  }\n\n  // three of a kind\n  if ( threes.length > 0 ) {\n    threes.sort( ( a, b ) => pokerRankStrengthMap[ a ] - pokerRankStrengthMap[ b ] );\n    threes.splice( 0, threes.length - 1 );\n\n    // Ah, Ad, Kc, 7s, 4s, Qc, As\n\n    const sameCards = Array.from( cardsByRank.get( threes[ 0 ] ) );\n    sameCards.map( ( card ) => (\n      cards_.splice( cards_.indexOf( card ), 1 )\n    ) );\n    // Kc, 7s, 4s, Qc\n\n    sortPokerCardsByRank( cards_ ).splice( 0, cards_.length - 2 );\n    // Qc, Kc\n\n    const hand = 'ThreeOfAKind';\n    const strength = [\n      pokerHandStrengthMap[ hand ],\n      pokerRankStrengthMap[ threes[ 0 ] ],\n      pokerRankStrengthMap[ cards_[ 1 ][ 0 ] as PokerRank ],\n      pokerRankStrengthMap[ cards_[ 0 ][ 0 ] as PokerRank ],\n    ];\n\n    cards_.push( ...sameCards );\n    sortPokerCardsByRank( cards_ );\n    // Qc, Kc, Ad, Ah, As\n\n    return {\n      hand,\n      cards: cards_ as [ PokerCard, PokerCard, PokerCard, PokerCard, PokerCard ],\n      strength,\n    };\n  }\n\n  // two pair\n  if ( twos.length > 1 ) {\n    twos.sort( ( a, b ) => pokerRankStrengthMap[ a ] - pokerRankStrengthMap[ b ] );\n    twos.splice( 0, twos.length - 2 );\n\n    // 4c, 8d, 7h, 4h, 8h, Jc, 2s\n\n    const pairs = Array.from( cardsByRank.get( twos[ 0 ] ) );\n    pairs.push( ...Array.from( cardsByRank.get( twos[ 1 ] ) ) );\n    pairs.map( ( card ) => (\n      cards_.splice( cards_.indexOf( card ), 1 )\n    ) );\n    // 7h, Jc, 2s\n\n    sortPokerCardsByRank( cards_ ).splice( 0, cards_.length - 1 );\n    // Jc\n\n    const hand = 'TwoPair';\n    const strength = [\n      pokerHandStrengthMap[ hand ],\n      pokerRankStrengthMap[ twos[ 1 ] ],\n      pokerRankStrengthMap[ twos[ 0 ] ],\n      pokerRankStrengthMap[ cards_[ 0 ][ 0 ] as PokerRank ],\n    ];\n\n    cards_.push( ...pairs );\n    sortPokerCardsByRank( cards_ );\n    // 4c, 4h, 8d, 8h, Jc\n\n    return {\n      hand,\n      cards: cards_ as [ PokerCard, PokerCard, PokerCard, PokerCard, PokerCard ],\n      strength,\n    };\n  }\n\n  // one pair\n  if ( twos.length > 0 ) {\n    // 3c, 5d, 8c, 8s, Ac, Qd, 7h\n\n    const pair = Array.from( cardsByRank.get( twos[ 0 ] ) );\n    pair.map( ( card ) => (\n      cards_.splice( cards_.indexOf( card ), 1 )\n    ) );\n    // 3c, 5d, Ac, Qd, 7h\n\n    sortPokerCardsByRank( cards_ ).splice( 0, cards_.length - 3 );\n    // 7h, Qd, Ac\n\n    const hand = 'OnePair';\n    const strength = [\n      pokerHandStrengthMap[ hand ],\n      pokerRankStrengthMap[ twos[ 0 ] ],\n      pokerRankStrengthMap[ cards_[ 2 ][ 0 ] as PokerRank ],\n      pokerRankStrengthMap[ cards_[ 1 ][ 0 ] as PokerRank ],\n      pokerRankStrengthMap[ cards_[ 0 ][ 0 ] as PokerRank ],\n    ];\n\n    cards_.push( ...pair );\n    sortPokerCardsByRank( cards_ );\n    // 7h, 8c, 8s, Qd, Ac\n\n    return {\n      hand,\n      cards: cards_ as [ PokerCard, PokerCard, PokerCard, PokerCard, PokerCard ],\n      strength,\n    };\n  }\n\n  // high card\n  {\n    const hand = 'HighCard';\n\n    // 2h, 5c, 6c, 7s, Td, Ad, Kd\n\n    sortPokerCardsByRank( cards_ );\n    // 2h, 5c, 6c, 7s, Td, Kd, Ad\n\n    cards_.splice( 0, cards_.length - 5 );\n    // 6c, 7s, Td, Kd, Ad\n\n    const strength = [\n      pokerHandStrengthMap[ hand ],\n      pokerRankStrengthMap[ cards_[ 4 ][ 0 ] as PokerRank ],\n      pokerRankStrengthMap[ cards_[ 3 ][ 0 ] as PokerRank ],\n      pokerRankStrengthMap[ cards_[ 2 ][ 0 ] as PokerRank ],\n      pokerRankStrengthMap[ cards_[ 1 ][ 0 ] as PokerRank ],\n      pokerRankStrengthMap[ cards_[ 0 ][ 0 ] as PokerRank ],\n    ];\n\n    return {\n      hand,\n      cards: cards_ as [ PokerCard, PokerCard, PokerCard, PokerCard, PokerCard ],\n      strength,\n    };\n  }\n}\n","import type { PokerHand } from './PokerHand';\n\nexport const pokerHandsByStrength: PokerHand[] = [\n  'HighCard',\n  'OnePair',\n  'TwoPair',\n  'ThreeOfAKind',\n  'Straight',\n  'Flush',\n  'FullHouse',\n  'FourOfAKind',\n  'StraightFlush',\n];\n","/**\n * Retry given function for n times.\n *\n * See also: {@link retry}\n */\nexport async function asyncRetry<T>( func: () => Promise<T>, n: number ): Promise<T> {\n  return await func().catch( ( error ) => {\n    if ( n <= 1 ) {\n      throw error;\n    }\n\n    return asyncRetry( func, n - 1 );\n  } );\n}\n","/**\n * Retry given function for n times.\n *\n * See also: {@link asyncRetry}\n */\nexport function retry<T>( func: () => T, n: number ): T {\n  try {\n    return func();\n  } catch ( error ) {\n    if ( n <= 1 ) {\n      throw error;\n    }\n\n    return retry( func, n - 1 );\n  }\n}\n","import { STNICCCFrame } from './STNICCCFrame';\n\n/**\n * Ref: http://arsantica-online.com/st-niccc-competition/\n *\n * @param buffer The input ST-NICCC data\n */\nexport function parseSTNICCC( buffer: ArrayBuffer ): STNICCCFrame[] {\n  const frames: STNICCCFrame[] = [];\n\n  const array = new Uint8Array( buffer );\n\n  const palette = new Uint16Array( 16 );\n\n  let head = 0;\n\n  // when poly-descriptor says 0xfe\n  let shouldSkip = false;\n\n  // when poly-descriptor says 0xfd\n  let shouldEnd = false;\n\n  // > Every frame stores the following data:\n  for ( ;; ) {\n    // > 1 byte Flags Bit 0: Frame needs to clear the screen.\n    // > Bit 1: Frame contains palette data.\n    // > Bit 2: Frame is stored in indexed mode.\n    const flags = array[ head ++ ];\n    const needsClear = ( flags & 1 ) === 1;\n    const hasPalette = ( flags >> 1 & 1 ) === 1;\n    const indexedMode = ( flags >> 2 & 1 ) === 1;\n\n    // > If frame contains palette data\n    if ( hasPalette ) {\n      // > 1 word Bitmask\n      const bitmask = array[ head ++ ] << 8 | array[ head ++ ];\n\n      // > For every set bit in the Bitmask (0-15)\n      for ( let i = 0; i < 16; i ++ ) {\n        if ( bitmask >> ( 15 - i ) & 1 ) {\n          // > 1 word Color The color has to be copied into the palette at the reverse index of the actual bit,\n          // > because the bitmask is stored in reverse order.\n          // > In other words: If bit 15 of mask is set -> update color 0 of palette,\n          // > …\n          // > if bit 0 of mask is set -> update color 15 of palette.\n\n          palette[ i ] = array[ head ++ ] << 8 | array[ head ++ ];\n        }\n      }\n    }\n\n    // > If frame is stored in indexed mode\n    if ( indexedMode ) {\n      // > 1 byte Number of vertices (0-255)\n      const nVertices = array[ head ++ ];\n\n      // > For every Vertex\n      // > {\n      // > 1 byte X-position\n      // > 1 byte Y-position\n      // > }\n      const vertices = array.subarray( head, head + 2 * nVertices );\n      head += 2 * nVertices;\n\n      const polygons: { colorIndex: number; indices: number[] }[] = [];\n\n      // > While (…)\n      for ( ;; ) {\n        // > 1 byte Poly-descriptor Contains: hi-nibble - 4 bits color-index\n        // > lo-nibble - 4 bits number of polygon vertices\n        // >\n        // > Some special cases are encoded in the descriptor byte:\n        // > $ff = End of frame\n        // > $fe = End of frame and the stream skips to the next 64KB block\n        // > $fd = End of stream (we are done \\o/)\n        const descriptor = array[ head ++ ];\n\n        if ( descriptor === 0xff ) { // end of frame\n          break;\n\n        } else if ( descriptor === 0xfe ) { // end of frame + skip to the next 64KB\n          shouldSkip = true;\n          break;\n\n        } else if ( descriptor === 0xfd ) { // end of stream\n          shouldEnd = true;\n          break;\n\n        }\n\n        const colorIndex = descriptor >> 4 & 15;\n        const nIndices = descriptor & 15;\n\n        // > For every vertex of the polygon\n        // > {\n        // > 1 byte Vertex-id (0-255)\n        // > }\n        const indices = array.subarray( head, head + nIndices );\n        head += nIndices;\n\n        polygons.push( {\n          colorIndex,\n          indices: Array.from( indices ),\n        } );\n      }\n\n      frames.push( {\n        needsClear,\n        indexedMode,\n        palette: Array.from( palette ),\n        vertices: Array.from( vertices ),\n        polygons,\n      } );\n\n    // > Else if frame is stored in non-indexed mode\n    } else {\n      const polygons: { colorIndex: number; vertices: number[] }[] = [];\n\n      // > While (…)\n      for ( ;; ) {\n        // > 1 byte Poly-descriptor (See indexed mode)\n        const descriptor = array[ head ++ ];\n\n        if ( descriptor === 0xff ) { // end of frame\n          break;\n\n        } else if ( descriptor === 0xfe ) { // end of frame + skip to the next 64KB\n          shouldSkip = true;\n          break;\n\n        } else if ( descriptor === 0xfd ) { // end of stream\n          shouldEnd = true;\n          break;\n\n        }\n\n        const colorIndex = descriptor >> 4 & 15;\n        const nVertices = descriptor & 15;\n\n        // > For every vertex of the polygon\n        // > {\n        // > 1 byte Vertex-id (0-255)\n        // > }\n        const vertices = array.subarray( head, head + 2 * nVertices );\n        head += 2 * nVertices;\n\n        polygons.push( {\n          colorIndex,\n          vertices: Array.from( vertices ),\n        } );\n      }\n\n      frames.push( {\n        needsClear,\n        indexedMode,\n        palette: Array.from( palette ),\n        polygons,\n      } );\n    }\n\n    if ( shouldSkip ) {\n      head = ( Math.floor( head / 0x10000 ) + 1 ) * 0x10000;\n      shouldSkip = false;\n    }\n\n    if ( shouldEnd ) {\n      break;\n    }\n  }\n\n  return frames;\n}\n","import { STNICCCFrame } from './STNICCCFrame';\nimport { colorFromAtariST } from '../color/colorFromAtariST';\nimport { colorToHex } from '../color/colorToHex';\n\nexport function stnicccToSVG( frames: STNICCCFrame[], options: {\n  fps?: number;\n} = {} ): string {\n  const delta = 1.0 / ( options?.fps ?? 30.0 );\n\n  let svg = '<svg width=\"256\" height=\"200\" viewBox=\"0 0 256 200\" xmlns=\"http://www.w3.org/2000/svg\">';\n\n  let style = `g{visibility:hidden;animation-duration:${ ( delta * frames.length ).toFixed( 3 ) }s;animation-iteration-count:infinite;animation-name:frame}@keyframes frame{0%{visibility:visible}${ 200.0 / frames.length }%{visibility:hidden}}`;\n\n  frames.map( ( frame, iFrame ) => {\n    const { indexedMode, palette, polygons } = frame;\n\n    style += `#f${ iFrame }{animation-delay:${ ( delta * iFrame ).toFixed( 3 ) }s}`;\n\n    const paletteInHex = palette.map( ( stColor ) => {\n      const color = colorFromAtariST( stColor );\n      return colorToHex( color );\n    } );\n\n    let childrenStr = '<rect width=\"256\" height=\"200\" fill=\"#000\" />';\n\n    let currentColorIndex = -1;\n    let d = '';\n\n    if ( indexedMode ) {\n      const { vertices } = frame;\n\n      polygons.map( ( { colorIndex, indices } ) => {\n        if ( currentColorIndex !== colorIndex ) {\n          if ( currentColorIndex !== -1 ) {\n            const colorHex = paletteInHex[ currentColorIndex ];\n            childrenStr += `<path d=\"${ d }\" fill=\"${ colorHex }\" />`;\n          }\n\n          currentColorIndex = colorIndex;\n          d = '';\n        }\n\n        for ( let i = 0; i < indices.length; i ++ ) {\n          const index = indices[ i ];\n          const x = vertices[ 2 * index ];\n          const y = vertices[ 2 * index + 1 ];\n\n          d += i === 0\n            ? `M${ x },${ y }`\n            : `L${ x },${ y }`;\n        }\n      } );\n    } else {\n      polygons.map( ( { colorIndex, vertices } ) => {\n        if ( currentColorIndex !== colorIndex ) {\n          if ( currentColorIndex !== -1 ) {\n            const colorHex = paletteInHex[ currentColorIndex ];\n            childrenStr += `<path d=\"${ d }\" fill=\"${ colorHex }\" />`;\n          }\n\n          currentColorIndex = colorIndex;\n          d = '';\n        }\n\n        for ( let i = 0; i < vertices.length; i += 2 ) {\n          const x = vertices[ i ];\n          const y = vertices[ i + 1 ];\n\n          d += i === 0\n            ? `M${ x },${ y }`\n            : `L${ x },${ y }`;\n        }\n      } );\n    }\n\n    const colorHex = paletteInHex[ currentColorIndex ];\n    childrenStr += `<path d=\"${ d }\" fill=\"${ colorHex }\" />`;\n\n    svg += `<g id=\"f${ iFrame }\">${ childrenStr }</g>`;\n  } );\n\n  svg += `<style>${style}</style></svg>`;\n\n  return svg;\n}\n","/**\n * The naive implementation of so-called SmoothDamp.\n * Pretty much the same as {@link CDS}, but it has a way easier parameter to tweak, {@link smoothTime}.\n *\n * Ref: Game Programming Gems 4, Chapter 1.10\n *\n * See: https://github.com/Unity-Technologies/UnityCsReference/blob/a2bdfe9b3c4cd4476f44bf52f848063bfaf7b6b9/Runtime/Export/Math/Mathf.cs#L308\n */\nexport class SmoothDamp {\n  public smoothTime = 1.0;\n  public velocity = 0.0;\n  public value = 0.0;\n  public target = 0.0;\n\n  public update( deltaTime: number ): number {\n    const omega = 2.0 / this.smoothTime;\n    const x = omega * deltaTime;\n    const exp = 1.0 / ( 1.0 + x + 0.48 * x * x + 0.235 * x * x * x );\n    const delta = this.value - this.target;\n    const temp = ( this.velocity + omega * delta ) * deltaTime;\n    this.velocity = ( this.velocity - omega * temp ) * exp;\n    this.value = this.target + ( delta + temp ) * exp;\n    return this.value;\n  }\n}\n","/**\n * Useful for swap buffer\n */\nexport class Swap<T> {\n  public i: T;\n  public o: T;\n\n  public constructor( a: T, b: T ) {\n    this.i = a;\n    this.o = b;\n  }\n\n  public swap(): void {\n    const i = this.i;\n    this.i = this.o;\n    this.o = i;\n  }\n}\n","import { HistoryMeanCalculator } from '../HistoryMeanCalculator/HistoryMeanCalculator';\n\nexport class TapTempo {\n  private __bpm = 0.0;\n  private __lastTap = 0.0;\n  private __lastBeat = 0.0;\n  private __lastTime = 0.0;\n  private __calc: HistoryMeanCalculator = new HistoryMeanCalculator( 16 );\n\n  public get beatDuration(): number {\n    return 60.0 / this.__bpm;\n  }\n\n  public get bpm(): number {\n    return this.__bpm;\n  }\n\n  public set bpm( bpm: number ) {\n    this.__lastBeat = this.beat;\n    this.__lastTime = performance.now();\n    this.__bpm = bpm;\n  }\n\n  public get beat(): number {\n    return this.__lastBeat + ( performance.now() - this.__lastTime ) * 0.001 / this.beatDuration;\n  }\n\n  public reset(): void {\n    this.__calc.reset();\n  }\n\n  public nudge( amount: number ): void {\n    this.__lastBeat = this.beat + amount;\n    this.__lastTime = performance.now();\n  }\n\n  public tap(): void {\n    const now = performance.now();\n    const delta = ( now - this.__lastTap ) * 0.001;\n\n    if ( 2.0 < delta ) {\n      this.reset();\n    } else {\n      this.__calc.push( delta );\n      this.__bpm = 60.0 / ( this.__calc.mean );\n    }\n\n    this.__lastTap = now;\n    this.__lastTime = now;\n    this.__lastBeat = 0.0;\n  }\n}\n","import { arraySerial } from '../array';\n\n/**\n * Parse a polyphonic tinyseq buffer.\n *\n * Returns [ time, offTime, note, reserved, time, offTime, note, reserved, ... ]\n */\nexport function createTinyseqPolyReader(\n  buffer: Uint8Array,\n  options: {\n    poly?: number,\n    blockSize?: number,\n    sampleRate?: number,\n    stepsPerSecond?: number,\n  } = {},\n): () => Float32Array[] {\n  const poly = options.poly ?? 8;\n  const blockSize = options.blockSize ?? 128;\n  const sampleRate = options.sampleRate ?? 48000;\n  const stepsPerSecond = options.stepsPerSecond ?? 1.0;\n\n  let samples = 0;\n  let pos = 0;\n  let note: number;\n  const notes = arraySerial( poly ).fill( -1 );\n  const notesTime = arraySerial( poly ).fill( -Infinity );\n  const notesOffTime = arraySerial( poly ).fill( -Infinity );\n  let nextStep = 0;\n\n  return () => {\n    const ret = arraySerial( poly ).map( () => new Float32Array( 4 * blockSize ) );\n\n    arraySerial( blockSize ).map( ( iSample ) => {\n      const t = samples / sampleRate;\n      const s = t * stepsPerSecond;\n\n      if ( s >= nextStep ) {\n        const eventNote = buffer[ pos ];\n        const eventDeltaStep = buffer[ pos + 1 ];\n\n        note = ( ( pos === 0 ? 60 : note ) + eventNote ) & 127;\n\n        // find same note\n        let iPoly = notes.indexOf( note );\n\n        // find earliest note off\n        let tEarliest = Infinity;\n\n        if ( iPoly === -1 ) {\n          notesTime.map( ( tOn, jPoly ) => {\n            const tOff = notesOffTime[ jPoly ];\n            if ( tOn <= tOff ) {\n              if ( tOff < tEarliest ) {\n                iPoly = jPoly;\n                tEarliest = tOff;\n              }\n            }\n          } );\n        }\n\n        // find earliest note on\n        if ( iPoly === -1 ) {\n          notesTime.map( ( tOn, jPoly ) => {\n            if ( tOn < tEarliest ) {\n              iPoly = jPoly;\n              tEarliest = tOn;\n            }\n          } );\n        }\n\n        notes[ iPoly ] = note;\n\n        if ( eventNote & 128 ) {\n          if ( notesOffTime[ iPoly ] < notesTime[ iPoly ] ) {\n            notesOffTime[ iPoly ] = t;\n          }\n        } else {\n          if ( notesOffTime[ iPoly ] >= notesTime[ iPoly ] ) {\n            notesTime[ iPoly ] = t;\n          }\n        }\n\n        nextStep += eventDeltaStep;\n\n        pos = ( pos + 2 ) % buffer.length;\n      }\n\n      samples ++;\n\n      arraySerial( poly ).map( ( iPoly ) => {\n        const noteTime = notesTime[ iPoly ];\n        const noteOffTime = notesOffTime[ iPoly ];\n\n        ret[ iPoly ][ 4 * iSample + 0 ] = t - noteTime; // time\n        ret[ iPoly ][ 4 * iSample + 1 ] = noteOffTime < noteTime ? 0.0 : t - noteOffTime; // offTime\n        ret[ iPoly ][ 4 * iSample + 2 ] = notes[ iPoly ]; // note\n        ret[ iPoly ][ 4 * iSample + 3 ] = 0.0; // reserved\n      } );\n    } );\n\n    return ret;\n  };\n}\n","import { arraySerial } from '../array';\n\n/**\n * Parse a tinyseq buffer.\n *\n * Returns [ time, offTime, note, reserved, time, offTime, note, reserved, ... ]\n */\nexport function createTinyseqReader(\n  buffer: Uint8Array,\n  options: {\n    blockSize?: number,\n    sampleRate?: number,\n    stepsPerSecond?: number,\n  } = {},\n): () => Float32Array {\n  const blockSize = options.blockSize ?? 128;\n  const sampleRate = options.sampleRate ?? 48000;\n  const stepsPerSecond = options.stepsPerSecond ?? 960.0;\n\n  let samples = 0;\n  let pos = 0;\n  let note: number;\n  let noteTime = -Infinity;\n  let noteOffTime = -Infinity;\n  let nextStep = 0;\n\n  return () => {\n    return new Float32Array( arraySerial( blockSize ).map( () => {\n      const t = samples / sampleRate;\n      const s = t * stepsPerSecond;\n\n      if ( s >= nextStep ) {\n        const eventNote = buffer[ pos ];\n        const eventDeltaStep = buffer[ pos + 1 ];\n\n        note = ( ( pos === 0 ? 60 : note ) + eventNote ) & 127;\n        if ( eventNote & 128 ) {\n          if ( noteOffTime < noteTime ) {\n            noteOffTime = t;\n          }\n        } else {\n          if ( noteOffTime >= noteTime ) {\n            noteTime = t;\n          }\n        }\n\n        nextStep += eventDeltaStep;\n\n        pos = ( pos + 2 ) % buffer.length;\n      }\n\n      samples ++;\n\n      return [\n        t - noteTime, // time\n        noteOffTime < noteTime ? 0.0 : t - noteOffTime, // offTime\n        note, // note\n        0.0, // reserved\n      ];\n    } ).flat() );\n  };\n}\n","import { MidiParseResult } from '../midi';\nimport { arraySerial } from '../array';\n\n/**\n * Convert the parsed midi result to a tinyseq binary.\n *\n * See: {@link midiParse}\n *\n * @param midi The parsed midi result\n * @param track The index of the midi track you want to convert\n * @param tickMultiplier Multiply this value to tick\n * @returns A tinyseq binary\n */\nexport function tinyseqFromMidiParseResult(\n  midi: MidiParseResult,\n  { track, tickMultiplier }: {\n    track?: number,\n    tickMultiplier?: number,\n  } = {},\n): Uint8Array {\n  const data: number[] = [];\n  let lastNote = 60;\n  let delta = 0;\n\n  const trackEvents = midi[ 1 ][ track ?? 0.0 ];\n\n  // [ delta, midi event, note, vel ][] -> [ onoff (0 or 128) + deltaNote, delta, ... ]\n  // [ [ 4, 144, 60, 100 ], [ 4, 128, 60, 100 ] ] -> [ 128, 4, 0, 4, 128, 0 ]\n\n  arraySerial( trackEvents.length + 1 ).map( ( i ) => {\n    delta += ( trackEvents[ i ]?.[ 0 ] ?? 0 ) * ( tickMultiplier ?? 1.0 );\n\n    if ( delta === 0 && i === 0 ) { return; } // ignore if it's the first event and delta is 0\n\n    const evMsg = trackEvents[ i - 1 ]?.[ 1 ] ?? 128;\n    const evNote = trackEvents[ i - 1 ]?.[ 2 ] ?? 60;\n\n    if ( evMsg >= 160 ) { return; } // ignore if the msg is not a note event\n\n    const noteDelta = ( evNote - lastNote + 128 ) & 127;\n    lastNote = evNote;\n    const onoff = evMsg < 144 ? 128 : 0; // 0 if on (144 - 159), 128 if off (128 - 143)\n\n    // probably 240 is more efficient than 256 since the division in most of midi files are 480 or 960\n    let deltaConsume = Math.floor( Math.min( delta, 240 ) );\n    data.push( noteDelta + onoff, deltaConsume );\n    delta -= deltaConsume;\n\n    while ( delta >= 1 ) {\n      deltaConsume = Math.floor( Math.min( delta, 240 ) );\n      data.push( onoff, deltaConsume );\n      delta -= deltaConsume;\n    }\n  } );\n\n  return new Uint8Array( data );\n}\n","export class Xorshift {\n  public seed: number;\n\n  public constructor( seed?: number ) {\n    this.seed = seed || 1;\n  }\n\n  public gen( seed?: number ): number {\n    if ( seed ) {\n      this.seed = seed;\n    }\n\n    this.seed = this.seed ^ ( this.seed << 13 );\n    this.seed = this.seed ^ ( this.seed >>> 17 );\n    this.seed = this.seed ^ ( this.seed << 5 );\n    return this.seed / Math.pow( 2, 32 ) + 0.5;\n  }\n\n  public set( seed?: number ): void {\n    this.seed = seed || this.seed || 1;\n  }\n}\n\nexport default Xorshift;\n","import { linearstep } from '../math/utils';\n\n/**\n * https://twitter.com/yugop\n *\n * @param text The input text\n * @param phase The value between 0.0 and 1.0\n * @param randomRatio The nerd value\n */\nexport function getYugopText( text: string, phase: number, randomRatio = 0.5 ): string {\n  if ( phase >= 1.0 ) { return text; }\n  if ( phase < 0.0 ) { return ''; }\n\n  /*\n   * ------=====\n   * .------====\n   * ..------===\n   * ...------==\n   * ....------=\n   * ^     ^   ^\n   * |     |   |\n   * |     |   phase is 1.0\n   * |     phase is randomRatio\n   * phase is 0.0\n   */\n\n  const displayTween = linearstep( 0.0, 1.0 - randomRatio, phase );\n  const fixTween = linearstep( randomRatio, 1.0, phase );\n\n  const displayLength = 1.0 + Math.floor( displayTween * ( text.length - 1 ) );\n  const fixLength = phase < randomRatio ? 0 : 1.0 + Math.floor( fixTween * ( text.length - 1 ) );\n  const randomLength = displayLength - fixLength;\n\n  const randomStr = [ ...Array( randomLength ) ]\n    .map( () => String.fromCharCode( 33 + Math.floor( 93 * Math.random() ) ) )\n    .join( '' );\n\n  return text.substring( 0, fixLength ) + randomStr;\n}\n","export class BinaryHeap<T> {\n  public readonly array: T[];\n  public readonly elementIndexMap: Map<T, number>;\n  public comparator: ( a: T, b: T ) => number;\n\n  public static defaultComparator( a: any, b: any ): number {\n    const aStr = `${ a }`;\n    const bStr = `${ b }`;\n\n    if ( aStr > bStr ) {\n      return 1;\n    } else if ( aStr < bStr ) {\n      return -1;\n    } else {\n      return 0;\n    }\n  }\n\n  public get length(): number {\n    return this.array.length;\n  }\n\n  public get isEmpty(): boolean {\n    return this.array.length === 0;\n  }\n\n  public get root(): T {\n    return this.array[ 0 ];\n  }\n\n  public constructor( init?: T[], comparator?: ( a: T, b: T ) => number ) {\n    this.array = [];\n    this.elementIndexMap = new Map();\n    this.comparator = comparator ?? BinaryHeap.defaultComparator;\n\n    if ( init != null ) {\n      for ( const el of init ) {\n        this.push( el );\n      }\n    }\n  }\n\n  public push( ...elements: T[] ): void {\n    elements.map( ( el ) => {\n      const i = this.length;\n      this.array.push( el );\n      this.elementIndexMap.set( el, i );\n      this.__up( i, el );\n    } );\n  }\n\n  public pop(): T | null {\n    if ( this.isEmpty ) {\n      return null;\n    }\n\n    const el = this.array[ 0 ];\n    this.elementIndexMap.delete( el );\n\n    if ( this.length === 1 ) {\n      this.array.splice( 0 );\n    } else {\n      const rep = this.array.pop();\n      this.__down( 0, rep! );\n    }\n\n    return el;\n  }\n\n  public delete( i: number ): boolean {\n    this.elementIndexMap.delete( this.array[ i ] );\n\n    const rep = this.array.pop();\n    if ( rep != null ) {\n      i = this.__up( i, rep );\n      i = this.__down( i, rep );\n    }\n\n    return true;\n  }\n\n  public replace( i: number, rep: T ): number | null {\n    if ( i != null ) {\n      this.elementIndexMap.delete( this.array[ i ] );\n\n      i = this.__up( i, rep );\n      i = this.__down( i, rep );\n    }\n\n    return i ?? null;\n  }\n\n  private __up( i: number, el: T ): number {\n    let ic = i;\n\n    while ( ic !== 0 ) {\n      const ip = ( ic - 1 ) >> 1;\n\n      const p = this.array[ ip ];\n      if ( this.comparator( el, p ) < 0 ) {\n        this.array[ ic ] = p;\n        this.elementIndexMap.set( p, ic );\n        ic = ip;\n      } else {\n        break;\n      }\n    }\n\n    this.array[ ic ] = el;\n    this.elementIndexMap.set( el, ic );\n    return ic;\n  }\n\n  private __down( i: number, el: T ): number {\n    let ip = i;\n\n    while ( ( ip << 1 ) + 1 < this.length ) {\n      const ic1 = ( ip << 1 ) + 1;\n      const ic2 = ( ip << 1 ) + 2;\n\n      if ( ic2 < this.length ) {\n        const c1 = this.array[ ic1 ];\n        const c2 = this.array[ ic2 ];\n\n        const pickLeft = this.comparator( c1, c2 ) < 0;\n        const c = pickLeft ? c1 : c2;\n        const ic = pickLeft ? ic1 : ic2;\n\n        if ( this.comparator( c, el ) < 0 ) {\n          this.array[ ip ] = c;\n          this.elementIndexMap.set( c, ip );\n          ip = ic;\n        } else {\n          break;\n        }\n      } else if ( this.comparator( this.array[ ic1 ], el ) < 0 ) {\n        this.array[ ip ] = this.array[ ic1 ];\n        this.elementIndexMap.set( this.array[ ip ], ip );\n        ip = ic1;\n      } else {\n        break;\n      }\n    }\n\n    this.array[ ip ] = el;\n    this.elementIndexMap.set( el, ip );\n    return ip;\n  }\n}\n","/**\n * A bare function to notify observers.\n * The incredibly cheap implementation of the observer pattern.\n *\n * @example\n * ```ts\n * const observers = new Set<( text: string ) => void>();\n *\n * observers.add( ( text ) => console.log( text ) );\n * observers.add( ( text ) => alert( text ) );\n *\n * notifyObservers( observers, 'wenis' );\n * ```\n *\n * @param observers The iterator of observers\n * @param param The param you want to give to observers\n */\nexport function notifyObservers( observers: Iterable<() => void> ): void;\nexport function notifyObservers<T>( observers: Iterable<( arg: T ) => void>, param: T ): void;\nexport function notifyObservers( observers: Iterable<( arg: any ) => void>, param?: any ): void {\n  for ( const observer of observers ) {\n    observer( param );\n  }\n}\n","// @ts-nocheck\r\n\r\nimport {mod} from '@0b5vr/experimental'\r\n// import {noi} from \"@0b5vr/experimental\"\r\n\r\nexport function fract(a: number) {\r\n\treturn mod(a, 1)\r\n}\r\n\r\nexport const tau: number = Math.PI * 2.0\r\nexport const pi: number = Math.PI\r\nexport const halfPi: number = Math.PI / 2\r\n\r\nexport function max(a: number, b: number): number {\r\n\treturn Math.max(a, b)\r\n}\r\nexport function min(a: number, b: number): number {\r\n\treturn Math.min(a, b)\r\n}\r\nexport function mix(a: number, b: number, f: number): number {\r\n\treturn a * (1.0 - f) + b * f\r\n}\r\n\r\nexport function log(a: number): number {\r\n\treturn Math.log(a)\r\n}\r\nexport function log2(a: number): number {\r\n\treturn Math.log2(a)\r\n}\r\n\r\nexport class Hash {\r\n\tseed = 0\r\n\tconstructor(seed = 1251254) {\r\n\t\tHash.seed = seed\r\n\t}\r\n\tstatic h11(p: number): number {\r\n\t\tp = fract(p * 0.1031)\r\n\t\tp *= p + 33.33\r\n\t\tp *= p + p\r\n\t\treturn fract(p)\r\n\t}\r\n\th11(p: number) {\r\n\t\treturn this.seeded(125124 + p * 1250)\r\n\t}\r\n\tseeded(a) {\r\n\t\tvar t = (a += 0x6d2b79f5)\r\n\t\tt = Math.imul(t ^ (t >>> 15), t | 1)\r\n\t\tt ^= t + Math.imul(t ^ (t >>> 7), t | 61)\r\n\t\treturn ((t ^ (t >>> 14)) >>> 0) / 4294967296\r\n\t}\r\n\r\n\tvalueNoise(a: number): number {\r\n\t\tconst fla = floor(a)\r\n\t\tconst ceila = fla + 1\r\n\t\tconst rcurr = Hash.h11(fla)\r\n\t\tconst rnext = Hash.h11(ceila)\r\n\t\tlet fr = fract(a)\r\n\t\tfr = smoothstep(0, 1, fr)\r\n\t\treturn lerp(rcurr, rnext, fr)\r\n\t}\r\n\r\n\tvalueNoiseSmooth(a: number, smoothness: number): number {\r\n\t\tconst fla = floor(a)\r\n\t\tconst ceila = fla + 1\r\n\t\tconst rcurr = this.h11(fla)\r\n\t\tconst rnext = this.h11(ceila)\r\n\t\tlet fr = fract(a)\r\n\t\tfor (let i = 0; i < smoothness; i++) {\r\n\t\t\tif (floor(i) === floor(smoothness)) {\r\n\t\t\t\tfr = lerp(fr, smoothstep(0, 1, fr), smoothness - i)\r\n\t\t\t\tbreak\r\n\t\t\t} else {\r\n\t\t\t\tfr = smoothstep(0, 1, fr)\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn lerp(rcurr, rnext, fr)\r\n\t}\r\n}\r\n\r\n// export const nkingSin = (x: number) => {\r\n//   const sq = (x: number) => x * x;\r\n//   const step = (a: number, b: number) => {\r\n//     if (a < b) return 0;\r\n//     else return 1;\r\n//   };\r\n//    val - Math.floor(val)\r\n//   return (sq(((x % pi) * 2) / pi - 1) - 1) * (1 - 2 * step(x % (2 * pi), pi));\r\n// };\r\n\r\nconst r2pi = 0.63661977236\r\n\r\nexport const nkingSin = (x: number) => {\r\n\tconst xtau = x * tau\r\n\tif (xtau - Math.floor(xtau) > pi) {\r\n\t\tconst mod = (x - pi) * r2pi - 1\r\n\t\treturn mod * mod - 1\r\n\t} else {\r\n\t\tconst mod = x * r2pi - 1\r\n\t\treturn 1 - mod * mod\r\n\t}\r\n}\r\n\r\nconst smoothsin = (x: number) => {\r\n\tconst b = x * x * (3.0 - 2.0 * x)\r\n\tconst a = x * (3 - 1.0 * x)\r\n\treturn a + (b - a) * b\r\n}\r\nconst oneOverHalfPi = 1 / (pi / 2)\r\nexport const fastSin = (x: number) => {\r\n\tx *= oneOverHalfPi\r\n\r\n\tconst id = Math.floor(x)\r\n\tx = x % 1\r\n\r\n\tlet side = 1\r\n\tif ((id - 2) % 4 < 2) {\r\n\t\tside = -1\r\n\t}\r\n\tif (id % 2 === 1) {\r\n\t\tx = 1 - x\r\n\t}\r\n\tlet approx = smoothsin(x)\r\n\tapprox *= side\r\n\treturn approx\r\n}\r\n\r\nexport function quantize(a: number, b: number): number {\r\n\treturn Math.floor(a / b) * b\r\n}\r\n\r\nexport function dmod(a: number, b: number, c: number? = 2) {\r\n\treturn max(mod(a, b) - b + 2, 0)\r\n}\r\n\r\nexport function abs(a: number): number {\r\n\treturn Math.abs(a)\r\n}\r\nexport function sign(a: number): number {\r\n\treturn a < 0 ? -1 : 1\r\n}\r\n\r\nexport function tri(a: number): number {\r\n\tconst fr = a - Math.floor(a)\r\n\treturn abs(fr - 0.5) * 2 - 1\r\n}\r\n\r\nexport function sin(a: number): number {\r\n\t// return fastSin(a)\r\n\t//  return nkingSin(a)\r\n\treturn Math.sin(a)\r\n}\r\nexport function cos(a: number): number {\r\n\t// return nkingSin(a + halfPi)\r\n\treturn Math.cos(a)\r\n}\r\nexport function floor(a: number): number {\r\n\treturn Math.floor(a)\r\n}\r\nexport function pow(a: number, b: number) {\r\n\treturn Math.pow(a, b)\r\n}\r\nexport function sqrt(a: number) {\r\n\treturn Math.sqrt(a)\r\n}\r\nexport function wrap(a: number, from: number, to: number) {\r\n\tconst range = to - from\r\n\ta -= from\r\n\ta = mod(a, range)\r\n\treturn from + a\r\n}\r\n\r\nexport const lerp = (a, b, x) => a + (b - a) * x\r\nexport const clamp = (x: number, l: number, h: number) => Math.min(Math.max(x, l), h)\r\nexport const saturate = (x: number) => Math.min(Math.max(x, 0.0), 1.0)\r\nexport const linearstep = (a, b, x) => saturate((x - a) / (b - a))\r\nexport const smoothstep = (a, b, x) => {\r\n\tconst t = linearstep(a, b, x)\r\n\treturn t * t * (3.0 - 2.0 * t)\r\n}\r\n\r\nexport function rand() {\r\n\treturn Math.random()\r\n}\r\n\r\n// Some easing functions\r\nclass Ease {\r\n\t// no easing, no acceleration\r\n\tstatic linear(t: number): number {\r\n\t\t;(t) => t\r\n\t}\r\n\t// accelerating from zero velocity\r\n\tstatic easeInQuad(t: number): number {\r\n\t\treturn t * t\r\n\t}\r\n\t// decelerating to zero velocity\r\n\tstatic easeOutQuad(t: number): number {\r\n\t\treturn t * (2 - t)\r\n\t}\r\n\t// acceleration until halfway, then deceleration\r\n\tstatic easeInOutQuad(t: number): number {\r\n\t\treturn t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t\r\n\t}\r\n\t// accelerating from zero velocity\r\n\tstatic easeInCubic(t: number): number {\r\n\t\treturn t * t * t\r\n\t}\r\n\t// decelerating to zero velocity\r\n\tstatic easeOutCubic(t: number): number {\r\n\t\treturn --t * t * t + 1\r\n\t}\r\n\t// acceleration until halfway, then deceleration\r\n\tstatic easeInOutCubic(t: number): number {\r\n\t\treturn t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1\r\n\t}\r\n\t// accelerating from zero velocity\r\n\tstatic easeInQuart(t: number): number {\r\n\t\treturn t * t * t * t\r\n\t}\r\n\t// decelerating to zero velocity\r\n\tstatic easeOutQuart(t: number): number {\r\n\t\treturn 1 - --t * t * t * t\r\n\t}\r\n\t// acceleration until halfway, then deceleration\r\n\tstatic easeInOutQuart(t: number): number {\r\n\t\treturn t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t\r\n\t}\r\n\t// accelerating from zero velocity\r\n\tstatic easeInQuint(t: number): number {\r\n\t\treturn t * t * t * t * t\r\n\t}\r\n\t// decelerating to zero velocity\r\n\tstatic easeOutQuint(t: number): number {\r\n\t\treturn 1 + --t * t * t * t * t\r\n\t}\r\n\t// acceleration until halfway, then deceleration\r\n\tstatic easeInOutQuint(t: number): number {\r\n\t\treturn t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t\r\n\t}\r\n\tstatic easeInElastic(t: number): number {\r\n\t\tconst c4 = (2 * Math.PI) / 3\r\n\r\n\t\treturn t === 0 ? 0 : t === 1 ? 1 : -Math.pow(2, 10 * t - 10) * Math.sin((t * 10 - 10.75) * c4)\r\n\t}\r\n\tstatic easeOutElastic(t: number): number {\r\n\t\tconst c4 = (2 * Math.PI) / 3\r\n\t\treturn t === 0 ? 0 : t === 1 ? 1 : Math.pow(2, -10 * t) * Math.sin((t * 10 - 0.75) * c4) + 1\r\n\t}\r\n\t// easeInOutElastic: t => {\r\n\t//   var s = 2 * t - 1 // remap: [0,0.5] -> [-1,0]\r\n\t//   var k = ((80 * s - 9) * Math.PI) / 18 // and    [0.5,1] -> [0,+1]\r\n\t//   if (s < 0) return -0.5 * Math.pow(2, 10 * s) * Math.sin(k)\r\n\t//   else return 1 + 0.5 * Math.pow(2, -10 * s) * Math.sin(k)\r\n\t// },\r\n}\r\n\r\nexport class WMath {\r\n\tstatic macos(x: number) {\r\n\t\treturn Math.acos(x)\r\n\t}\r\n\tstatic masin(x: number) {\r\n\t\treturn Math.asin(x)\r\n\t}\r\n\tstatic matan(y, x) {\r\n\t\treturn Math.atan2(y, x)\r\n\t}\r\n\tstatic mcos(x) {\r\n\t\treturn Math.cos(x)\r\n\t}\r\n\tstatic msin(x) {\r\n\t\treturn Math.sin(x)\r\n\t}\r\n\tstatic cos2(x) {\r\n\t\treturn [Math.cos(x[0]), Math.cos(x[1])]\r\n\t}\r\n\tstatic cos3(x) {\r\n\t\treturn [Math.cos(x[0]), Math.cos(x[1]), Math.cos(x[2])]\r\n\t}\r\n\tstatic sin2(x) {\r\n\t\treturn [Math.sin(x[0]), Math.sin(x[1])]\r\n\t}\r\n\tstatic sin3(x) {\r\n\t\treturn [Math.sin(x[0]), Math.sin(x[1]), Math.sin(x[2])]\r\n\t}\r\n\tstatic sin4(x) {\r\n\t\treturn [Math.sin(x[0]), Math.sin(x[1]), Math.sin(x[2]), Math.sin(x[3])]\r\n\t}\r\n\tstatic SC(x) {\r\n\t\treturn [Math.sin(x), Math.cos(x)]\r\n\t}\r\n\tstatic add2(a, b) {\r\n\t\treturn [a[0] + b[0], a[1] + b[1]]\r\n\t}\r\n\tstatic add3(a, b) {\r\n\t\treturn [a[0] + b[0], a[1] + b[1], a[2] + b[2]]\r\n\t}\r\n\tstatic add31(a, b) {\r\n\t\treturn [a[0] + b, a[1] + b, a[2] + b]\r\n\t}\r\n\tstatic add4(a, b) {\r\n\t\treturn [a[0] + b[0], a[1] + b[1], a[2] + b[2], a[3] + b[3]]\r\n\t}\r\n\tstatic sub3(a, b) {\r\n\t\treturn [a[0] - b[0], a[1] - b[1], a[2] - b[2]]\r\n\t}\r\n\tstatic sub2(a, b) {\r\n\t\treturn [a[0] - b[0], a[1] - b[1]]\r\n\t}\r\n\tstatic dot3(a, b) {\r\n\t\treturn a[0] * b[0] + a[1] * b[1] + a[2] * b[2]\r\n\t}\r\n\tstatic abs3(a) {\r\n\t\treturn [a[0] > 0 ? a[0] : -a[0], a[1] > 0 ? a[1] : -a[1], a[2] > 0 ? a[2] : -a[2]]\r\n\t}\r\n\tstatic scale2(a, b) {\r\n\t\treturn [a[0] * b, a[1] * b]\r\n\t}\r\n\tstatic scale3(a, b) {\r\n\t\treturn [a[0] * b, a[1] * b, a[2] * b]\r\n\t}\r\n\tstatic scale4(a, b) {\r\n\t\treturn [a[0] * b, a[1] * b, a[2] * b, a[3] * b]\r\n\t}\r\n\tstatic mul3(a, b) {\r\n\t\treturn [a[0] * b[0], a[1] * b[1], a[2] * b[2]]\r\n\t}\r\n\tstatic mul4(a, b) {\r\n\t\treturn [a[0] * b[0], a[1] * b[1], a[2] * b[2], a[3] * b[3]]\r\n\t}\r\n\tstatic mymix(a, b, f) {\r\n\t\treturn a * (1.0 - f) + b * f\r\n\t}\r\n\tstatic mymix22(a, b, f) {\r\n\t\treturn [a[0] * (1.0 - f[0]) + b[0] * f[0], a[1] * (1.0 - f[1]) + b[1] * f[1]]\r\n\t}\r\n\tstatic mix1(a, b, f) {\r\n\t\treturn a * (1.0 - f) + b * f\r\n\t}\r\n\tstatic mix3(a, b, f) {\r\n\t\treturn add3(scale3(a, 1.0 - f), scale3(b, f))\r\n\t}\r\n\tstatic length2(a) {\r\n\t\treturn Math.sqrt(a[0] * a[0] + a[1] * a[1])\r\n\t}\r\n\tstatic length3(a) {\r\n\t\treturn Math.sqrt(a[0] * a[0] + a[1] * a[1] + a[2] * a[2])\r\n\t}\r\n\tstatic length4(a) {\r\n\t\treturn Math.sqrt(a[0] * a[0] + a[1] * a[1] + a[2] * a[2] + a[3] * a[3])\r\n\t}\r\n\tstatic normalize3(a) {\r\n\t\treturn scale3(a, 1.0 / length3(a))\r\n\t}\r\n\tstatic normalize4(a) {\r\n\t\treturn scale4(a, 1.0 / length4(a))\r\n\t}\r\n\tstatic cross(a, b) {\r\n\t\treturn [a[1] * b[2] - b[1] * a[2], a[2] * b[0] - b[2] * a[0], a[0] * b[1] - b[0] * a[1]]\r\n\t}\r\n\tG = 0.5 + Math.sqrt(5 / 4)\r\n\tstatic fract1(a) {\r\n\t\treturn a - Math.floor(a)\r\n\t}\r\n\tstatic floor2(a) {\r\n\t\treturn [Math.floor(a[0]), Math.floor(a[1])]\r\n\t}\r\n\tstatic fract2(a) {\r\n\t\treturn [fract1(a[0]), fract1(a[1])]\r\n\t}\r\n\tstatic fract3(a) {\r\n\t\treturn [fract1(a[0]), fract1(a[1]), fract1(a[2])]\r\n\t}\r\n\tstatic fract4(a) {\r\n\t\treturn [fract1(a[0]), fract1(a[1]), fract1(a[2]), fract1(a[3])]\r\n\t}\r\n\tstatic clamp1(a, a1, a2) {\r\n\t\treturn a < a1 ? a1 : a > a2 ? a2 : a\r\n\t}\r\n\tstatic clamp31(a, a1, a2) {\r\n\t\treturn [clamp1(a[0], a1, a2), clamp1(a[1], a1, a2), clamp1(a[2], a1, a2)]\r\n\t}\r\n\tstatic rotX(ph, v) {\r\n\t\treturn [v[0], v[1] * mcos(ph) + v[2] * msin(ph), v[2] * mcos(ph) - v[1] * msin(ph)]\r\n\t}\r\n\tstatic rotY(ph, v) {\r\n\t\treturn [v[0] * mcos(ph) + v[2] * msin(ph), v[1], v[2] * mcos(ph) - v[0] * msin(ph)]\r\n\t}\r\n\tstatic rotZ(ph, v) {\r\n\t\treturn [v[0] * mcos(ph) + v[1] * msin(ph), v[1] * mcos(ph) - v[0] * msin(ph), v[2]]\r\n\t}\r\n\tstatic hsv2rgb(c) {\r\n\t\tvar K = [1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0]\r\n\t\tvar p = abs3(sub3(scale3(fract3(add3([c[0], c[0], c[0]], K)), 6.0), [3, 3, 3]))\r\n\t\treturn scale3(mix3([1, 1, 1], clamp31(sub3(p, [1, 1, 1]), 0.0, 1.0), c[1]), c[2])\r\n\t}\r\n}\r\n","import {pause_on_gl_error} from 'gl_utils'\r\nimport {log2, min, pow} from 'wmath'\r\nimport {Framebuffer} from './Framebuffer'\r\n\r\nexport class Texture {\r\n\t// @ts-ignore\r\n\ttex: WebGLTexture\r\n\tinternal_format: number\r\n\tformat: number\r\n\ttype: number\r\n\tres: Array<number>\r\n\r\n\tprivate is_float: boolean\r\n\tmipmapped: boolean\r\n\tprivate mip_levels: number\r\n\r\n\tconstructor(res: number[], internal_format: number = gl.RGBA, mipmapped = false, mip_levels: number = 0) {\r\n\t\tconst eq_any = (a: any, b: any[]): boolean => {\r\n\t\t\tlet eq = false\r\n\t\t\tb.forEach((b) => {\r\n\t\t\t\tif (b === a) {\r\n\t\t\t\t\teq = true\r\n\t\t\t\t\t// return eq\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn eq\r\n\t\t}\r\n\t\tthis.res = [...res]\r\n\t\tthis.internal_format = internal_format\r\n\r\n\t\tthis.mipmapped = mipmapped\r\n\t\tthis.mip_levels = mip_levels\r\n\r\n\t\tthis.is_float = eq_any(internal_format, [gl.RGBA32F, gl.RGBA16F, gl.RGB16F, gl.RGB32F])\r\n\r\n\t\tlet comp_cnt = 4\r\n\t\tif (eq_any(internal_format, [gl.RGBA32F, gl.RGBA16F, gl.RGBA, gl.RGBA16I, gl.RGBA16UI, gl.RGBA32I, gl.RGBA8I, gl.RGBA8UI])) {\r\n\t\t\tcomp_cnt = 4\r\n\t\t}\r\n\t\tif (eq_any(internal_format, [gl.RGB32F, gl.RGB16F, gl.RGB, gl.RGB16I, gl.RGB16UI, gl.RGB32I, gl.RGB8I, gl.RGB8UI])) {\r\n\t\t\tcomp_cnt = 3\r\n\t\t}\r\n\r\n\t\tthis.format = comp_cnt === 4 ? gl.RGBA : gl.RGB\r\n\t\tthis.type = this.is_float ? gl.FLOAT : gl.UNSIGNED_BYTE\r\n\r\n\t\tif (eq_any(internal_format, [gl.RGBA8UI, gl.RGBA16UI, gl.RGBA32UI, gl.RGB8UI, gl.RGB16UI, gl.RGB32UI])) {\r\n\t\t\tthis.type = gl.UNSIGNED_INT\r\n\t\t}\r\n\t\tif (eq_any(internal_format, [gl.RGBA8I, gl.RGBA16I, gl.RGBA32I, gl.RGB8I, gl.RGB16I, gl.RGB32I])) {\r\n\t\t\tthis.type = gl.INT\r\n\t\t}\r\n\t\tthis.recreate()\r\n\t}\r\n\trecreate() {\r\n\t\tif (this.tex) {\r\n\t\t\tgl.deleteTexture(this.tex)\r\n\t\t}\r\n\t\t// @ts-ignore\r\n\t\tthis.tex = gl.createTexture()\r\n\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, this.tex)\r\n\r\n\t\tif (this.is_float) {\r\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST)\r\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST)\r\n\t\t} else {\r\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR)\r\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR)\r\n\t\t}\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE)\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE)\r\n\r\n\t\tif (this.mipmapped) {\r\n\t\t\tif (this.mip_levels === 0) {\r\n\t\t\t\tif (this.res[0] > 4 && this.res[1] > 4) {\r\n\t\t\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR)\r\n\t\t\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR)\r\n\t\t\t\t\tgl.texStorage2D(gl.TEXTURE_2D, log2(min(this.res[0], this.res[1])), this.internal_format, this.res[0], this.res[1])\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, this.internal_format, this.res[0], this.res[1], 0, this.format, this.type, null)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tpause_on_gl_error()\r\n\t\t} else {\r\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, this.internal_format, this.res[0], this.res[1], 0, this.format, this.type, null)\r\n\t\t}\r\n\t\t// console.log(gl.isTexture(this.tex))\r\n\r\n\t\tif (!gl.isTexture(this.tex)) {\r\n\t\t\tconsole.error('TEXTURE INCOMPLETE')\r\n\t\t}\r\n\t}\r\n\r\n\tresize(new_res: number[]) {\r\n\t\tthis.res = [...new_res]\r\n\t\tif (this.mipmapped) {\r\n\t\t\tgl.deleteTexture(this.tex)\r\n\t\t\tthis.recreate()\r\n\t\t} else {\r\n\t\t\tgl.activeTexture(gl.TEXTURE15)\r\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, this.tex)\r\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, this.internal_format, this.res[0], this.res[1], 0, this.format, this.type, null)\r\n\t\t}\r\n\t}\r\n\tstatic async from_image_path(img_path: string): Promise<Texture> {\r\n\t\tfunction loadImage(url: string): Promise<HTMLImageElement> {\r\n\t\t\treturn new Promise((resolve) => {\r\n\t\t\t\tconst image = new Image()\r\n\t\t\t\timage.crossOrigin = 'anonymous'\r\n\t\t\t\timage.addEventListener('load', () => {\r\n\t\t\t\t\tresolve(image)\r\n\t\t\t\t})\r\n\t\t\t\timage.src = url\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tconst img = await loadImage(img_path)\r\n\t\tconst tex = new Texture([img.naturalWidth, img.naturalHeight], gl.RGBA8, true, 0)\r\n\t\t// tex.upload_from_cpu(img)\r\n\t\t// gl.getTexParameter(gl.TEXTURE_2D, gl.TYPE)\r\n\t\tgl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, tex.res[0], tex.res[1], tex.format, tex.type, img)\r\n\t\tgl.generateMipmap(gl.TEXTURE_2D)\r\n\t\tpause_on_gl_error()\r\n\t\t// Not needed?\r\n\t\tgl.finish()\r\n\t\timg.remove()\r\n\t\treturn tex\r\n\t}\r\n\r\n\tupload_from_cpu(image: HTMLImageElement | number[] | Float32Array) {\r\n\t\tif (image instanceof HTMLImageElement) {\r\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, this.internal_format, this.res[0], this.res[1], 0, this.format, this.type, image)\r\n\t\t} else {\r\n\t\t\tdebugger\r\n\t\t}\r\n\t}\r\n\r\n\tclone(): Texture {\r\n\t\treturn new Texture(this.res, this.internal_format, this.mipmapped, this.mip_levels)\r\n\t}\r\n\tbind_to_unit(unit: number) {\r\n\t\tgl.activeTexture(gl.TEXTURE0 + unit)\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, this.tex)\r\n\t}\r\n\r\n\tread_back_array(offs: number[] = [0, 0], read_back_res: number[] = [...this.res]): Uint8Array | Float32Array {\r\n\t\tlet temp_fb = gl.createFramebuffer() as WebGLFramebuffer\r\n\t\tlet prev_bound_fb = Framebuffer.currently_bound\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, temp_fb)\r\n\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.tex, 0)\r\n\r\n\t\t// const data = new Uint8Array(this.res[0] * this.res[1] * 4)\r\n\r\n\t\tconst data = this.is_float\r\n\t\t\t? new Float32Array(read_back_res[0] * read_back_res[1] * 4)\r\n\t\t\t: new Uint8Array(read_back_res[0] * read_back_res[1] * 4)\r\n\t\tgl.readPixels(offs[0], offs[1], read_back_res[0], read_back_res[1], this.format, this.type, data)\r\n\t\t// console.log(data)\r\n\t\tgl.deleteFramebuffer(temp_fb)\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, prev_bound_fb.fb)\r\n\t\treturn data\r\n\t}\r\n\tread_back_pixel(offs: number[]): Array<number> {\r\n\t\tlet data = this.read_back_array(offs, [1, 1])\r\n\t\tif (this.is_float) {\r\n\t\t\tdata.forEach((e, i, a) => {\r\n\t\t\t\ta[i] *= 255\r\n\t\t\t})\r\n\t\t}\r\n\t\tdata[3] = 255\r\n\t\t// @ts-ignore\r\n\t\treturn Array.from(data)\r\n\t}\r\n\tasync read_back_image(\r\n\t\tgamma_correct: boolean = false,\r\n\t\toffs: number[] = [0, 0],\r\n\t\tread_back_res: number[] = [...this.res],\r\n\t): Promise<[HTMLImageElement, Blob]> {\r\n\t\tlet data = this.read_back_array(offs, read_back_res)\r\n\t\tlet data_reflected: Float32Array | Uint8Array = new Float32Array(data.length)\r\n\r\n\t\tlet i = 0\r\n\t\tlet idx = 0\r\n\t\tfor (let pixel of data) {\r\n\t\t\tif (i === 3) {\r\n\t\t\t\tif (this.is_float) {\r\n\t\t\t\t\tdata[idx] = 255\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdata[idx] = 255\r\n\t\t\t\t}\r\n\t\t\t\ti = -1\r\n\t\t\t} else {\r\n\t\t\t\tif (gamma_correct) {\r\n\t\t\t\t\tif (this.is_float) {\r\n\t\t\t\t\t\tdata[idx] = 255 * pow(data[idx], 0.4545454545)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdata[idx] = 255 * pow(data[idx] / 255, 0.4545454545)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// data[idx] *= 240\r\n\t\t\t}\r\n\t\t\tidx++\r\n\t\t\ti++\r\n\t\t}\r\n\r\n\t\tfor (let y = 0; y < read_back_res[1]; y++) {\r\n\t\t\tfor (let x = 0; x < read_back_res[0]; x++) {\r\n\t\t\t\tconst idx = y * read_back_res[0] * 4 + x * 4\r\n\t\t\t\tconst idx_refl = (read_back_res[1] - y - 1) * read_back_res[0] * 4 + x * 4\r\n\t\t\t\tdata_reflected[idx + 0] = data[idx_refl]\r\n\t\t\t\tdata_reflected[idx + 1] = data[idx_refl + 1]\r\n\t\t\t\tdata_reflected[idx + 2] = data[idx_refl + 2]\r\n\t\t\t\tdata_reflected[idx + 3] = data[idx_refl + 3]\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Create a 2D canvas to store the result\r\n\t\tconst canvas = document.createElement('canvas')\r\n\t\tcanvas.width = this.res[0]\r\n\t\tcanvas.height = this.res[1]\r\n\t\tconst context = canvas.getContext('2d') as CanvasRenderingContext2D\r\n\r\n\t\tlet blob: Blob\r\n\r\n\t\tconst getCanvasBlob = (canvas: HTMLCanvasElement): Promise<Blob> => {\r\n\t\t\treturn new Promise(function (resolve, reject) {\r\n\t\t\t\tcanvas.toBlob(function (blob) {\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tresolve(blob)\r\n\t\t\t\t}, 'image/png')\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tblob = await getCanvasBlob(canvas)\r\n\r\n\t\tconst imageData = context.createImageData(canvas.width, canvas.height)\r\n\t\timageData.data.set(data_reflected)\r\n\t\tcontext.putImageData(imageData, 0, 0)\r\n\t\tconst img = new Image()\r\n\t\timg.src = canvas.toDataURL()\r\n\r\n\t\tcanvas.remove()\r\n\t\t// @ts-ignore\r\n\t\treturn [img, blob]\r\n\t}\r\n}\r\n","import {Texture} from './Texture'\r\n\r\nexport class Framebuffer {\r\n\tstatic currently_bound: Framebuffer\r\n\tstatic framebuffers: Framebuffer[] = []\r\n\t_textures: Array<Texture>\r\n\t_back_textures: Array<Texture>\r\n\tprivate _fb: WebGLFramebuffer\r\n\t// @ts-ignore\r\n\tprivate _fb_back: WebGLFramebuffer = undefined\r\n\tdefault: boolean = false\r\n\tpongable: boolean = false\r\n\tneeds_pong: boolean = false\r\n\tpong_idx: number = 0\r\n\r\n\tpublic get textures(): Array<Texture> {\r\n\t\tif (this.pong_idx === 0) return this._textures\r\n\t\telse return this._back_textures\r\n\t}\r\n\tpublic get back_textures(): Array<Texture> {\r\n\t\tif (this.pong_idx === 0) return this._back_textures\r\n\t\telse return this._textures\r\n\t}\r\n\r\n\tpublic get fb(): WebGLFramebuffer {\r\n\t\tif (this.pong_idx === 0) return this._fb\r\n\t\telse return this._fb_back\r\n\t}\r\n\tpublic get fb_back(): WebGLFramebuffer {\r\n\t\tif (this.pong_idx === 0) return this._fb_back\r\n\t\telse return this._fb\r\n\t}\r\n\r\n\tpublic pong() {\r\n\t\tthis.pong_idx = 1 - this.pong_idx\r\n\t\tthis.needs_pong = false\r\n\t}\r\n\r\n\tpublic recreate() {\r\n\t\tif (this.pongable) {\r\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this._fb_back)\r\n\r\n\t\t\tlet i = 0\r\n\t\t\tfor (let tex of this._back_textures) {\r\n\t\t\t\tgl.framebufferTexture2D(\r\n\t\t\t\t\tgl.FRAMEBUFFER,\r\n\t\t\t\t\tgl.COLOR_ATTACHMENT0 + i,\r\n\t\t\t\t\tgl.TEXTURE_2D,\r\n\t\t\t\t\ttex.tex,\r\n\t\t\t\t\t0, // level, this is the mipmap level\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (gl.checkFramebufferStatus(gl.FRAMEBUFFER) !== gl.FRAMEBUFFER_COMPLETE) {\r\n\t\t\t\tconsole.error('FRAMEBUFFER INCOMPLETE')\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this._fb)\r\n\r\n\t\tlet i = 0\r\n\t\tfor (let tex of this._textures) {\r\n\t\t\tgl.framebufferTexture2D(\r\n\t\t\t\tgl.FRAMEBUFFER,\r\n\t\t\t\tgl.COLOR_ATTACHMENT0 + i,\r\n\t\t\t\tgl.TEXTURE_2D,\r\n\t\t\t\ttex.tex,\r\n\t\t\t\t0, // level, this is the mipmap level\r\n\t\t\t)\r\n\t\t\ti++\r\n\t\t}\r\n\r\n\t\tif (gl.checkFramebufferStatus(gl.FRAMEBUFFER) !== gl.FRAMEBUFFER_COMPLETE) {\r\n\t\t\tconsole.error('FRAMEBUFFER INCOMPLETE')\r\n\t\t}\r\n\t}\r\n\tconstructor(textures: Array<Texture>, pongable: boolean = false) {\r\n\t\tthis._fb = gl.createFramebuffer() as WebGLFramebuffer\r\n\t\tthis._textures = [...textures]\r\n\t\tthis.pongable = pongable\r\n\t\tthis._back_textures = []\r\n\r\n\t\tif (this.pongable) {\r\n\t\t\tthis._fb_back = gl.createFramebuffer() as WebGLFramebuffer\r\n\t\t\tfor (let tex of this.textures) {\r\n\t\t\t\tthis._back_textures.push(tex.clone())\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.recreate()\r\n\r\n\t\t// if (this !== Framebuffer.currently_bound) gl.bindFramebuffer(gl.FRAMEBUFFER, Framebuffer.currently_bound._fb)\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, Framebuffer.currently_bound._fb)\r\n\t\tFramebuffer.framebuffers.push(this)\r\n\t}\r\n\tbind() {\r\n\t\tif (this.pongable) this.needs_pong = true\r\n\t\tlet draw_buffs: number[] = []\r\n\r\n\t\tif (this.default) {\r\n\t\t\tdraw_buffs = [gl.BACK]\r\n\t\t} else {\r\n\t\t\tlet i = 0\r\n\t\t\tfor (let tex of this.textures) {\r\n\t\t\t\tdraw_buffs.push(gl.COLOR_ATTACHMENT0 + i)\r\n\t\t\t\ti++\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tgl.viewport(0, 0, this.textures[0].res[0], this.textures[0].res[1])\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.fb)\r\n\t\tFramebuffer.currently_bound = this\r\n\t\t// gl.drawBuffers(draw_buffs)\r\n\t}\r\n\tclear(colour: number[] = [0, 0, 0, 0]) {\r\n\t\t// if (this.fb !== Framebuffer.currently_bound.fb) gl.bindFramebuffer(gl.FRAMEBUFFER, this.fb)\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.fb)\r\n\t\tgl.clearColor(colour[0], colour[1], colour[2], colour[3])\r\n\t\tgl.clear(gl.COLOR_BUFFER_BIT)\r\n\t\t// if (this.fb !== Framebuffer.currently_bound.fb) gl.bindFramebuffer(gl.FRAMEBUFFER, Framebuffer.currently_bound.fb)\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, Framebuffer.currently_bound.fb)\r\n\t}\r\n}\r\n","import {Framebuffer} from 'gl/Framebuffer'\r\nimport {Texture} from 'gl/Texture'\r\n\r\nexport function init_gl_error_handling() {\r\n\tif (!gl.debugEnabled) return\r\n\tgl.glEnums = {}\r\n\tgl.enumStringToValue = {}\r\n\tfor (let propertyName in gl) {\r\n\t\tif (typeof gl[propertyName] === 'number') {\r\n\t\t\tgl.glEnums[gl[propertyName]] = propertyName\r\n\t\t\tgl.enumStringToValue[propertyName] = gl[propertyName]\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function gl_enum_to_string(value): string {\r\n\t// checkInit();\r\n\tconst name = window.gl.glEnums[value]\r\n\treturn name !== undefined ? 'gl.' + name : '/*UNKNOWN WebGL ENUM*/ 0x' + value.toString(16) + ''\r\n}\r\nexport function print_on_gl_error() {\r\n\tif (!gl.debugEnabled) return\r\n\tlet err = window.gl.getError()\r\n\tif (err !== 0) {\r\n\t\tconsole.error(err)\r\n\t\tconsole.error(gl_enum_to_string(err))\r\n\t}\r\n}\r\nexport function pause_on_gl_error() {\r\n\tif (!gl.debugEnabled) return\r\n\tlet err = window.gl.getError()\r\n\tif (err !== 0) {\r\n\t\tconsole.error(err)\r\n\t\tconsole.error(gl_enum_to_string(err))\r\n\t\tdebugger\r\n\t}\r\n}\r\n\r\nexport function copy_fb_to_texture(in_framebuffer: WebGLFramebuffer, out_texture: Texture) {\r\n\tgl.bindFramebuffer(gl.FRAMEBUFFER, in_framebuffer)\r\n\tgl.bindTexture(gl.TEXTURE_2D, out_texture.tex)\r\n\tgl.copyTexImage2D(gl.TEXTURE_2D, 0, out_texture.internal_format, 0, 0, out_texture.res[0], out_texture.res[1], 0)\r\n}\r\nexport function copy_fb_to_fb(in_framebuffer: WebGLFramebuffer, out_framebuffer: WebGLFramebuffer, res: number[]) {\r\n\tgl.bindFramebuffer(gl.READ_FRAMEBUFFER, in_framebuffer)\r\n\tgl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, out_framebuffer)\r\n\tgl.blitFramebuffer(0, 0, res[0], res[1], 0, 0, res[0], res[1], gl.COLOR_BUFFER_BIT, gl.NEAREST)\r\n}\r\n\r\nexport function resizeIfNeeded(canvas: HTMLCanvasElement, default_framebuffer: Framebuffer, client_res: number[]) {\r\n\tconst displayWidth = canvas.clientWidth\r\n\tconst displayHeight = canvas.clientHeight\r\n\r\n\tconst needResize = canvas.width !== displayWidth || canvas.height !== displayHeight\r\n\r\n\t// for(let tex of Texture.te)\r\n\tif (needResize) {\r\n\t\t// font-size: 1.7vw;\r\n\t\t// let html_elem = document.querySelector('html') as HTMLElement\r\n\t\t// html_elem.style.fontSize = `${html_elem.clientWidth / html_elem.clientHeight}rem`\r\n\t\tclient_res[0] = canvas.width = displayWidth\r\n\t\tclient_res[1] = canvas.height = displayHeight\r\n\t\t// @ts-ignore\r\n\t\tdefault_framebuffer._textures[0].res = [...client_res]\r\n\t\tfor (let fb of Framebuffer.framebuffers) {\r\n\t\t\tif (fb.default) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tfor (let tex of fb._textures) {\r\n\t\t\t\ttex.resize(client_res)\r\n\t\t\t}\r\n\t\t\tfor (let tex of fb._back_textures) {\r\n\t\t\t\ttex.resize(client_res)\r\n\t\t\t}\r\n\t\t\tfb.recreate()\r\n\t\t}\r\n\t}\r\n\r\n\treturn needResize\r\n}\r\n","import {Texture} from './Texture'\r\n\r\nexport class ShaderProgram {\r\n\t[x: string]: WebGLUniformLocation | null\r\n\tprogram: WebGLProgram\r\n\tloadShader(type: number, source: string) {\r\n\t\tsource = source.replaceAll('export default \"', ``)\r\n\t\tsource = source.replaceAll('\";', ``)\r\n\t\tsource = source.replaceAll('\"', ``)\r\n\t\tsource = source.replaceAll(\r\n\t\t\t`\\\\n`,\r\n\t\t\t`\r\n\t\t`,\r\n\t\t)\r\n\t\tsource = source.replace(\r\n\t\t\t/(.*)(#version 300 es)[\\t\\s]*/g,\r\n\t\t\t`$2\r\n\t\t\t`,\r\n\t\t)\r\n\t\tsource = source.replaceAll(\r\n\t\t\t/(#define .+)[\\t\\s]*/g,\r\n\t\t\t`\r\n\t\t$1\r\n\t\t`,\r\n\t\t)\r\n\t\tsource = source.replaceAll(\r\n\t\t\t/\t+precision highp float;/gm,\r\n\t\t\t`precision highp float;\r\n\t\t\t`,\r\n\t\t)\r\n\t\tsource = source.replaceAll(`\\\\t`, `\t`)\r\n\t\tconst shader = gl.createShader(type) as WebGLShader\r\n\r\n\t\tgl.shaderSource(shader, source)\r\n\t\tgl.compileShader(shader)\r\n\t\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n\t\t\tconsole.error(`An error occurred compiling the shaders: ${gl.getShaderInfoLog(shader)}`)\r\n\t\t\tconsole.error(source)\r\n\t\t}\r\n\t\treturn shader\r\n\t}\r\n\tconstructor(vs: string, fs: string) {\r\n\t\tconst vertexShader = this.loadShader(gl.VERTEX_SHADER, vs)\r\n\t\tconst fragmentShader = this.loadShader(gl.FRAGMENT_SHADER, fs)\r\n\r\n\t\tconst shaderProgram = gl.createProgram() as WebGLProgram\r\n\t\tgl.attachShader(shaderProgram, vertexShader)\r\n\t\tgl.attachShader(shaderProgram, fragmentShader)\r\n\t\tgl.linkProgram(shaderProgram)\r\n\r\n\t\tif (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\r\n\t\t\tconsole.error(`Unable to initialize the shader program: ${gl.getProgramInfoLog(shaderProgram)}`)\r\n\t\t\tconsole.error(vs)\r\n\t\t\tconsole.error(fs)\r\n\t\t}\r\n\r\n\t\tthis.program = shaderProgram\r\n\t\tgl.useProgram(this.program)\r\n\t\tgl.uniformBlockBinding(this.program, 0, 0)\r\n\t}\r\n\tuse() {\r\n\t\tgl.useProgram(this.program)\r\n\t}\r\n\tsetUniformVec(name: string, vec: number[]) {\r\n\t\tif (vec.length == 2) gl.uniform2fv(gl.getUniformLocation(this.program, name), vec)\r\n\t\telse if (vec.length == 3) gl.uniform3fv(gl.getUniformLocation(this.program, name), vec)\r\n\t\telse if (vec.length == 4) gl.uniform4fv(gl.getUniformLocation(this.program, name), vec)\r\n\t}\r\n\tsetUniformFloat(name: string, value: number) {\r\n\t\tgl.uniform1f(gl.getUniformLocation(this.program, name), value)\r\n\t}\r\n\tsetUniformInt(name: string, value: number) {\r\n\t\tgl.uniform1i(gl.getUniformLocation(this.program, name), value)\r\n\t}\r\n\tsetUniformTexture(name: string, texture: Texture, binding: number = 0) {\r\n\t\tgl.activeTexture(gl.TEXTURE0 + binding)\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture.tex)\r\n\t\tgl.uniform1i(gl.getUniformLocation(this.program, name), binding)\r\n\t}\r\n}\r\n","import {VertexBuffer} from './Buffer'\r\nimport {ShaderProgram} from './ShaderProgram'\r\n\r\nexport interface BuffBinding {\r\n\tbuff: VertexBuffer\r\n\tparams?: AttribPointerParams\r\n}\r\nexport interface AttribPointerParams {\r\n\tvert_sz?: number\r\n\tstride?: number\r\n\ttype?: number\r\n\toffset?: number\r\n}\r\nexport interface DrawParams {\r\n\tprim_type?: number\r\n\tdraw_cnt?: number\r\n}\r\n\r\nexport class Thing {\r\n\tvao: WebGLVertexArrayObject\r\n\tbuffs: VertexBuffer[]\r\n\tshader: ShaderProgram\r\n\tprim_type: number\r\n\r\n\tconstructor(buffs: VertexBuffer[], prim_type: number = gl.TRIANGLES, shader: ShaderProgram) {\r\n\t\tthis.prim_type = prim_type\r\n\t\tthis.shader = shader\r\n\t\tthis.vao = gl.createVertexArray() as WebGLVertexArrayObject\r\n\t\tthis.buffs = [...buffs]\r\n\t\tgl.bindVertexArray(this.vao)\r\n\t\tlet i = 0\r\n\t\tfor (let buff of this.buffs) {\r\n\t\t\tgl.enableVertexAttribArray(i)\r\n\t\t\tbuff.bindToAttrib(i)\r\n\t\t\ti++\r\n\t\t}\r\n\t}\r\n\tstatic draw_external_buffs_and_shader(buffs: BuffBinding[], shader: ShaderProgram, params: DrawParams) {\r\n\t\tshader.use()\r\n\t\t// gl.bindVertexArray(gl.defaultVao)\r\n\t\t// gl.disableVertexAttribArray(0)\r\n\t\t// gl.disableVertexAttribArray(1)\r\n\t\tlet i = 0\r\n\t\t// for (let buff of buffs) {\r\n\t\t// \tgl.enableVertexAttribArray(i)\r\n\t\t// \tbuff.buff.bindToAttrib(i, buff.params ?? undefined)\r\n\t\t// \ti++\r\n\t\t// }\r\n\t\tparams.prim_type = params.prim_type ?? gl.TRIANGLES\r\n\t\tparams.draw_cnt = params.draw_cnt ?? buffs[0].buff.sz / buffs[0].buff.single_vert_sz\r\n\r\n\t\tif (params.prim_type === gl.TRIANGLES) {\r\n\t\t\tgl.drawArrays(gl.TRIANGLES, 0, params.draw_cnt)\r\n\t\t\tconsole.log('DREW')\r\n\t\t\tconsole.log(params.draw_cnt)\r\n\t\t} else {\r\n\t\t\talert('bleep bloop errrorrr')\r\n\t\t}\r\n\t}\r\n\r\n\tupload_all_buffs() {\r\n\t\tfor (let buff of this.buffs) {\r\n\t\t\tbuff.upload()\r\n\t\t}\r\n\t}\r\n\tdraw_with_external_shader(shader: ShaderProgram) {\r\n\t\tshader.use()\r\n\t\tif (this.prim_type === gl.TRIANGLES) {\r\n\t\t\tlet draw_cnt = this.buffs[0].sz / this.buffs[0].single_vert_sz\r\n\t\t\tgl.drawArrays(this.prim_type, 0, draw_cnt)\r\n\t\t} else {\r\n\t\t\talert('bleep bloop errrorrr')\r\n\t\t}\r\n\t\t// gl.bindVertexArray(gl.defaultVao)\r\n\t}\r\n\r\n\tdraw(offs: number = 0) {\r\n\t\tthis.draw_with_external_shader(this.shader)\r\n\t}\r\n}\r\n","import {pause_on_gl_error} from 'gl_utils'\r\nimport {type AttribPointerParams} from './Thing'\r\n\r\nexport class UBO {\r\n\t// buff: WebGLBuffer = gl.createBuffer() as WebGLBuffer\r\n\tbuff: VertexBuffer\r\n\tuniforms: (number | string)[] = []\r\n\tconstructor() {\r\n\t\t// gl.bindBuffer(gl.UNIFORM_BUFFER, this.buff)\r\n\t\t// gl.bufferData(gl.UNIFORM_BUFFER, 32 * 4, gl.DYNAMIC_DRAW)\r\n\t\t// this.buff = new VertexBuffer(0, gl.FLOAT, 32 * 4 * 4 * 4, gl.UNIFORM_BUFFER)\r\n\t\tthis.buff = new VertexBuffer(0, gl.FLOAT, 96, gl.UNIFORM_BUFFER)\r\n\t\tgl.bindBufferBase(gl.UNIFORM_BUFFER, 0, this.buff.buff)\r\n\t}\r\n}\r\n\r\nexport class VertexBuffer {\r\n\tbuff: WebGLBuffer\r\n\r\n\tcpu_buff: Float32Array | Int32Array | Uint32Array\r\n\ttype: number\r\n\tusage: number\r\n\r\n\tstride: number\r\n\tsingle_vert_sz: number\r\n\tsz: number\r\n\tmax_sz: number\r\n\r\n\tconstructor(single_vert_sz: number, type: number = gl.FLOAT, max_size: number = 10000000, usage: number = gl.ARRAY_BUFFER) {\r\n\t\tlet i = \"asdg\"\r\n\t\tthis.buff = gl.createBuffer() as WebGLBuffer\r\n\t\tthis.usage = usage\r\n\t\tgl.bindBuffer(usage, this.buff)\r\n\t\tthis.type = type\r\n\r\n\t\tthis.single_vert_sz = single_vert_sz\r\n\t\tthis.max_sz = max_size\r\n\t\tthis.stride = 0\r\n\r\n\t\tif (type === gl.FLOAT) {\r\n\t\t\tthis.cpu_buff = new Float32Array(max_size)\r\n\t\t} else if (type === gl.INT) {\r\n\t\t\tthis.cpu_buff = new Int32Array(max_size)\r\n\t\t} else {\r\n\t\t\tthis.cpu_buff = new Uint32Array(max_size)\r\n\t\t}\r\n\r\n\t\t// gl.bufferData(gl.ARRAY_BUFFER, this.cpu_buff, gl.DYNAMIC_DRAW)\r\n\t\t// gl.bufferData(usage, this.cpu_buff.length * this.cpu_buff.BYTES_PER_ELEMENT, gl.DYNAMIC_DRAW)\r\n\t\tgl.bufferData(usage, this.cpu_buff.byteLength, gl.DYNAMIC_DRAW)\r\n\t\tthis.sz = this.cpu_buff.length / 4\r\n\t}\r\n\r\n\tbindToAttrib(idx: number, params: AttribPointerParams | undefined = undefined) {\r\n\t\tif (params) {\r\n\t\t\tgl.bindBuffer(this.usage, this.buff)\r\n\t\t\tgl.vertexAttribPointer(\r\n\t\t\t\tidx,\r\n\t\t\t\tparams.vert_sz ?? this.single_vert_sz,\r\n\t\t\t\tparams.type ?? this.type,\r\n\t\t\t\tfalse,\r\n\t\t\t\tparams.stride ?? this.stride,\r\n\t\t\t\tparams.offset ?? 0,\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\tgl.bindBuffer(this.usage, this.buff)\r\n\t\t\tgl.vertexAttribPointer(idx, this.single_vert_sz, this.type, false, this.stride, 0)\r\n\t\t}\r\n\t}\r\n\tpush_vert(vert: number[]) {\r\n\t\tif (vert.length !== this.single_vert_sz) {\r\n\t\t\t// debugger\r\n\t\t}\r\n\t\tfor (let v of vert) {\r\n\t\t\tthis.cpu_buff[this.sz++] = v\r\n\t\t}\r\n\t}\r\n\tupload_external_array(input_buff: number[] | Float32Array) {\r\n\t\tif (input_buff instanceof Array) {\r\n\t\t\tgl.bindBuffer(this.usage, this.buff)\r\n\t\t\tlet _buff = Float32Array.from(input_buff)\r\n\t\t\tthis.sz = _buff.length\r\n\t\t\t// const sz_in_bytes = _buff.length * _buff.BYTES_PER_ELEMENT\r\n\t\t\tconst sz_in_bytes = _buff.byteLength\r\n\r\n\t\t\t// console.log('BEGIN BUFF PRINT')\r\n\t\t\t// console.log(_buff)\r\n\t\t\t// console.log('len')\r\n\t\t\t// console.log(_buff.length)\r\n\t\t\t// console.log('sz byes')\r\n\t\t\t// console.log(sz_in_bytes)\r\n\t\t\t// if (_buff.length > 0) gl.bufferData(gl.ARRAY_BUFFER, _buff, gl.DYNAMIC_DRAW, 0, sz_in_bytes)\r\n\t\t\t// if (_buff.length > 0) gl.bufferData(gl.ARRAY_BUFFER, _buff, gl.DYNAMIC_DRAW, 0)\r\n\t\t\t// if (_buff.length > 0) gl.bufferData(gl.ARRAY_BUFFER, _buff, gl.DYNAMIC_DRAW, 0, sz_in_bytes)\r\n\t\t\t// gl.bufferData(gl.ARRAY_BUFFER, _buff, gl.DYNAMIC_DRAW, 0, sz_in_bytes)\r\n\r\n\t\t\t// gl.bufferSubData(this.usage, 0, _buff, 0, sz_in_bytes)\r\n\t\t\tgl.bufferSubData(this.usage, 0, _buff)\r\n\t\t\tpause_on_gl_error()\r\n\t\t} else {\r\n\t\t\tgl.bindBuffer(this.usage, this.buff)\r\n\t\t\t// const sz_in_bytes = input_buff.length * input_buff.BYTES_PER_ELEMENT\r\n\t\t\tconst sz_in_bytes = input_buff.byteLength\r\n\t\t\t// gl.bufferData(gl.ARRAY_BUFFER, input_buff, gl.DYNAMIC_DRAW, 0, sz_in_bytes)\r\n\t\t\t// gl.bufferSubData(gl.ARRAY_BUFFER, 0, input_buff, 0, sz_in_bytes)\r\n\t\t\t// gl.bufferData(gl.ARRAY_BUFFER, sz_in_bytes, gl.DYNAMIC_DRAW)\r\n\t\t\t// gl.bufferSubData(gl.ARRAY_BUFFER, 0, input_buff, 0, sz_in_bytes)\r\n\t\t\tgl.bufferSubData(this.usage, 0, input_buff)\r\n\r\n\t\t\t// gl.bufferSubData(gl.ARRAY_BUFFER,0, input_buff.buffer, gl.DYNAMIC_DRAW)\r\n\t\t\t// @ts-ignore\r\n\t\t\t// gl.bufferSubData(gl.ARRAY_BUFFER, input_buff.buffer, gl.DYNAMIC_DRAW)\r\n\t\t\tpause_on_gl_error()\r\n\t\t}\r\n\t}\r\n\tupload() {\r\n\t\tgl.bindBuffer(this.usage, this.buff)\r\n\t\tconst sz_in_bytes = this.sz * this.cpu_buff.BYTES_PER_ELEMENT\r\n\t\t// gl.bufferData(gl.ARRAY_BUFFER, this.cpu_buff, gl.DYNAMIC_DRAW, 0, sz_in_bytes)\r\n\t\tgl.bufferSubData(this.usage, 0, this.cpu_buff, 0, sz_in_bytes)\r\n\t\tpause_on_gl_error()\r\n\t}\r\n}\r\n","<svelte:head>\r\n\t{#if $dark_mode}\r\n\t<style>\r\n\t\t*{\r\n\t\t}\r\n\t\t/* *{\r\n\t\t\t--accent-light: white !important;\r\n\t\t\t--accent-dark: black !important;\r\n\t\t} */\r\n\t\t#toggle-container svg {\r\n\t\t\t\tbackground: var(--accent-light);\r\n\t\t\t\tfill:var(--accent-dark);\r\n\t\t\t\tfilter: invert(1);\r\n\t\t\t\t&:active{\r\n\t\t\t\t\tfilter: invert(0) !important;\r\n\t\t\t\t\t/* background: var(--accent-light); */\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t</style>\r\n\t{/if}\r\n</svelte:head>\r\n<div style=\"width: 100%; height: 100%;\">\r\n\t<main>\r\n\t\t\t<Bar />\r\n\t\t\t<Footer />\r\n\t</main>\r\n\t<canvas draggable=\"false\" id=\"canvas\" bind:this={canvasElement} />\r\n</div>\r\n\r\n\r\n<script lang=\"ts\">\r\n\timport \"./utils/wave-audio-path-player.es\"\r\n\timport {onMount} from 'svelte'\r\n\timport {onDestroy} from 'svelte'\r\n\r\n\timport {resizeIfNeeded as resizeFramebuffersIfNeeded, init_gl_error_handling} from 'gl_utils'\r\n\r\n\timport { Framebuffer } from 'gl/Framebuffer'\r\n\timport { VertexBuffer, UBO } from 'gl/Buffer'\r\n\timport { Texture } from 'gl/Texture'\r\n\timport { ShaderProgram } from 'gl/ShaderProgram'\r\n\timport { Thing } from 'gl/Thing'\r\n\t\r\n\timport Bar from \"./utils/NavBar.svelte\"\r\n\timport Footer from './utils/Footer.svelte'\r\n\r\n\t\r\n\timport { Hash, lerp, min, smoothstep } from 'wmath'\r\n\timport { dark_mode } from \"store\"\r\n\t\r\n\texport let url = \"/\";\r\n\t// import Dexie, { type DBCoreRangeType } from \"dexie\"\r\n\t$: path_name = location.pathname \r\n\r\n\t// GL stuff\r\n\tlet canvasElement: HTMLCanvasElement\r\n\tlet gl: WebGL2RenderingContext\r\n\tlet default_framebuffer: Framebuffer\r\n\tlet fb_a: Framebuffer\r\n\tlet fb_b: Framebuffer\r\n\tlet fb_c: Framebuffer\r\n\tlet ubo: UBO\r\n\r\n\tlet t: number = 0\r\n\r\n\tconsole.log(path_name)\r\n\tconst init_web_gl = () => {\r\n\t\twindow.gl = gl = canvasElement.getContext('webgl2', {\r\n\t\t\tpreserveDrawingBuffer: false,\r\n\t\t\talpha: false,\r\n\t\t\tpremultipliedAlpha: false,\r\n\t\t\tantialias: true\r\n\t\t}) as WebGL2RenderingContext\r\n\t\tgl.getExtension('OES_texture_float');\r\n\t\tgl.getExtension('OES_texture_float_linear');\r\n\t\tgl.getExtension('EXT_color_buffer_float');\r\n\r\n\r\n\t\tgl.debugEnabled = process.env.NODE_ENV === 'development'\r\n\t\tgl.debugEnabled = false\r\n\t\tinit_gl_error_handling()\r\n\r\n\t\tconst user_agent_res = [canvasElement.clientWidth, canvasElement.clientWidth]\r\n\r\n\t\tdefault_framebuffer = Object.create(Framebuffer.prototype)\r\n\t\tdefault_framebuffer.default = true\r\n\t\tdefault_framebuffer.pongable = false\r\n\t\tdefault_framebuffer.needs_pong = false\r\n\t\tdefault_framebuffer.pong_idx = 0\r\n\t\t// @ts-ignore\r\n\t\tdefault_framebuffer._fb = null\r\n\t\tdefault_framebuffer._textures = [Object.create(Texture.prototype)]\r\n\t\tdefault_framebuffer.textures[0].res = [...user_agent_res]\r\n\r\n\t\tdefault_framebuffer.bind()\r\n\r\n\t\tfb_a = new Framebuffer([\r\n\t\t\tnew Texture([...user_agent_res], gl.RGBA8) \r\n\t\t], true)\r\n\t\tfb_b = new Framebuffer([\r\n\t\t\tnew Texture([...user_agent_res], gl.RGBA8) \r\n\t\t], false)\r\n\t\tfb_c = new Framebuffer([\r\n\t\t\tnew Texture([...user_agent_res], gl.RGBA16F) \r\n\t\t], true)\r\n\t\t\r\n\r\n\r\n\t\tubo = new UBO()\r\n\t\twindow.ubo = ubo\r\n\t\t\r\n\r\n\t\tresizeFramebuffersIfNeeded(canvasElement, default_framebuffer, user_agent_res)\r\n\r\n\t\tgl.disable(gl.CULL_FACE)\r\n\t\tgl.disable(gl.DEPTH_TEST)\r\n\t\tgl.enable(gl.BLEND)\r\n\t\tgl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA,);\r\n\t\tgl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD) \r\n\t\tgl.clearColor(0,0,0,0);\r\n\t\t\r\n\t\t// gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA,);\r\n\t\t// gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD) \r\n\t}\r\n\r\n\tonMount(async () => {\r\n\t\tinit_web_gl()\r\n\r\n\t\t// default_framebuffer.bind()\r\n\t\t// default_framebuffer.clear([0, 0, 0, 1])\r\n \r\n\t\t// const blobs = new ShaderProgram(\"\")\r\n\t\tconst blobs_program = new ShaderProgram(require('shaders/fullscreen.vert'), require('shaders/blobs.frag'))\r\n\t\tconst lines_program = new ShaderProgram(require('shaders/lines.vert'), require('shaders/lines.frag'))\r\n\t\tconst feedback_program = new ShaderProgram(require('shaders/fullscreen.vert'), require('shaders/feedback.frag'))\r\n\t\tconst post_program = new ShaderProgram(require('shaders/fullscreen.vert'), require('shaders/post_canvas.frag'))\r\n\t\t\r\n\t\tpost_program.use()\r\n\t\tgl.uniform1i(gl.getUniformLocation(post_program.program, \"fb_a\"), 0)\r\n\t\tgl.uniform1i(gl.getUniformLocation(post_program.program, \"fb_b\"), 1)\r\n\t\tgl.uniform1i(gl.getUniformLocation(post_program.program, \"noise_tex\"), 2)\r\n\r\n\t\tblobs_program.use()\r\n\t\tgl.uniform1i(gl.getUniformLocation(blobs_program.program, \"fb_a\"), 0)\r\n\t\tgl.uniform1i(gl.getUniformLocation(blobs_program.program, \"fb_b\"), 1)\r\n\r\n\t\tfeedback_program.use()\r\n\t\tgl.uniform1i(gl.getUniformLocation(feedback_program.program, \"fb_a\"), 0)\r\n\t\tgl.uniform1i(gl.getUniformLocation(feedback_program.program, \"fb_b\"), 1)\r\n\r\n\r\n\t\tconst noise_tex = await Texture.from_image_path(window.LFS_PREPEND + require(\"../../public/images/noise_tex.webp\").default)\r\n\t\tnoise_tex.bind_to_unit(2)\r\n\r\n\r\n\t\tconst lines_buff = new VertexBuffer(\r\n\t\t\t4, gl.FLOAT, 10000\r\n\t\t)\r\n\t\t// lines_buff.sz = lines_buff.cpu_buff.length\r\n\t\tconst lines_thing = new Thing(\r\n\t\t\t[lines_buff], gl.TRIANGLES,lines_program\r\n\t\t)\r\n\t\t// gl.bindVertexArray(lines_buff.)\r\n\r\n\r\n\t\tconst desired_mouse_pos = [0,0]\r\n\t\tconst mouse_pos = [0,0]\r\n\t\tlet pointer_pressure = 0.\r\n\t\tlet pointer_down = false\r\n\t\tcanvasElement.addEventListener(\"pointerdown\", (e: PointerEvent) =>{\r\n\t\t\te.stopPropagation()\r\n\t\t})\r\n\t\twindow.addEventListener('pointerdown', (e: PointerEvent) => {\r\n\t\t\tpointer_down = true\r\n\t\t})\r\n\t\twindow.addEventListener('pointerup', (e: PointerEvent) => {\r\n\t\t\tpointer_down = false\r\n\t\t})\r\n\t\t// @ts-ignore\r\n\t\twindow.addEventListener('pointermove', (e: PointerEvent) => {\r\n\t\t\tconst gl = window.gl\r\n\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst rect = gl.canvas.getBoundingClientRect()\r\n\t\t\tconsole.log(rect)\r\n\r\n\r\n\t\t\t// @ts-ignore\r\n\t\t\tlet pos_x = ((e.clientX - rect.left) * gl.canvas.width) / gl.canvas.clientWidth\r\n\t\t\t// @ts-ignore\r\n\t\t\tlet pos_y = ((e.clientY - rect.top) * gl.canvas.height) / gl.canvas.clientHeight\r\n\r\n\t\t\tconst x = (pos_x / gl.canvas.width) * 2 - 1\r\n\t\t\tconst y = (pos_y / gl.canvas.height) * -2 + 1\r\n\r\n\t\t\tdesired_mouse_pos[0] = x\r\n\t\t\tdesired_mouse_pos[1] = y\r\n\t\t})\r\n\r\n\t\tconst set_shared_uniforms = () => {\r\n\t\t\tubo.buff.sz = 0\r\n\t\t\tubo.buff.cpu_buff[0] = canvasElement.width\r\n\t\t\tubo.buff.cpu_buff[1] = canvasElement.height\r\n\t\t\tubo.buff.cpu_buff[4] = t\r\n\t\t\tubo.buff.cpu_buff[5] = pointer_pressure\r\n\t\t\tubo.buff.cpu_buff[6] = mouse_pos[0]\r\n\t\t\tubo.buff.cpu_buff[7] = mouse_pos[1] \r\n\t\t\tubo.buff.cpu_buff[8] = $dark_mode ? 1 : 0\r\n\t\t\t// ubo.buff.cpu_buff[2] = default_framebuffer.textures[0].res[0]\r\n\t\t\t// ubo.buff.cpu_buff[3] = default_framebuffer.textures[0].res[1]\r\n\t\t\t// ubo.buff.cpu_buff[4] = isOnMobile ? 1 : 0\r\n\t\t\tubo.buff.upload()\r\n\t\t}\r\n\r\n\t\tlet frame = 0\r\n\r\n\t\tconst hash = new Hash()\r\n\r\n\t\t\r\n\r\n\t\tlet delta_t: number = 0\r\n\r\n\r\n\t\tconst gl_draw = (_t: number) => {\r\n\t\t\tconst new_t = _t / 1000\r\n\t\t\t// delta_t = (new_t - t)*(mouse_pos[1]*0.5 + 0.5)*2\r\n\t\t\tdelta_t = new_t - t\r\n\t\t\tt = new_t\r\n\t\t\thash.seed = 125125\r\n\t\t\tmouse_pos[0] = lerp(mouse_pos[0],desired_mouse_pos[0], min(delta_t,1))\r\n\t\t\tmouse_pos[1] = lerp(mouse_pos[1],desired_mouse_pos[1], min(delta_t,1))\r\n\t\t\t\r\n\t\t\tif(pointer_down){\r\n\t\t\t\tpointer_pressure = lerp(pointer_pressure, 1.,min(delta_t*4,1))\r\n\t\t\t} else {\r\n\t\t\t\tpointer_pressure = lerp(pointer_pressure, 0.,min(delta_t*4,1))\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tconst get_circ_pos_from_ang = (a: number) => {\r\n\t\t\t\tconst c = Math.cos(-a)\r\n\t\t\t\tconst s = Math.sin(-a)\r\n\t\t\t\treturn [c, s]\r\n\t\t\t}\r\n\t\t\tconst add_ang_to_pos = (\r\n\t\t\t\tpos: number[],\r\n\t\t\t\tang_offs: number[],\r\n\t\t\t\tpositive: boolean,\r\n\t\t\t\tamt: number,\r\n\t\t\t): number[] => {\r\n\t\t\t\tif (positive) {\r\n\t\t\t\t\tpos[0] += ang_offs[0] * amt\r\n\t\t\t\t\tpos[1] += ang_offs[1] * amt\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpos[0] -= ang_offs[0] * amt\r\n\t\t\t\t\tpos[1] -= ang_offs[1] * amt\r\n\t\t\t\t}\r\n\t\t\t\treturn pos\r\n\t\t\t}\r\n\r\n\t\t\tconst positions = new Float32Array(lines_buff.cpu_buff.length / 3 + 1)\r\n\r\n\t\t\tfor(let i = 0; i < positions.length/2 + 1; i++){\r\n\t\t\t\tconst pos = [\r\n\t\t\t\t\thash.valueNoise(i*0.26 + mouse_pos[0] + hash.valueNoise(t*0.25 + Math.sin(t*0.25))) * 2. - 1.,\r\n\t\t\t\t\thash.valueNoise(i*0.26 + 12512 + hash.valueNoise(t*0.5)) * 2. - 1.0,\r\n\t\t\t\t]\r\n\t\t\t\tif(pointer_pressure > 0.002){\r\n\t\t\t\t\tconst dir_vec_x = pos[0] - mouse_pos[0]\r\n\t\t\t\t\tconst dir_vec_y = pos[1] - mouse_pos[1]\r\n\t\t\t\t\tconst dir_vec_len = Math.sqrt(dir_vec_x * dir_vec_x + dir_vec_y * dir_vec_y)\r\n\t\t\t\t\tconst dir_vec_factor = smoothstep(0.4,0.,dir_vec_len)\r\n\t\t\t\t\t// console.log(pointer_pressure)\r\n\t\t\t\t\t// pointer_pressure = 1\r\n\t\t\t\t\tpos[0] += dir_vec_factor * dir_vec_x * pointer_pressure * 4\r\n\t\t\t\t\tpos[1] += dir_vec_factor * dir_vec_y * pointer_pressure * 4\r\n\t\t\t\t}\r\n\t\t\t\tpositions[i*2] = pos[0]\r\n\t\t\t\tpositions[i*2 + 1] = pos[1]\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst prev_pos = [0,0]\r\n\t\t\tfor(let i = 0; i < lines_buff.cpu_buff.length / 3 / 4 / 2; i++){\r\n\t\t\t\tconst step = 4 * 3 * 2\r\n\t\t\t\tlet idx = i * step\r\n\t\t\t\t\r\n\t\t\t\tlet curr_sz = hash.valueNoise(i)*0.04\r\n\t\t\t\tlet next_sz = hash.valueNoise(i)*0.04\r\n\r\n\t\t\t\tlet curr_ang = get_circ_pos_from_ang(0.4 + mouse_pos[1]*6)\r\n\t\t\t\tlet next_ang = get_circ_pos_from_ang(0.2 + mouse_pos[1]*6)\r\n\r\n\t\t\t\tlet curr_pos = [positions[i * 2], positions[i * 2 + 1]]\r\n\t\t\t\tlet next_pos = [positions[i * 2 + 2], positions[i * 2 + 3]]\r\n\r\n\t\t\t\tlet curr_pos_left = add_ang_to_pos([...curr_pos], curr_ang, true, curr_sz)\r\n\t\t\t\tlet curr_pos_right = add_ang_to_pos([...curr_pos], curr_ang, false, curr_sz)\r\n\r\n\t\t\t\tlet next_pos_left = add_ang_to_pos([...next_pos], next_ang, true, next_sz)\r\n\t\t\t\tlet next_pos_right = add_ang_to_pos([...next_pos], next_ang, false, next_sz)\r\n\r\n\t\t\t\tlines_buff.cpu_buff[idx] = curr_pos_left[0];\r\n\t\t\t\tlines_buff.cpu_buff[idx + 1] = curr_pos_left[1];\r\n\r\n\t\t\t\tlines_buff.cpu_buff[idx + 2] = 0;\r\n\t\t\t\tlines_buff.cpu_buff[idx + 3] = 0;\r\n\r\n\t\t\t\tlines_buff.cpu_buff[idx + 4] = curr_pos_right[0];\r\n\t\t\t\tlines_buff.cpu_buff[idx + 4 + 1] = curr_pos_right[1];\r\n\t\t\t\tlines_buff.cpu_buff[idx + 4 + 2] = 1;\r\n\t\t\t\tlines_buff.cpu_buff[idx + 4 + 3] = 0;\r\n\r\n\t\t\t\tlines_buff.cpu_buff[idx + 8] = next_pos_left[0];\r\n\t\t\t\tlines_buff.cpu_buff[idx + 8 + 1] = next_pos_left[1];\r\n\t\t\t\tlines_buff.cpu_buff[idx + 8 + 2] = 0;\r\n\t\t\t\tlines_buff.cpu_buff[idx + 8 + 3] = 1;\r\n\r\n\t\t\t\tidx += 12\r\n\r\n\t\t\t\tlines_buff.cpu_buff[idx] = next_pos_left[0];\r\n\t\t\t\tlines_buff.cpu_buff[idx + 1] = next_pos_left[1];\r\n\t\t\t\tlines_buff.cpu_buff[idx + 2] = 0;\r\n\t\t\t\tlines_buff.cpu_buff[idx + 3] = 1;\r\n\r\n\t\t\t\tlines_buff.cpu_buff[idx + 4] = curr_pos_right[0];\r\n\t\t\t\tlines_buff.cpu_buff[idx + 4 + 1] = curr_pos_right[1];\r\n\t\t\t\tlines_buff.cpu_buff[idx + 4 + 2] = 1;\r\n\t\t\t\tlines_buff.cpu_buff[idx + 4 + 3] = 0;\r\n\r\n\t\t\t\tconst mid_p_x = lerp(next_pos_left[0], curr_pos_right[0], 0.5)\r\n\t\t\t\tconst mid_p_y = lerp(next_pos_left[1], curr_pos_right[1], 0.5)\r\n\t\t\t\tlines_buff.cpu_buff[idx + 8] = lerp(next_pos_right[0], mid_p_x, 0.9);\r\n\t\t\t\tlines_buff.cpu_buff[idx + 8 + 1] = lerp(next_pos_right[1], mid_p_y, 0.9);\r\n\t\t\t\tlines_buff.cpu_buff[idx + 8 + 2] = 1;\r\n\t\t\t\tlines_buff.cpu_buff[idx + 8 + 3] = 1;\r\n\r\n\t\t\t\t// lines_buff.cpu_buff[i*4] = pos[0];\r\n\t\t\t\t// lines_buff.cpu_buff[i*4 + 1] = pos[1];\r\n\t\t\t}\r\n\t\t\tlines_buff.upload()\r\n\t\t\t\r\n\t\t\tset_shared_uniforms()\r\n\t\t\tresizeFramebuffersIfNeeded(\r\n\t\t\t\tcanvasElement, \r\n\t\t\t\tdefault_framebuffer, \r\n\t\t\t\tdefault_framebuffer._textures[0].res, \r\n\t\t\t)\r\n\r\n\t\t\tgl.viewport(0,0,canvasElement.width, canvasElement.height)\r\n\r\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, fb_a.fb)\r\n\t\t\tgl.clear(gl.COLOR_BUFFER_BIT)\r\n\t\t\tgl.useProgram(blobs_program.program)\r\n\t\t\tfb_a.back_textures[0].bind_to_unit(0)\r\n\t\t\tfb_c.textures[0].bind_to_unit(1)\r\n\t\t\tgl.drawArrays(gl.TRIANGLE_STRIP, 0, 4)\r\n\r\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, fb_b.fb)\r\n\t\t\tgl.clear(gl.COLOR_BUFFER_BIT)\r\n\t\t\tlines_thing.draw()\r\n\r\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, fb_c.fb)\r\n\t\t\tgl.clear(gl.COLOR_BUFFER_BIT)\r\n\t\t\tgl.useProgram(feedback_program.program)\r\n\t\t\tfb_c.back_textures[0].bind_to_unit(0)\r\n\t\t\tfb_b.textures[0].bind_to_unit(1)\r\n\t\t\tgl.drawArrays(gl.TRIANGLE_STRIP, 0, 4)\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null)\r\n\t\t\tgl.clear(gl.COLOR_BUFFER_BIT)\r\n\t\t\tgl.useProgram(post_program.program)\r\n\t\t\tfb_a.textures[0].bind_to_unit(0)\r\n\t\t\tfb_b.textures[0].bind_to_unit(1)\r\n\t\t\tgl.drawArrays(gl.TRIANGLE_STRIP, 0, 4)\r\n\r\n\r\n\t\t\tframe++\r\n\t\t\tfor (let framebuffer of Framebuffer.framebuffers) {\r\n\t\t\t\tif (framebuffer.pongable) {\r\n\t\t\t\t\tframebuffer.pong()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\trequestAnimationFrame(gl_draw)\r\n\t\t}\r\n\t\t;(() => {\r\n\t\t\tgl_draw(0)\r\n\t\t})()\r\n\t})\r\n\r\n\tonDestroy(() => {})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n\t// :global(*:not(#name)){\r\n\tmain :global(*){\r\n\t\tuser-select: none;\r\n\t}\r\n\t// }\r\n\tmain :global(*) {\r\n\t\tcolor: var(--accent-dark);\r\n\t\t&::selection {\r\n\t\t\tbackground: var(--accent-dark);\r\n\t\t\tcolor: var(--accent-light);\r\n\t\t}\r\n\t\t// #logo,.menu{\r\n\t}\r\n\t// main :global(.menu-item){\r\n\t// \tcolor: var(--accent-light);\r\n\t// \tbackground: var(--accent-dark);\r\n\t// \t&:hover{\r\n\t// \t\tcolor: var(--accent-dark) !important;\r\n\t// \t\tbackground: var(--accent-light);\r\n\t// \t}\r\n\t// }\r\n\t// :global(.menu-item)>div>div{\r\n\t// \t// color: red !important;\r\n\t// \t// background: red;\r\n\t// \t// color: var(--accent-light);\r\n\t// \t// background: var(--accent-dark);\r\n\t// \t// &:hover{\r\n\t// \t// \tcolor: var(--accent-dark) !important;\r\n\t// \t// \tbackground: var(--accent-light);\r\n\t// \t// }\r\n\t\t\r\n\t// }\r\n\tmain :global(#logo){\r\n\t\tcolor: var(--accent-light);\r\n\t\tbackground: var(--accent-dark);\r\n\t\t// color: red;\r\n\t\t// background: black;\r\n\t}\r\n\tmain {\r\n\t\twidth: 100%;\r\n\t\tmax-width: 40rem;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmax-width: var(--main-max-width);\r\n\t\tmargin-right: auto;\r\n\t\tmargin-left: auto;\r\n\t}\r\n\tcanvas {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n    left: 0;\r\n\t\tz-index: -5;\r\n\t\t// display: none;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\t// display: block;\r\n\t\tmargin: auto;\r\n\t\tpadding: 0;\r\n\t}\r\n</style>\r\n","\r\n<main>\r\n\t<Bar />\r\n\t<slot name=\"blog_post\"/>\r\n\t{#if !$$slots.blog_post}\r\n\t\t{#each Object.keys(window.BLOG_POSTS) as blog_post}\r\n\t\t\t<div class=\"blog-posts-container\">\r\n\t\t\t\t<div class=\"blog-post\">\r\n\t\t\t\t\t<!-- <a href={\"blog/\" + blog_post + window.is_dev ? \"html\" : \"\"} class=\"blog-post-name\"> -->\r\n\t\t\t\t\t<a href={`blog/${blog_post}${window.is_dev ? \".html\" : \"\"}`} class=\"blog-post-name\">\r\n\t\t\t\t\t\t{window.BLOG_POSTS[blog_post].title}\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<div class=\"blog-post-date\">\r\n\t\t\t\t\t\t{window.BLOG_POSTS[blog_post].date}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<wbr />\r\n\t\t\t\r\n\t\t{/each}\r\n\t<!-- amogus -->\r\n\r\n\t{/if}\r\n\t<Footer />\r\n</main>\r\n\r\n\r\n\r\n<script lang=\"ts\">\r\n\timport {onMount} from 'svelte'\r\n\timport {onDestroy} from 'svelte'\r\n\t// function requireAll(r) { r.keys().forEach(r); }\r\n\t// const a = requireAll(require.context('./', true, /\\.svelte$/));\r\n\t// console.log(a)\r\n\t// console.log(\"adgasdgasdgasdgasdgsdg\")\r\n\r\n\timport Bar from \"./utils/NavBar.svelte\"\r\n\timport Footer from './utils/Footer.svelte'\r\n\t\r\n\t\r\n\tonDestroy(() => {})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t:global(article){\r\n\t\tpadding-left: 1rem;\r\n    padding-right: 1rem;\r\n\t\tdisplay: flex;\r\n    flex-direction: column;\r\n\t\t// width: 100%;\r\n\t\twidth: -webkit-fill-available;\r\n\t\twidth: -moz-available;\r\n\t\twidth: fill-available;\r\n\t\tmax-width: 40rem;\r\n\t\tmin-height: 100%;\r\n\t\theight: fit-content;\r\n\t\t// overflow: scroll;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmax-width: var(--main-max-width);\r\n\t\tmargin-left: auto;\r\n    margin-right: auto;\r\n\t}\r\n\t:global(video, img) {\r\n\t\tmax-width: 30rem;\r\n\t\twidth: inherit;\r\n\t\tmargin-right: auto;\r\n\t\tmargin-left: auto !important;\r\n\t}\r\n  :global(.video-container){\r\n\t\theight: fit-content;\r\n    margin: 0px auto;\r\n    max-width: 30rem;\r\n    width: 30rem;\r\n\t\twidth: inherit;\r\n\t\tdisplay: table;\r\n    :global(div){\r\n      position: relative;\r\n      padding-bottom: 75%;\r\n      height: 0px;\r\n      :global(iframe){  \r\n        position: absolute;\r\n        top: 0px;\r\n        left: 0px;\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n    }\r\n  }\r\n\r\n\t:global(code, pre){\r\n\t\tfont-size: 0.8rem !important;\r\n\t}\r\n  :global( code, code *, pre ) {\r\n    // text-wrap: wrap !important;\r\n    // word-wrap: normal;\r\n    // word-break: normal;\r\n\t\toverflow-wrap: break-word;\r\n\t\tword-wrap: break-word;\r\n\t\t// word-break:;\r\n    white-space: normal;\r\n    overflow: auto;\r\n  }\r\n  :global(*::marker){\r\n    list-style-type: '👉';\r\n    // content: '✝ ';\r\n    // content: 'Ͱ ';\r\n    // content: 'Ѫ ';\r\n    content: '܀ ';\r\n    font-size: 1.5rem;\r\n    display: list-item;\r\n    padding-inline-start: 1ch;\r\n  }\r\n  :global(p){\r\n    margin-bottom: 0px;\r\n  }\r\n  :global(img){\r\n    max-width: 30rem;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n  }\r\n\r\n  :global(.date){\r\n    margin-left: auto;\r\n  }\r\n  :global(.video-container){\r\n    // width: 20rem;\r\n    // height: 20rem;\r\n    // max-width: 420px;\r\n    margin: 0px auto;\r\n    max-width: 30rem;\r\n    width: 30rem;\r\n    div{\r\n      // max-width: 30rem;\r\n      // min-width: 0px;\r\n      position: relative;\r\n      padding-bottom: 75%;\r\n      height: 0px;\r\n      \r\n      iframe{  \r\n        position: absolute;\r\n        top: 0px;\r\n        left: 0px;\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n    }\r\n  }\r\n\t.blog-posts-container{\r\n\t\tmargin-top: 1rem;\r\n\t\t.blog-post{\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\t.blog-post-name{\r\n\t\t\t\tfont-size: 2rem;\r\n\t\t\t}\r\n\t\t\t.blog-post-date{\r\n\t\t\t\tfont-size: 1.3rem;\r\n\t\t\t\tmargin-left: auto;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\nname{\r\n\t\tfont-weight: bolder;\r\n\t\tfont-size: 2rem;\r\n\t\tmargin-bottom: 1.0rem;\r\n\t\tmargin-top: 0.9rem;\r\n\t}\r\n\t.gallery{\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\twbr{\r\n\t\tdisplay: block;\r\n\t\theight: 0.02rem;\r\n\t\tmargin: none;\r\n\t\t// margin: none;\r\n\t}\r\n\t.description{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tfont-weight: var(--text-font-weight);\r\n\t\ta {\r\n\t\t\tfont-weight: var(--link-font-weight);\r\n\t\t}\r\n\t\t*{\r\n\t\t\tfont-weight: var(--text-font-weight);\r\n\t\t\tfont-size: 1.0rem;\r\n\t\t}\r\n\t}\r\n\tmain {\r\n\t\twidth: 100%;\r\n\t\tmax-width: 40rem;\r\n\t\tmin-height: 100%;\r\n\t\theight: fit-content;\r\n\t\t// overflow: scroll;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmax-width: var(--main-max-width);\r\n\t\tcanvas {\r\n\t\t\tdisplay: none;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\t// display: block;\r\n\t\t\tmargin: auto;\r\n\t\t\tpadding: 0;\r\n\t\t}\r\n\t}\r\n</style>\r\n\r\n","<svelte:head>\r\n\t<link rel=\"icon\" type=\"image/png\" href={`${window.LFS_PREPEND}/favicon-32.png`} sizes=\"32x32\" />\r\n\t<link rel=\"icon\" type=\"image/png\" href={`${window.LFS_PREPEND}/favicon-128.png`} sizes=\"128x128\" />\r\n</svelte:head>\r\n<div style=\"width: 100%; height: 100%;\">\r\n\t{#if path_name === \"/favdemos\" || path_name === \"/favdemos.html\" }\r\n\t\t<FavDemos/>\r\n\t{:else if path_name === \"/music\" || path_name === \"/music.html\" }\r\n\t\t<Music/>\r\n\t{:else if path_name === \"/favexegfx\" || path_name === \"/favexegfx.html\" }\r\n\t\t<ExeGfx/>\r\n\t{:else if path_name === \"/art\" || path_name === \"/art.html\" }\r\n\t\t<Art/>\r\n\t{:else if path_name === \"/projects\" || path_name === \"/projects.html\" }\r\n\t\t<Projects/>\r\n\t{:else if path_name === \"/about\" || path_name === \"/about.html\" }\r\n\t\t<About/>\r\n\t{:else if path_name === \"/blog\" || path_name === \"/blog.html\" }\r\n\t\t<Blog/>\r\n\t{:else if path_name.includes(\"/blog\") }\r\n<!-- WEBPACK_INSERT_BLOG_POSTS -->\n<!-- svelte-ignore empty-block -->\n{#if false}\n{:else if path_name === \"/blog/2023_08_18_forward_pathtracing_in_comp_shader\" || path_name === \"/blog/2023_08_18_forward_pathtracing_in_comp_shader.html\" }\n <Blog><L2023_08_18_forward_pathtracing_in_comp_shader slot=\"blog_post\" /></Blog>\n{:else if path_name === \"/blog/2023_08_17_flame_fractals_in_comp_shader\" || path_name === \"/blog/2023_08_17_flame_fractals_in_comp_shader.html\" }\n <Blog><L2023_08_17_flame_fractals_in_comp_shader slot=\"blog_post\" /></Blog>\n{/if}\n<!-- WEBPACK_INSERT_BLOG_POSTS -->\r\n\t{:else}\r\n\t\t<Splash/>\r\n\t{/if}\r\n</div>\r\n\r\n\r\n<script lang=\"ts\">\r\n\twindow.LFS_PREPEND = window.is_dev ? '' : 'https://media.githubusercontent.com/media/wrightwriter/wrightwriter.github.io/master/'\r\n\r\n\timport '../../public/style.scss'\r\n\timport \"./utils/wave-audio-path-player.es\"\r\n\r\n// WEBPACK_IMPORT_BLOG_POSTS\nimport L2023_08_18_forward_pathtracing_in_comp_shader from './blog/2023_08_18_forward_pathtracing_in_comp_shader.svelte'\nimport L2023_08_17_flame_fractals_in_comp_shader from './blog/2023_08_17_flame_fractals_in_comp_shader.svelte'\n\n// WEBPACK_IMPORT_BLOG_POSTS\r\n\t\r\n\timport FavDemos from './favdemosPage.svelte'\r\n\timport Music from './musicPage.svelte'\r\n\timport ExeGfx from './favexegfxPage.svelte'\r\n\timport Art from './artPage.svelte'\r\n\timport Projects from './projectsPage.svelte'\r\n\timport About from './aboutPage.svelte'\r\n\timport Splash from './Splash.svelte'\r\n\timport Blog from './blogPage.svelte'\r\n\tconsole.log(RESOURCES);\r\n\r\n  import lozad from 'lozad';\r\n\r\n  let observer = lozad();\r\n  observer.observe();\r\n\t\r\n\twindow.addEventListener('DOMContentLoaded', function() {\r\n\t\tobserver = lozad()\r\n\t\tobserver.observe()\r\n\t})\r\n\t\r\n\t\r\n\t// $: head_title = \"wrighter\" + location.pathname + location.hash\r\n\t$: head_title = \"\"\r\n\texport let url = \"/\";\r\n\t// import Dexie, { type DBCoreRangeType } from \"dexie\"\r\n\t$: path_name = location.pathname \r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t:global(brb){\r\n\t\tdisplay: block;\r\n\t\t// height: 2.4rem;\r\n\t\theight: 2.0rem;\r\n\t\t// margin: none;\r\n\t}\r\n\t:global(wbr){\r\n\t\tdisplay: block;\r\n\t\theight: 1.5rem !important;\r\n\t\t// margin: none;\r\n\t\t// margin: none;\r\n\t}\r\n\t:global(*) {\r\n\t\tfont-family: 'Petrona';\r\n\t\tfont-weight: 400;\r\n\t\tcolor: var(--accent-dark);\r\n\t\t&::selection {\r\n\t\t\tbackground: var(--accent-dark);\r\n\t\t\tcolor: var(--accent-light);\r\n\t\t}\r\n\t\t-webkit-tap-highlight-color: transparent;\r\n\t\t--main-max-width: 40rem;\r\n\t\t--text-font-weight: 500;\r\n\t\t--link-font-weight: 800;\r\n\t\t// --accent-light: black;\r\n\t\t// --accent-dark: white;\r\n\t\t// #logo,.menu{\r\n\t}\r\n\t:global(a){\r\n\t\ttext-decoration: underline;\r\n\t\ttext-decoration-style: dashed;\r\n\t\ttext-underline-offset: 0.2rem;\r\n\t\t&:hover{\r\n\t\t\tcolor: var(--accent-light) !important;\r\n\t\t\tbackground: var(--accent-dark);\r\n\t\t\ttext-decoration: none;\r\n\t\t\t*{\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t:global(a:hover *){\r\n\t\tcolor: var(--accent-light) !important;\r\n\t\ttext-decoration: none;\r\n\t}\r\n\t:global(.menu-item){\r\n\t\ttext-decoration: none;\r\n\t\tfont-weight: 900;\r\n\t}\r\n\t:global(#logo){\r\n\t\ttext-decoration: none;\r\n\t\t// color: red;\r\n\t\t// background: black;\r\n\t}\r\n\t:global(::-webkit-scrollbar) {\r\n\t\tbackground: var(--accent-dark);\r\n\t}\r\n\t:global(::-webkit-scrollbar-track) {\r\n\t\tbackground: var(--accent-light);\r\n\t}\r\n\t:global(::-webkit-scrollbar-thumb) {\r\n\t\tbackground: var(--accent-dark);\r\n\t}\r\n\t:global(*){\r\n\t\tscrollbar-color: var(--accent-dark) var(--accent-light);\r\n\t\tscrollbar-width: auto;\r\n\t\t// scrollbar-track-color: ;\r\n\t\t// scrollbar-width: 2rem;\r\n\t}\r\n\t:global(main>*){\r\n\t\tmargin-left: 1rem;\r\n\t}\r\n\t:global(main){\r\n\t\twidth: 100%;\r\n\t\tmax-width: 40rem;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmax-width: var(--main-max-width);\r\n\t\tmargin-right: auto;\r\n\t\tmargin-left: auto;\r\n\t}\r\n\tcanvas {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n    left: 0;\r\n\t\tz-index: -5;\r\n\t\t// display: none;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\t// display: block;\r\n\t\tmargin: auto;\r\n\t\tpadding: 0;\r\n\t}\r\n\t\r\n\t\r\n\tmain :global(.player *){\r\n\t}\r\n\t:global(.player::part(player) ){\r\n\t}\r\n\r\n\t:global(.player::part(play) ){\r\n\t\tstroke: black !important;\r\n\t}\r\n\t:global(.player::part(button) ){\r\n\t\tfill: black !important;\r\n\t}\r\n\r\n  :global(.player::part(duration)){\r\n\t\tdisplay: none;\r\n\t\tfont-family: 'Petrona' !important;\r\n\t}\r\n\t:global(.player::part(currenttime) ){\r\n\t\tdisplay: none;\r\n\t\tfont-weight: 400;\r\n\t}\r\n\t:global(.player::part(input) ){\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t:global(.player::part(slider) ){\r\n\t}\r\n\t:global(.player::part(path1) ){\r\n\t}\r\n\r\n\t:global(.player::part(path2) ){\r\n\t\tstroke: black !important;\r\n\t}\r\n</style>\r\n","// import '../public/Petrona-VariableFont_wght.ttf'\r\n// import '../public/Petrona-Italic-VariableFont_wght.ttf'\r\n\r\nimport App from './components/App.svelte'\r\n\r\nwindow.is_dev = process.env.NODE_ENV === 'development'\r\n// window.is_dev = false\r\n// window.LFS_PREPEND = 'https://media.githubusercontent.com/media/wrightwriter/wrightwriter.github.io/master/'\r\n// window.LFS_PREPEND = is_dev ? '' : 'https://media.githubusercontent.com/media/wrightwriter/wrightwriter.github.io/master/'\r\nwindow.RESOURCES = RESOURCES\r\nwindow.BLOG_POSTS = BLOG_POSTS\r\nwindow.DARK_MODE = false\r\n\r\nconst app = new App({\r\n\ttarget: document.body,\r\n\tprops: {},\r\n})\r\n\r\nexport default app\r\n"],"names":[],"sourceRoot":""}